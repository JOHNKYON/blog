{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/images/leetcode17_1.png","path":"images/leetcode17_1.png","modified":1,"renderable":0},{"_id":"source/images/leetcode753_1.png","path":"images/leetcode753_1.png","modified":1,"renderable":0},{"_id":"source/images/leetcode753_2.png","path":"images/leetcode753_2.png","modified":1,"renderable":0},{"_id":"source/images/leetcode17_2.png","path":"images/leetcode17_2.png","modified":1,"renderable":0},{"_id":"source/images/github_project/1.png","path":"images/github_project/1.png","modified":1,"renderable":0},{"_id":"source/images/github_project/3.png","path":"images/github_project/3.png","modified":1,"renderable":0},{"_id":"source/images/jobhunt/leetcode3.png","path":"images/jobhunt/leetcode3.png","modified":1,"renderable":0},{"_id":"source/images/jobhunt/leetcode1.png","path":"images/jobhunt/leetcode1.png","modified":1,"renderable":0},{"_id":"source/images/kick2019roundD/1.png","path":"images/kick2019roundD/1.png","modified":1,"renderable":0},{"_id":"source/images/kick2019roundD/3.png","path":"images/kick2019roundD/3.png","modified":1,"renderable":0},{"_id":"source/images/kick2019roundD/2.png","path":"images/kick2019roundD/2.png","modified":1,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":1,"renderable":1},{"_id":"source/images/jobhunt/leetcode2.png","path":"images/jobhunt/leetcode2.png","modified":1,"renderable":0},{"_id":"source/images/jobhunt/leetcode0.png","path":"images/jobhunt/leetcode0.png","modified":1,"renderable":0},{"_id":"source/images/github_project/2.png","path":"images/github_project/2.png","modified":1,"renderable":0},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":1,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"3bb97e106b238801ea4924f6866bfb6a0fdd9e74","modified":1526014748744},{"_id":"themes/next/.DS_Store","hash":"be4c34505f71efd3ed61394c20beab761295f98e","modified":1526310581762},{"_id":"themes/next/.gitattributes","hash":"44bd4729c74ccb88110804f41746fec07bf487d4","modified":1521703073000},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1521703073000},{"_id":"themes/next/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1521703073000},{"_id":"themes/next/.hound.yml","hash":"b76daa84c9ca3ad292c78412603370a367cc2bc3","modified":1521703073000},{"_id":"themes/next/.gitignore","hash":"a18c2e83bb20991b899b58e6aeadcb87dd8aa16e","modified":1521703073000},{"_id":"themes/next/.javascript_ignore","hash":"8a224b381155f10e6eb132a4d815c5b52962a9d1","modified":1521703073000},{"_id":"themes/next/.jshintrc","hash":"9928f81bd822f6a8d67fdbc909b517178533bca9","modified":1521703073000},{"_id":"themes/next/.travis.yml","hash":"d60d4a5375fea23d53b2156b764a99b2e56fa660","modified":1521703073000},{"_id":"themes/next/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1521703073000},{"_id":"themes/next/LICENSE.md","hash":"fc7227c508af3351120181cbf2f9b99dc41f063e","modified":1521703073000},{"_id":"themes/next/README.md","hash":"8ae619024365621114e7ec7ba1fae5833cbd0cb9","modified":1521703073000},{"_id":"themes/next/bower.json","hash":"b133dd92c7a825745a3b74474c2d738d9fd8ff07","modified":1521703073000},{"_id":"themes/next/_config.yml","hash":"4045bbb1c0130d1d25114742da3c7c4c3bf072e7","modified":1544510889031},{"_id":"themes/next/crowdin.yml","hash":"fe22a450cc1272b7ac5476e6b33a999f8b8a2034","modified":1521703073000},{"_id":"themes/next/gulpfile.coffee","hash":"48d2f9fa88a4210308fc41cc7d3f6d53989f71b7","modified":1521703073000},{"_id":"themes/next/package.json","hash":"77f15fd8e1bf54fe9e04513e38a70823225256cc","modified":1521703073000},{"_id":"source/_posts/DP1.md","hash":"6df4955066d6ef3e1746985efa1d5bc73743763e","modified":1529505231214},{"_id":"source/_drafts/EventandProbability.md","hash":"955f691de75e879610d6c930f235e7462469b63c","modified":1524814361305},{"_id":"source/_drafts/adaptive-bloom-filter.md","hash":"aba3d2e6c25f960f34a4def4c2f278ac1207be4a","modified":1530428843381},{"_id":"source/_posts/DiscreteRandomVariablesAndExpectation.md","hash":"231612e2f6e8fe53e97bd707cd9ca25743d2e5a5","modified":1528818620922},{"_id":"source/_posts/FirstBlog.md","hash":"1737f1762eb798df9c276c447cf133a59c46c1a9","modified":1524814361305},{"_id":"source/_posts/Github-Project.md","hash":"c1c8a4f8dd9792cfb574b20b01cbd1cdb7077458","modified":1526311085366},{"_id":"source/_posts/Letter-Combinations-of-a-Phone-Number.md","hash":"8170b473e34084bef44c015944a669c331caa757","modified":1535631214193},{"_id":"source/_posts/job-hunting-Tokyo.md","hash":"83feff7f1c6a59623028ce237cef6d3682b0cb09","modified":1557157920685},{"_id":"source/_posts/kickstart-D-1.md","hash":"0fcf7229929e4a42fc9cc0e2f6dd43da2edd8433","modified":1564664752726},{"_id":"source/_posts/kick.md","hash":"fadbf34f93fa876a175bfa6afa9148e52d3f208c","modified":1554042788491},{"_id":"source/_posts/job-hunting-Tokyo2.md","hash":"96db9375026d21292a2ff411f679ed1279cc93a3","modified":1557507071619},{"_id":"source/_posts/leetcode753.md","hash":"d5365f3aef13828255d0728a5f3db9a49eb17eb6","modified":1535635218084},{"_id":"source/_posts/multiThread.md","hash":"d2429a716170186cbb67bc9a00b5a5bb5879a2b6","modified":1557845355668},{"_id":"source/_posts/python0.md","hash":"c558552554bbccd477e4c44ef7d4f359759c703b","modified":1540730054313},{"_id":"source/_posts/python2.md","hash":"e43dc0b3a155292fe8afc0ae84481a8807c8e890","modified":1554019861178},{"_id":"source/categories/index.md","hash":"18b0b2d04d81bf7a5e7c20e15aab5862ce42e107","modified":1526294164345},{"_id":"source/_posts/python1.md","hash":"9279dff04c0774995728785cef0260ad4f488af4","modified":1554019720739},{"_id":"source/tags/index.md","hash":"bd4c9cb3dfe02b2698c0ba73847cdd4a6c2d3742","modified":1526294161738},{"_id":"source/images/.DS_Store","hash":"fbb9cd1f600aa0c189d3fd8aa7e0bcda8de183da","modified":1526014767218},{"_id":"source/images/leetcode17_1.png","hash":"61b9d0589157ce190e6f5bf9b503b4a4deefc0dc","modified":1524814361306},{"_id":"source/images/leetcode753_1.png","hash":"59cb11c30e0fbc634d2be79e1810a8aeb62b69e3","modified":1535630394354},{"_id":"source/images/leetcode753_2.png","hash":"4502ebdca670d34e88d6283ca9f7678f7d928150","modified":1535634839119},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"00c25366764e6b9ccb40b877c60dc13b2916bbf7","modified":1521703073000},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"476c9bb6616818be9d86567ad4e2e539c0e0da2f","modified":1521703073000},{"_id":"themes/next/.github/browserstack_logo.png","hash":"a6c43887f64a7f48a2814e3714eaa1215e542037","modified":1521703073000},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"7abbb4c8a29b2c14e576a00f53dbc0b4f5669c13","modified":1521703073000},{"_id":"themes/next/.github/stale.yml","hash":"1bbdd20d025010ec57225712be82988a26485836","modified":1521703073000},{"_id":"themes/next/docs/ALGOLIA-SEARCH.md","hash":"141e989844d0b5ae2e09fb162a280715afb39b0d","modified":1521703073000},{"_id":"themes/next/docs/AUTHORS.md","hash":"7b24be2891167bdedb9284a682c2344ec63e50b5","modified":1521703073000},{"_id":"themes/next/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1521703073000},{"_id":"themes/next/docs/DATA-FILES.md","hash":"8e1962dd3e1b700169b3ae5bba43992f100651ce","modified":1521703073000},{"_id":"themes/next/docs/LEANCLOUD-COUNTER-SECURITY.md","hash":"9f90a1a2df8c54edd3c8d99714ef0ce175983938","modified":1521703073000},{"_id":"themes/next/docs/LICENSE","hash":"fe607fe22fc9308f6434b892a7f2d2c5514b8f0d","modified":1521703073000},{"_id":"themes/next/docs/INSTALLATION.md","hash":"2bbdd6c1751b2b42ce9b9335da420c6026a483e9","modified":1521703073000},{"_id":"themes/next/docs/MATH.md","hash":"d047b8a3d9aa49b478a33e5a326195d460cb4589","modified":1521703073000},{"_id":"themes/next/docs/UPDATE-FROM-5.1.X.md","hash":"ad57c168d12ba01cf144a1ea0627b2ffd1847d3e","modified":1521703073000},{"_id":"themes/next/languages/_en.yml","hash":"2397256c752276df666c1ff579902abb367b2380","modified":1521703073000},{"_id":"themes/next/languages/ar.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/bn.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/bg.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/de.yml","hash":"f4dc655d4bd396b9c309da2a99b42c0456c3fe16","modified":1521703073000},{"_id":"themes/next/languages/da.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/el.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/cs.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/et.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/fa.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/fi.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/es.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/hr.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/he.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/fr.yml","hash":"dacb82b46d7b79656cdb75768a031fa73f178477","modified":1521703073000},{"_id":"themes/next/languages/hi.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/hu.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/id.yml","hash":"c89ef3ed946a150f052f470f71393db6a6d3acaa","modified":1521703073000},{"_id":"themes/next/languages/ja.yml","hash":"02029ef467628369a88d1022746b861dca3fb921","modified":1521703073000},{"_id":"themes/next/languages/it.yml","hash":"f0fb26ab84e5d0508ddc07bd67d581033520bb43","modified":1521703073000},{"_id":"themes/next/languages/jv.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/ko.yml","hash":"c95a00066bda4c04ce7bf65f8bf08e82c4d8fbcf","modified":1521703073000},{"_id":"themes/next/languages/ms.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/lv.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/nl.yml","hash":"8fc1165a138081d25ff4c171dea2980ce71fe2b0","modified":1521703073000},{"_id":"themes/next/languages/lt.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/pa.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/pt-BR.yml","hash":"268188db09c6779a570c8fc647ccc1a73322476c","modified":1521703073000},{"_id":"themes/next/languages/no.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/pl.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/ro.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/pt.yml","hash":"d8898007460ec50eb9969ba38d1b030613260ce7","modified":1521703073000},{"_id":"themes/next/languages/sl.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/ru.yml","hash":"26ae39b50887dcf0bf3ca3d820e5382fc11cc996","modified":1521703073000},{"_id":"themes/next/languages/sr.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/th.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/tr.yml","hash":"efc298288935bf892efc9707b1ae4ea92d5fb7b4","modified":1521703073000},{"_id":"themes/next/languages/sv.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/vi.yml","hash":"7792081d90122327f913f224f31965460936df5a","modified":1521703073000},{"_id":"themes/next/languages/zh-CN.yml","hash":"182c3915292297c82a862b4c87dd5847e87a3c17","modified":1521703073000},{"_id":"themes/next/languages/zh-TW.yml","hash":"1f025215f1ac03dd4db9b4f87aa393ee43494bc3","modified":1521703073000},{"_id":"themes/next/languages/uk.yml","hash":"e1abab282917fcad60368e7e754ba1a70f888f38","modified":1521703073000},{"_id":"themes/next/languages/zh-HK.yml","hash":"f7b3304e44959f74149a01d5f140fef64bfb3fa1","modified":1521703073000},{"_id":"themes/next/layout/_layout.swig","hash":"5803acd1f338db83a3b8d99eebbf163083e02520","modified":1521703073000},{"_id":"themes/next/layout/category.swig","hash":"4472255f4a3e3dd6d79201523a9526dcabdfbf18","modified":1521703073000},{"_id":"themes/next/layout/archive.swig","hash":"833a2213d31be45a12b8e4e5e609073978bd251b","modified":1521703073000},{"_id":"themes/next/layout/index.swig","hash":"783611349c941848a0e26ee2f1dc44dd14879bd1","modified":1521703073000},{"_id":"themes/next/layout/page.swig","hash":"3f9b2444f12251727ebbc28159f02e9e9489742e","modified":1521703073000},{"_id":"themes/next/scripts/merge-configs.js","hash":"ca9845dc76f5710b4c6fba5fe25ff0d2fcf0adaa","modified":1521703073000},{"_id":"themes/next/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1521703073000},{"_id":"themes/next/layout/schedule.swig","hash":"d86f8de4e118f8c4d778b285c140474084a271db","modified":1521703073000},{"_id":"themes/next/layout/post.swig","hash":"8e2d079b46076996cc9343213d5bf7da8178d32d","modified":1521703073000},{"_id":"themes/next/layout/tag.swig","hash":"7e0a7d7d832883eddb1297483ad22c184e4368de","modified":1521703073000},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1521703073000},{"_id":"themes/next/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1521703073000},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1521703073000},{"_id":"source/images/leetcode17_2.png","hash":"a3507576d5b8062ee50d4905d94fa057562cb7e8","modified":1526014713829},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1521703073000},{"_id":"source/images/github_project/1.png","hash":"67652b767166902aa54a229f030b7f2f0dc5de52","modified":1525845192683},{"_id":"source/images/github_project/3.png","hash":"a7a5b526510a3154148fde3986f40e412138705d","modified":1525845696097},{"_id":"source/images/jobhunt/leetcode3.png","hash":"ac2a65f5615ff197f1f7fca44314d0e8bda24ca8","modified":1557503314553},{"_id":"source/images/jobhunt/leetcode1.png","hash":"b789b15765d6081adff3732981b51a11db799364","modified":1557481856039},{"_id":"source/images/kick2019roundD/1.png","hash":"43d88d5a08889200df06d0d551688a16d3026663","modified":1564637099699},{"_id":"source/images/kick2019roundD/3.png","hash":"3936910c5f74e98d50ff4cdd5d235ecf615ae74c","modified":1564643631080},{"_id":"source/images/kick2019roundD/2.png","hash":"340c877b09c56b35d6b24242c53b214e229d10d2","modified":1564643607323},{"_id":"themes/next/docs/ru/INSTALLATION.md","hash":"6c5d69e94961c793da156217ecf1179e868d7ba1","modified":1521703073000},{"_id":"themes/next/docs/ru/DATA-FILES.md","hash":"d6d20f60f77a76c77f8e65d0c9adbd79d0274557","modified":1521703073000},{"_id":"themes/next/docs/ru/UPDATE-FROM-5.1.X.md","hash":"b1dd18d9b890b21718883ea1832e7e02a773104a","modified":1521703073000},{"_id":"themes/next/docs/ru/README.md","hash":"ff13616581bab8c836505e11bd425a6cbf0ce4ff","modified":1521703073000},{"_id":"themes/next/docs/zh-CN/CONTRIBUTING.md","hash":"98ef4dc1a7a12320211ffb36d264cd86ffcce0dd","modified":1521703073000},{"_id":"themes/next/docs/zh-CN/ALGOLIA-SEARCH.md","hash":"6855402e2ef59aae307e8bd2a990647d3a605eb8","modified":1521703073000},{"_id":"themes/next/docs/zh-CN/INSTALLATION.md","hash":"b19a6e0ae96eb7c756fb5b1ba03934c7f9cbb3c3","modified":1521703073000},{"_id":"themes/next/docs/zh-CN/DATA-FILES.md","hash":"f3eec572a7d83542e2710a7404082014aaa1a5e7","modified":1521703073000},{"_id":"themes/next/docs/zh-CN/MATH.md","hash":"1c7df019737656fdfd8d124c7c045a64ac8a2a8d","modified":1521703073000},{"_id":"themes/next/docs/zh-CN/LEANCLOUD-COUNTER-SECURITY.md","hash":"cbb419ccef174ef1a3fff5fc74261c600fdeec0e","modified":1521703073000},{"_id":"themes/next/docs/zh-CN/UPDATE-FROM-5.1.X.md","hash":"c1ba919f70efe87a39e6217883e1625af0b2c23c","modified":1521703073000},{"_id":"themes/next/docs/zh-CN/README.md","hash":"24753b3ddc287519252a25ee0496e83db4720ad6","modified":1521703073000},{"_id":"themes/next/layout/_custom/head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1521703073000},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1521703073000},{"_id":"themes/next/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1521703073000},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"464082e431ea5b06df782d5f312ee25be9e5f169","modified":1521703073000},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"31322a7f57936cf2dc62e824af5490da5354cf02","modified":1521703073000},{"_id":"themes/next/layout/_macro/reward.swig","hash":"aa620c582143f43ba1cb1a5e59240041a911185b","modified":1521703073000},{"_id":"themes/next/layout/_macro/post-related.swig","hash":"08fe30ce8909b920540231e36c97e28cfbce62b6","modified":1521703073000},{"_id":"themes/next/layout/_macro/post.swig","hash":"7b85cd74fe673d1c842e705a18ae2e2e04f5d391","modified":1521703073000},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"fea45ab314b9ea23edab25c2b8620f909d856b1d","modified":1521703073000},{"_id":"themes/next/layout/_partials/breadcrumb.swig","hash":"6994d891e064f10607bce23f6e2997db7994010e","modified":1521703073000},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"355ddd5b8af696f7bffb183addd7e84c0a4e2123","modified":1521703073000},{"_id":"themes/next/layout/_partials/comments.swig","hash":"5df32b286a8265ba82a4ef5e1439ff34751545ad","modified":1521703073000},{"_id":"themes/next/layout/_partials/footer.swig","hash":"f62e6198dcc41b1cb6a1036094e724065d4e4008","modified":1521703073000},{"_id":"themes/next/layout/_partials/header.swig","hash":"6bdae92508fb5009b023386341f3b161a4ac6c70","modified":1521703073000},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"dbe321bcf3cf45917cc11a3e3f50d8572bac2c70","modified":1521703073000},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"1aaf32bed57b976c4c1913fd801be34d4838cc72","modified":1521703073000},{"_id":"themes/next/layout/_partials/search.swig","hash":"9dbd378e94abfcb3f864a5b8dbbf18d212ca2ee0","modified":1521703073000},{"_id":"themes/next/layout/_partials/sub-menu.swig","hash":"9783a9569fe8344ed287013156e52ca1b0a25544","modified":1521703073000},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"766b2bdda29523ed6cd8d7aa197f996022f8fd94","modified":1521703073000},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"03aaebe9d50f6acb007ec38cc04acd1cfceb404d","modified":1521703073000},{"_id":"themes/next/layout/_scripts/noscript.swig","hash":"ac3ad2c0eccdf16edaa48816d111aaf51200a54b","modified":1521703073000},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"e0bdc723d1dc858b41fd66e44e2786e6519f259f","modified":1521703073000},{"_id":"themes/next/layout/_third-party/bookmark.swig","hash":"60001c8e08b21bf3a7afaf029839e1455340e95d","modified":1521703073000},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"7c04a42319d728be356746363aff8ea247791d24","modified":1521703073000},{"_id":"themes/next/layout/_third-party/github-banner.swig","hash":"cabd9640dc3027a0b3ac06f5ebce777e50754065","modified":1521703073000},{"_id":"themes/next/layout/_third-party/pangu.swig","hash":"6b75c5fd76ae7cf0a7b04024510bd5221607eab3","modified":1521703073000},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"fc93b1a7e6aed0dddb1f3910142b48d8ab61174e","modified":1521703073000},{"_id":"themes/next/layout/_third-party/needsharebutton.swig","hash":"927f19160ae14e7030df306fc7114ba777476282","modified":1521703073000},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"1ddb2336a1a19b47af3017047012c01ec5f54529","modified":1521703073000},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1521703073000},{"_id":"themes/next/scripts/tags/button.js","hash":"5a61c2da25970a4981fbd65f4a57c5e85db4dcda","modified":1521703073000},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"db70a841e7c1708f95ca97b44413b526b267fa9b","modified":1521703073000},{"_id":"themes/next/scripts/tags/full-image.js","hash":"a98fc19a90924f2368e1982f8c449cbc09df8439","modified":1521703073000},{"_id":"themes/next/scripts/tags/exturl.js","hash":"2b3a4dc15dea33972c0b6d46a1483dabbf06fb5b","modified":1521703073000},{"_id":"themes/next/scripts/tags/include-raw.js","hash":"b7600f6b868d8f4f7032126242d9738cd1e6ad71","modified":1521703073000},{"_id":"themes/next/scripts/tags/label.js","hash":"621004f2836040b12c4e8fef77e62cf22c561297","modified":1521703073000},{"_id":"themes/next/scripts/tags/lazy-image.js","hash":"460e5e1f305847dcd4bcab9da2038a85f0a1c273","modified":1521703073000},{"_id":"themes/next/scripts/tags/note.js","hash":"4975d4433e11161b2e9a5744b7287c2d667b3c76","modified":1521703073000},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"1b97b1b5364945b8ab3e50813bef84273055234f","modified":1521703073000},{"_id":"themes/next/scripts/tags/tabs.js","hash":"5786545d51c38e8ca38d1bfc7dd9e946fc70a316","modified":1521703073000},{"_id":"themes/next/source/css/main.styl","hash":"c26ca6e7b5bd910b9046d6722c8e00be672890e0","modified":1521703073000},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1521703073000},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1521703073000},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1521703073000},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1521703073000},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1521703073000},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1521703073000},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1521703073000},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1521703073000},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1521703073000},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1521703073000},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1521703073000},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1521703073000},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1521703073000},{"_id":"themes/next/source/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1521703073000},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1521703073000},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1521703073000},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1521703073000},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1521703073000},{"_id":"source/images/jobhunt/leetcode2.png","hash":"ca5dab7cbd986147390239b1c35fcfae927a7e39","modified":1557481946259},{"_id":"source/images/jobhunt/leetcode0.png","hash":"8ac658f47abc2b47be8dfb071b5200c8960e0b55","modified":1557481742049},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1521703073000},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1521703073000},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1521703073000},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1521703073000},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1521703073000},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1521703073000},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1521703073000},{"_id":"source/images/github_project/2.png","hash":"939682891d920b6a45e4a817c6e94f6ae589bed0","modified":1525845650726},{"_id":"themes/next/layout/_macro/menu/menu-badge-2.swig","hash":"7b96a0e6079e845573338523cea4437817a4b1e1","modified":1521703073000},{"_id":"themes/next/layout/_macro/menu/menu-badge-1.swig","hash":"7ffc5c159ab566805ceda6b8c7a4149a7e296116","modified":1521703073000},{"_id":"themes/next/layout/_macro/menu/menu-item.swig","hash":"6a04cd1ef9ebac103d86b61505fa9b0f26268fdc","modified":1521703073000},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1521703073000},{"_id":"themes/next/layout/_partials/head/head-unique.swig","hash":"cd7e3331a61939c820e0437bf5d815cb0a42fefb","modified":1521703073000},{"_id":"themes/next/layout/_partials/head/head.swig","hash":"9f7aa33a620aea6ede1fb907b61fd071c018c525","modified":1521703073000},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"957701729b85fb0c5bfcf2fb99c19d54582f91ed","modified":1521703073000},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1521703073000},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1521703073000},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1521703073000},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1521703073000},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"048fd5e98149469f8c28c21ba3561a7a67952c9b","modified":1521703073000},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1521703073000},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"069d1357c717572256e5cdee09574ebce529cbae","modified":1521703073000},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1521703073000},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1521703073000},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1521703073000},{"_id":"themes/next/layout/_third-party/analytics/analytics-with-widget.swig","hash":"98df9d72e37dd071e882f2d5623c9d817815b139","modified":1521703073000},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1521703073000},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1521703073000},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"67f0cb55e6702c492e99a9f697827629da036a0c","modified":1521703073000},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"a234c5cd1f75ca5731e814d0dbb92fdcf9240d1b","modified":1521703073000},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"5e9bb24c750b49513d9a65799e832f07410002ac","modified":1521703073000},{"_id":"themes/next/layout/_third-party/analytics/firestore.swig","hash":"94b26dfbcd1cf2eb87dd9752d58213338926af27","modified":1521703073000},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"beb53371c035b62e1a2c7bb76c63afbb595fe6e5","modified":1521703073000},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"cee047575ae324398025423696b760db64d04e6f","modified":1521703073000},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"0ddc94ed4ba0c19627765fdf1abc4d8efbe53d5a","modified":1521703073000},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1521703073000},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1521703073000},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1521703073000},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"2fbee33a4ccd7c8217c73e85a9a1488170e05629","modified":1521703073000},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"6f340d122a9816ccdf4b45b662880a4b2d087671","modified":1521703073000},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"40e3cacbd5fa5f2948d0179eff6dd88053e8648e","modified":1521703073000},{"_id":"themes/next/layout/_third-party/comments/gitment.swig","hash":"fe8177e4698df764e470354b6acde8292a3515e0","modified":1521703073000},{"_id":"themes/next/layout/_third-party/comments/hypercomments.swig","hash":"17a54796f6e03fc834880a58efca45c286e40e40","modified":1521703073000},{"_id":"themes/next/layout/_third-party/comments/youyan.swig","hash":"42f62695029834d45934705c619035733762309e","modified":1521703073000},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"c0eb6123464d745ac5324ce6deac8ded601f432f","modified":1521703073000},{"_id":"themes/next/layout/_third-party/math/index.swig","hash":"a6fc00ec7f5642aabd66aa1cf51c6acc5b10e012","modified":1521703073000},{"_id":"themes/next/layout/_third-party/math/katex.swig","hash":"97dbc2035bcb5aa7eafb80a4202dc827cce34983","modified":1521703073000},{"_id":"themes/next/layout/_third-party/math/mathjax.swig","hash":"011ae6303afacddabc4ddf570fe3dd227569cd4f","modified":1521703073000},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1521703073000},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1521703073000},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1521703073000},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"b15e10abe85b4270860a56c970b559baa258b2a8","modified":1521703073000},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"81ca13d6d0beff8b1a4b542a51e3b0fb68f08efd","modified":1521703073000},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1521703073000},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"2aa5b7166a85a8aa34b17792ae4f58a5a96df6cc","modified":1521703073000},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"2640a54fa63bdd4c547eab7ce2fc1192cf0ccec8","modified":1521703073000},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"7a2706304465b9e673d5561b715e7c72a238437c","modified":1521703073000},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"be087dcc060e8179f7e7f60ab4feb65817bd3d9f","modified":1521703073000},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"32392d213f5d05bc26b2dc452f2fc6fea9d44f6d","modified":1521703073000},{"_id":"themes/next/source/css/_variables/base.styl","hash":"cfb03ec629f13883509eac66e561e9dba562333f","modified":1521703073000},{"_id":"themes/next/source/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1521703073000},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"531cdedd7fbe8cb1dab2e4328774a9f6b15b59da","modified":1521703073000},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1521703073000},{"_id":"themes/next/source/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1521703073000},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1521703073000},{"_id":"themes/next/source/js/src/motion.js","hash":"50e57f8acb6924c6999cdcc664ddd3f0730d2061","modified":1521703073000},{"_id":"themes/next/source/js/src/post-details.js","hash":"d1333fb588d4521b4d1e9c69aef06e0ad1bf0b12","modified":1521703073000},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1521703073000},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1521703073000},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1521703073000},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1521703073000},{"_id":"themes/next/source/js/src/utils.js","hash":"bb67eb5b5f301a92503c81b1f8edd2a4d1fcc879","modified":1521703073000},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1521703073000},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1521703073000},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1521703073000},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1521703073000},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1521703073000},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1521703073000},{"_id":"themes/next/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1521703073000},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1521703073000},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"28ff4ed6714c59124569ffcbd10f1173d53ca923","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"7e509c7c28c59f905b847304dd3d14d94b6f3b8e","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"4719ce717962663c5c33ef97b1119a0b3a4ecdc3","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"31050fc7a25784805b4843550151c93bfa55c9c8","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"c5d48863f332ff8ce7c88dec2c893f709d7331d3","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1521703073000},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"2186be20e317505cd31886f1291429cc21f76703","modified":1521703073000},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1521703073000},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"18309b68ff33163a6f76a39437e618bb6ed411f8","modified":1521703073000},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"47a46583a1f3731157a3f53f80ed1ed5e2753e8e","modified":1521703073000},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1521703073000},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a280a583b7615e939aaddbf778f5c108ef8a2a6c","modified":1521703073000},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"0810e7c43d6c8adc8434a8fa66eabe0436ab8178","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"f362fbc791dafb378807cabbc58abf03e097af6d","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"0bef9f0dc134215bc4d0984ba3a16a1a0b6f87ec","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"3b25edfa187d1bbbd0d38b50dd013cef54758abf","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"f43c821ea272f80703862260b140932fe4aa0e1f","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"5e12572b18846250e016a872a738026478ceef37","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"35f093fe4c1861661ac1542d6e8ea5a9bbfeb659","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"d5e8ea6336bc2e237d501ed0d5bbcbbfe296c832","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"ba1842dbeb97e46c6c4d2ae0e7a2ca6d610ada67","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"41f9cdafa00e256561c50ae0b97ab7fcd7c1d6a2","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"a863f2c8bae1fbccdc181a5d178b808cd80c5b5e","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"05a5abf02e84ba8f639b6f9533418359f0ae4ecb","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"5779cc8086b1cfde9bc4f1afdd85223bdc45f0a0","modified":1521703073000},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"8050a5b2683d1d77238c5762b6bd89c543daed6e","modified":1521703073000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1521703073000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1521703073000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1521703073000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1521703073000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1521703073000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"7cc3f36222494c9a1325c5347d7eb9ae53755a32","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/header/github-banner.styl","hash":"ee37e6c465b9b2a7e39175fccfcbed14f2db039b","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"39dee82d481dd9d44e33658960ec63e47cd0a715","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"8a2421cb9005352905fae9d41a847ae56957247e","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"f5aa2ba3bfffc15475e7e72a55b5c9d18609fdf5","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/pages/breadcrumb.styl","hash":"7dd9a0378ccff3e4a2003f486b1a34e74c20dac6","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"17b95828f9db7f131ec0361a8c0e89b0b5c9bff5","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"a82afbb72d83ee394aedc7b37ac0008a9823b4f4","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"fb451dc4cc0355b57849c27d3eb110c73562f794","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"e72a89e0f421444453e149ba32c77a64bd8e44e8","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"0f7f522cc6bfb3401d5afd62b0fcdf48bb2d604b","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"f54367c0feda6986c030cc4d15a0ca6ceea14bcb","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"0b57ca04dc3998cf70bb90d777b0db05f3928b82","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"ca89b167d368eac50a4f808fa53ba67e69cbef94","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"017074ef58166e2d69c53bb7590a0e7a8947a1ed","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post-reading_progress.styl","hash":"f4e9f870baa56eae423a123062f00e24cc780be1","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"36332c8a91f089f545f3c3e8ea90d08aa4d6e60c","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"d5a4e4fc17f1f7e7c3a61b52d8e2e9677e139de7","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"8bf095377d28881f63a30bd7db97526829103bf2","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"e4055a0d2cd2b0ad9dc55928e2f3e7bd4e499da3","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"35c0350096921dd8e2222ec41b6c17a4ea6b44f2","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"89dd4f8b1f1cce3ad46cf2256038472712387d02","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"efa5e5022e205b52786ce495d4879f5e7b8f84b2","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"920343e41c124221a17f050bbb989494d44f7a24","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"f7784aba0c1cd20d824c918c120012d57a5eaa2a","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"4427ed3250483ed5b7baad74fa93474bd1eda729","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"43bc58daa8d35d5d515dc787ceb21dd77633fe49","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"1b3cc9f4e5a7f6e05b4100e9990b37b20d4a2005","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"5d15cc8bbefe44c77a9b9f96bf04a6033a4b35b8","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"4a457d265d62f287c63d48764ce45d9bcfc9ec5a","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"ee7528900578ef4753effe05b346381c40de5499","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"32c9156bea5bac9e9ad0b4c08ffbca8b3d9aac4b","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"ead0d0f2321dc71505788c7f689f92257cf14947","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"4ab5deed8c3b0c338212380f678f8382672e1bcb","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"10e9bb3392826a5a8f4cabfc14c6d81645f33fe6","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"93b08815c4d17e2b96fef8530ec1f1064dede6ef","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/third-party/gitment.styl","hash":"34935b40237c074be5f5e8818c14ccfd802b7439","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/third-party/needsharebutton.styl","hash":"a5e3e6b4b4b814a9fe40b34d784fed67d6d977fa","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/third-party/related-posts.styl","hash":"76937db9702053d772f6758d9cea4088c2a6e2a3","modified":1521703073000},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"1c06be422bc41fd35e5c7948cdea2c09961207f6","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1521703073000},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1521703073000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1521703073000},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1521703073000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1521703073000},{"_id":"public/sitemap.xml","hash":"3a690cdd4f11c630ac7cffd7aa43cef295917470","modified":1564664759310},{"_id":"public/categories/index.html","hash":"4668d1326e3a119c25418af8a300e0d151d3dab0","modified":1564664759327},{"_id":"public/tags/index.html","hash":"90f38c6146cfa07bed34b1aaaf80106814f67d6a","modified":1564664759328},{"_id":"public/archives/page/2/index.html","hash":"02d213b32e95fdd9c8adc97eb8c3bf887be411e7","modified":1564664759328},{"_id":"public/archives/2018/03/index.html","hash":"e557a146291e666a6731c9c1acccd8a95c2bce0b","modified":1564664759328},{"_id":"public/archives/2018/05/index.html","hash":"f33e3aa03905ecf1e4b59d8c2a28294b38afb102","modified":1564664759328},{"_id":"public/archives/2018/08/index.html","hash":"48a5c01d5130fc0c1d6183b0d900133a6a790cea","modified":1564664759328},{"_id":"public/archives/2018/06/index.html","hash":"19216797ba067a725337b596c55b36b641a0e206","modified":1564664759328},{"_id":"public/archives/2018/10/index.html","hash":"00b73ec74ec5dc7f15c4317a395dc94e803d1c5c","modified":1564664759328},{"_id":"public/archives/2018/12/index.html","hash":"1ecdc4d7a5b85603ba120292cc0bd04085be788d","modified":1564664759328},{"_id":"public/archives/2019/index.html","hash":"419e7b1dd4495d458b15afba3b68ba414681a088","modified":1564664759328},{"_id":"public/archives/2019/03/index.html","hash":"64a47f2107017b7ec380e9995d0eefacb659f41d","modified":1564664759328},{"_id":"public/archives/2019/05/index.html","hash":"e70b518aed04cde97f6173297c72176172fb83c7","modified":1564664759328},{"_id":"public/archives/2019/08/index.html","hash":"bec73a7e9584d487af967180f0c503cabb395a32","modified":1564664759328},{"_id":"public/categories/Math/index.html","hash":"d4fe01b01b7f0727b8eab93fd0b31e3c01741744","modified":1564664759328},{"_id":"public/categories/Computer-Science/index.html","hash":"bb0d38d9016a88f9a3a0215ad354f0f2f28f1c46","modified":1564664759328},{"_id":"public/categories/Engineer/index.html","hash":"0e2514d15bc5009765e02f296835e2824cbefcd5","modified":1564664759328},{"_id":"public/categories/Leetcode/index.html","hash":"9cad371dcfa9d8c0fa5fe0af6908999007a50ecd","modified":1564664759328},{"_id":"public/tags/Mathematics/index.html","hash":"d00080f6518b39b472c13e4843b72a856d6621de","modified":1564664759329},{"_id":"public/tags/Statistics/index.html","hash":"dff1e779de2796eac4f0e778f49825798bd440c5","modified":1564664759329},{"_id":"public/tags/Computer-Science/index.html","hash":"ce49b0d8b304e8b15fedb1e38a58a9ef43fbbec9","modified":1564664759329},{"_id":"public/tags/Algorithm/index.html","hash":"d41ce676262f501c75014ed24cfaf8357d2dd634","modified":1564664759329},{"_id":"public/tags/Github/index.html","hash":"0dc333ee39624b6907e9322d9cfe038d9b5e2c26","modified":1564664759329},{"_id":"public/tags/Engineer/index.html","hash":"33834c6aa1039f9c0850facafdc7529fc5e9bdcd","modified":1564664759329},{"_id":"public/tags/Leetcode/index.html","hash":"274418d5cea0f0dce4766296edf9f38bc9c733fe","modified":1564664759329},{"_id":"public/tags/Java/index.html","hash":"a1428dd79e85080c21daa087d4a14dbc997b4dad","modified":1564664759329},{"_id":"public/tags/Coding/index.html","hash":"48495915d3e4ea1031721ee0e41a7d205e56aa5b","modified":1564664759329},{"_id":"public/tags/Multi-Thread/index.html","hash":"3ffc832e9cfc8112fdeaff136f07e174d33fd846","modified":1564664759329},{"_id":"public/tags/Python/index.html","hash":"675cd79c7003ce3b2b332dc054424f06fb980a54","modified":1564664759329},{"_id":"public/tags/Programming/index.html","hash":"c02bca4838015494692e425c852675e524dd55ca","modified":1564664759329},{"_id":"public/tags/Chinese/index.html","hash":"3530159e0cf47b294ca2298cd68bbea0ddd4d94e","modified":1564664759329},{"_id":"public/tags/Graph-Theory/index.html","hash":"265fa325b69c1df422ef67d104286c9e7910f737","modified":1564664759329},{"_id":"public/tags/Job-Hunting/index.html","hash":"4c569607862d7bc3f215eac87dd5ce5e4ab59d6c","modified":1564664759329},{"_id":"public/tags/Sequence-Algorithm/index.html","hash":"d020aa42861fb3f91256b584e7ecc2a3e53e0e2a","modified":1564664759330},{"_id":"public/2019/08/01/kickstart-D-1/index.html","hash":"bb191e1306bdb29f36caa398439a50bde4a42b22","modified":1564664759330},{"_id":"public/2019/05/14/multiThread/index.html","hash":"7932be7cc616334cc993fd509c351dbdf79d153f","modified":1564664759330},{"_id":"public/2019/05/11/job-hunting-Tokyo2/index.html","hash":"55b937424780e9b9bd87a9ff2a367f1e0eacab4f","modified":1564664759330},{"_id":"public/2019/05/06/job-hunting-Tokyo/index.html","hash":"01f5acd26fd3de87480bfbabf2b7f356aef37263","modified":1564664759330},{"_id":"public/2019/03/31/kick/index.html","hash":"186cdf874b841a7e3a0f248cffec3128253bb88f","modified":1564664759330},{"_id":"public/2018/12/06/python2/index.html","hash":"7008ed9ba4203b3e504eda9447ab88a401ab0259","modified":1564664759330},{"_id":"public/2018/10/28/python1/index.html","hash":"b0ce9dba148fe477e843fd09880cc3666e14c5d1","modified":1564664759330},{"_id":"public/2018/10/28/python0/index.html","hash":"d26ea6f2e54a1986088c6e6e72e4409abfec4386","modified":1564664759330},{"_id":"public/2018/08/30/leetcode753/index.html","hash":"7d839df1856438594dd4d7726204a8f6adfc0c56","modified":1564664759330},{"_id":"public/2018/06/14/DP1/index.html","hash":"c944e1e03f34173441d97ab251bff6356300129f","modified":1564664759330},{"_id":"public/2018/05/11/Github-Project/index.html","hash":"2bf17302046cedf5edb83b3e1b0a7d5e05931605","modified":1564664759330},{"_id":"public/2018/03/30/Letter-Combinations-of-a-Phone-Number/index.html","hash":"1a4bc1ebf267bc0478dbdab38bd98c2a1a7a1ecb","modified":1564664759330},{"_id":"public/2018/03/22/DiscreteRandomVariablesAndExpectation/index.html","hash":"0d719c0199790fa50b9be929e0b86dfc12cd9113","modified":1564664759331},{"_id":"public/2018/03/09/FirstBlog/index.html","hash":"d5f70063eb4cb979f2c22ddd0bdd3e4fae1f8da8","modified":1564664759331},{"_id":"public/archives/index.html","hash":"58dac6bc6005dc8dc080f3e967dc03dd82f651fa","modified":1564664759331},{"_id":"public/archives/2018/index.html","hash":"9cc62032b033c614be19b00f04afdc60fb64bdf5","modified":1564664759331},{"_id":"public/index.html","hash":"b45f5b9c26dcb29ef8e53436352c96661a4842fa","modified":1564664759331},{"_id":"public/page/2/index.html","hash":"c62df352f21331e8518a02c1f85649a5b1cebd60","modified":1564664759331},{"_id":"public/images/leetcode753_1.png","hash":"59cb11c30e0fbc634d2be79e1810a8aeb62b69e3","modified":1564664759336},{"_id":"public/images/leetcode17_1.png","hash":"61b9d0589157ce190e6f5bf9b503b4a4deefc0dc","modified":1564664759336},{"_id":"public/images/github_project/1.png","hash":"67652b767166902aa54a229f030b7f2f0dc5de52","modified":1564664759336},{"_id":"public/images/jobhunt/leetcode3.png","hash":"ac2a65f5615ff197f1f7fca44314d0e8bda24ca8","modified":1564664759336},{"_id":"public/images/github_project/3.png","hash":"a7a5b526510a3154148fde3986f40e412138705d","modified":1564664759336},{"_id":"public/images/jobhunt/leetcode1.png","hash":"b789b15765d6081adff3732981b51a11db799364","modified":1564664759336},{"_id":"public/images/kick2019roundD/3.png","hash":"3936910c5f74e98d50ff4cdd5d235ecf615ae74c","modified":1564664759336},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1564664759337},{"_id":"public/images/kick2019roundD/1.png","hash":"43d88d5a08889200df06d0d551688a16d3026663","modified":1564664759337},{"_id":"public/images/kick2019roundD/2.png","hash":"340c877b09c56b35d6b24242c53b214e229d10d2","modified":1564664759337},{"_id":"public/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1564664759337},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1564664759337},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1564664759337},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1564664759337},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1564664759337},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1564664759337},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1564664759337},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1564664759337},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1564664759337},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1564664759337},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1564664759337},{"_id":"public/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1564664759337},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1564664759337},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1564664759338},{"_id":"public/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1564664759338},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1564664759338},{"_id":"public/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1564664759338},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1564664759338},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1564664759338},{"_id":"public/images/leetcode17_2.png","hash":"a3507576d5b8062ee50d4905d94fa057562cb7e8","modified":1564664759763},{"_id":"public/images/jobhunt/leetcode2.png","hash":"ca5dab7cbd986147390239b1c35fcfae927a7e39","modified":1564664759764},{"_id":"public/images/jobhunt/leetcode0.png","hash":"8ac658f47abc2b47be8dfb071b5200c8960e0b55","modified":1564664759765},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1564664759765},{"_id":"public/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1564664759771},{"_id":"public/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1564664759771},{"_id":"public/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1564664759772},{"_id":"public/js/src/bootstrap.js","hash":"531cdedd7fbe8cb1dab2e4328774a9f6b15b59da","modified":1564664759772},{"_id":"public/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1564664759772},{"_id":"public/js/src/post-details.js","hash":"d1333fb588d4521b4d1e9c69aef06e0ad1bf0b12","modified":1564664759772},{"_id":"public/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1564664759772},{"_id":"public/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1564664759772},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1564664759772},{"_id":"public/js/src/schemes/pisces.js","hash":"8050a5b2683d1d77238c5762b6bd89c543daed6e","modified":1564664759772},{"_id":"public/css/main.css","hash":"bc1565c97de096de4721f7f976ead7459f673206","modified":1564664759772},{"_id":"public/images/github_project/2.png","hash":"939682891d920b6a45e4a817c6e94f6ae589bed0","modified":1564664759772},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1564664759772},{"_id":"public/js/src/motion.js","hash":"50e57f8acb6924c6999cdcc664ddd3f0730d2061","modified":1564664759777},{"_id":"public/js/src/utils.js","hash":"bb67eb5b5f301a92503c81b1f8edd2a4d1fcc879","modified":1564664759777},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1564664759777},{"_id":"public/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1564664759777},{"_id":"public/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1564664759777},{"_id":"public/images/leetcode753_2.png","hash":"4502ebdca670d34e88d6283ca9f7678f7d928150","modified":1564664759777},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1564664759777},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1564664759786},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1564664759793},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1564664759793},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1564664759793},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1564664759821},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1564664759829}],"Category":[{"name":"Math","_id":"cjysozxpf0004ia11hyru5ekh"},{"name":"Computer Science","_id":"cjysozxpk0009ia11oijavl1g"},{"name":"Engineer","_id":"cjysozxpo000gia11xphq4r7w"},{"name":"Leetcode","_id":"cjysozxpt000pia11h96pahza"}],"Data":[],"Page":[{"title":"categories","date":"2014-12-22T03:39:04.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2014-12-22 12:39:04\ntype: \"categories\"\ncomments: false\n---\n","updated":"2018-05-14T10:36:04.345Z","path":"categories/index.html","layout":"page","_id":"cjysozxpb0001ia11n3dii427","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tage","date":"2014-12-22T03:39:04.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: tage\ndate: 2014-12-22 12:39:04\ntype: \"tags\"\ncomments: false\n---\n","updated":"2018-05-14T10:36:01.738Z","path":"tags/index.html","layout":"page","_id":"cjysozxpd0003ia114b1acdd9","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"Dirichlet Process 1 - Bernoulli Process and Bayes Theorem","date":"2018-06-14T10:02:24.000Z","_content":"\n\n# What is Dirichlet Process\n\n**Dirichlet Process** is a concept in probability theory, in fact, they are a family of stochastic processes whose realizations (or observations) are probability distributions. It is often used in Bayesian inference to describe the prior knowledge about the distribution of random variables -- how likely it is that the random variables are distributed according to one or another particular distribution.\n\n# Why Dirichlet Process\n\nIn information search, NLP and many other fields, DP are widely used in topic models. Meanwhile, in the interpretability field, Dirichlet process has a very important property: It can be generalized into infinite dimensions, and keep itself still computable.\n\n---------------\nBefore we started our introduction to Dirichlet Process, I'd like to start with **Bernoulli Process** and **Beta Distribution**, for they are the two-dimension entrance of the relatively complex Dirichlet Distribution and Dirichlet Process.\n\n# Bernoulli Process\n\b\n**Bernoulli Trail**\n\n$$f(q)=\\{\n    \\begin{aligned}\n    0, && prob=q\\\\\n    1, && otherwise\n    \\end{aligned}  \n$$\n\nWe can consider this trail as tossing a coin, but this coin can be unbalanced, which means there's a possibility of $q (0\\leq q \\leq 1)$ to be head up, rather than 50%. We take head as $X=1$ and tail as $X=0$.\n\nAnd **Bernoulli Process** is repeating a series of independent Bernoulli trail. By repeating the Bernoulli trail n times, we record the counting of $X=0$ as k.\n\nNow consider a situation, that we wanted to know how unbalanced the coin is, so we tossed it n times and counted the k, now how do we find the probability of getting a head (which means $X=0$).\n\nWell we'd always hope we can toss it forever and at last $k/n$ would of course convergence to q. But in real life, in most cases we can not try it so many times. For instance, we can only toss the coin four times, and you get \"*head head tail tail*\". Well, here $k/n$ is absolutely unreliable, so we can just give it a guess, and that we can only say \"**it sounds more reasonable if q is a certain value in $[ 0,1]$**\". And we can not say \"Yes, it is the q value.\"\n\nConsider if we get *{head, head, tail, tail}* in our four trails, absolutely we'd say 0.5 would be a reasonable guess, and 0.2 or 0.8 would sound kind of unlikely to be, 0.05 and 0.95 would be totally a joke to most people.\n\nSo as guys who love math and computer science, we'd like to have some tools in math to describe this, like use a probability density function. Here we see another problem, we want to update this function based on the prior we already have if we keep trying and get new observations. Naturally, we'd feel **Bayes theorem** would fit this well, because Bayes can update probability with continuous observations, and every time we update all we need is the prior of the previous status. Now we describe this problem with a more formal language.\n\nWhen tossing a coin, we get a random sample $X=(x_1, x_2, ..., x_n)$, now we want to estimate the reasonable value of q in $[0,1]$ based on these n observations. Since we can't use a single certain value to describe q, we use a distribution function to do the job: a probability density function about q. Definitely we'd write this into a conditional probability distribution: $f(q|X)$, because we're guessing q under the condition of observing X.\n\nNow let's have a look a **Bayes Theorem**\"\n$$P(q|x)P(x)=P(X=x|q)P(q)$$\n\n$P(q)$ is the prior probability about q, $P(q|x)$ is the posterior probability. Notice that we are saying \"probability\" rather than \"probability density function\". In order to combine Bayes theorem with probability density function, we can get $f(q)$ from $P(q)$, then get $f(q|x)$ from $P(q|X)$.\n\nHere $P(x)$ is a constant value, so we can have a conclusion, that is **The posterior probability density function $f(q|x)$ of p is proportional to it's prior $f(q|X)$ times a conditional probability**, which is:\n$$f(q|x) \\sim P(X=x|p)f(q)$$\n\nWith this result, let's go back to the coin problem.\n\nBy tossing the coin n times, it would be a Bernoulli process,  so when q is constant, the result of the n times tossing are certain,and we get an observation of k times tail, we can describe it as $P(X=x|p)=q^k(1-q)^{n-k}$.\nSo $f(q|x)$ is proportional to prior and the conditional probability above, which we say:\n$$f(q|x) \\sim q^k(1-q)^{n-k}f(q)$$\n\nNow let's have a look at $f(q)$. Naturally, when we know nothing about the coin, we should consider the q can be any value in $[0,1]$. So we'd prefer to think $f(q)$ to be uniformly distributed in this interval, which is $f(q)=1$ for q in $$[0,1]$$.\n\nNow we can see in the formula $f(q|x) \\sim q^k(1-q)^{n-k}f(q)$. $q^k(1-q)^{n-k}$ times a $[0,1]$ uniform distribution would result in a **Beta Distribution**.\n\n# What's next\nIn this chapter we discussed the Bernoulli Process and how it was combined with Bayes Theorem, it may still look a little bit far from Dirichlet Process, but they are very fundamental knowledge and with a little bit variation, we will get our Dirichlet.\n\nIn the next chapter, we'll discuss about Beta Distribution, talk a little bit about an important property called **conjugate**, which indeed made Dirichlet process so important.","source":"_posts/DP1.md","raw":"---\ntitle: Dirichlet Process 1 - Bernoulli Process and Bayes Theorem\ntags:\n  - Mathematics\n  - Statistics\ncategories:\n  - Math\ndate: 2018-06-14 19:02:24\n---\n\n\n# What is Dirichlet Process\n\n**Dirichlet Process** is a concept in probability theory, in fact, they are a family of stochastic processes whose realizations (or observations) are probability distributions. It is often used in Bayesian inference to describe the prior knowledge about the distribution of random variables -- how likely it is that the random variables are distributed according to one or another particular distribution.\n\n# Why Dirichlet Process\n\nIn information search, NLP and many other fields, DP are widely used in topic models. Meanwhile, in the interpretability field, Dirichlet process has a very important property: It can be generalized into infinite dimensions, and keep itself still computable.\n\n---------------\nBefore we started our introduction to Dirichlet Process, I'd like to start with **Bernoulli Process** and **Beta Distribution**, for they are the two-dimension entrance of the relatively complex Dirichlet Distribution and Dirichlet Process.\n\n# Bernoulli Process\n\b\n**Bernoulli Trail**\n\n$$f(q)=\\{\n    \\begin{aligned}\n    0, && prob=q\\\\\n    1, && otherwise\n    \\end{aligned}  \n$$\n\nWe can consider this trail as tossing a coin, but this coin can be unbalanced, which means there's a possibility of $q (0\\leq q \\leq 1)$ to be head up, rather than 50%. We take head as $X=1$ and tail as $X=0$.\n\nAnd **Bernoulli Process** is repeating a series of independent Bernoulli trail. By repeating the Bernoulli trail n times, we record the counting of $X=0$ as k.\n\nNow consider a situation, that we wanted to know how unbalanced the coin is, so we tossed it n times and counted the k, now how do we find the probability of getting a head (which means $X=0$).\n\nWell we'd always hope we can toss it forever and at last $k/n$ would of course convergence to q. But in real life, in most cases we can not try it so many times. For instance, we can only toss the coin four times, and you get \"*head head tail tail*\". Well, here $k/n$ is absolutely unreliable, so we can just give it a guess, and that we can only say \"**it sounds more reasonable if q is a certain value in $[ 0,1]$**\". And we can not say \"Yes, it is the q value.\"\n\nConsider if we get *{head, head, tail, tail}* in our four trails, absolutely we'd say 0.5 would be a reasonable guess, and 0.2 or 0.8 would sound kind of unlikely to be, 0.05 and 0.95 would be totally a joke to most people.\n\nSo as guys who love math and computer science, we'd like to have some tools in math to describe this, like use a probability density function. Here we see another problem, we want to update this function based on the prior we already have if we keep trying and get new observations. Naturally, we'd feel **Bayes theorem** would fit this well, because Bayes can update probability with continuous observations, and every time we update all we need is the prior of the previous status. Now we describe this problem with a more formal language.\n\nWhen tossing a coin, we get a random sample $X=(x_1, x_2, ..., x_n)$, now we want to estimate the reasonable value of q in $[0,1]$ based on these n observations. Since we can't use a single certain value to describe q, we use a distribution function to do the job: a probability density function about q. Definitely we'd write this into a conditional probability distribution: $f(q|X)$, because we're guessing q under the condition of observing X.\n\nNow let's have a look a **Bayes Theorem**\"\n$$P(q|x)P(x)=P(X=x|q)P(q)$$\n\n$P(q)$ is the prior probability about q, $P(q|x)$ is the posterior probability. Notice that we are saying \"probability\" rather than \"probability density function\". In order to combine Bayes theorem with probability density function, we can get $f(q)$ from $P(q)$, then get $f(q|x)$ from $P(q|X)$.\n\nHere $P(x)$ is a constant value, so we can have a conclusion, that is **The posterior probability density function $f(q|x)$ of p is proportional to it's prior $f(q|X)$ times a conditional probability**, which is:\n$$f(q|x) \\sim P(X=x|p)f(q)$$\n\nWith this result, let's go back to the coin problem.\n\nBy tossing the coin n times, it would be a Bernoulli process,  so when q is constant, the result of the n times tossing are certain,and we get an observation of k times tail, we can describe it as $P(X=x|p)=q^k(1-q)^{n-k}$.\nSo $f(q|x)$ is proportional to prior and the conditional probability above, which we say:\n$$f(q|x) \\sim q^k(1-q)^{n-k}f(q)$$\n\nNow let's have a look at $f(q)$. Naturally, when we know nothing about the coin, we should consider the q can be any value in $[0,1]$. So we'd prefer to think $f(q)$ to be uniformly distributed in this interval, which is $f(q)=1$ for q in $$[0,1]$$.\n\nNow we can see in the formula $f(q|x) \\sim q^k(1-q)^{n-k}f(q)$. $q^k(1-q)^{n-k}$ times a $[0,1]$ uniform distribution would result in a **Beta Distribution**.\n\n# What's next\nIn this chapter we discussed the Bernoulli Process and how it was combined with Bayes Theorem, it may still look a little bit far from Dirichlet Process, but they are very fundamental knowledge and with a little bit variation, we will get our Dirichlet.\n\nIn the next chapter, we'll discuss about Beta Distribution, talk a little bit about an important property called **conjugate**, which indeed made Dirichlet process so important.","slug":"DP1","published":1,"updated":"2018-06-20T14:33:51.214Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxp70000ia119vymmv37","content":"<h1 id=\"what-is-dirichlet-process\"><a href=\"#What-is-Dirichlet-Process\" class=\"headerlink\" title=\"What is Dirichlet Process\"></a>What is Dirichlet Process</h1><p><strong>Dirichlet Process</strong> is a concept in probability theory, in fact, they are a family of stochastic processes whose realizations (or observations) are probability distributions. It is often used in Bayesian inference to describe the prior knowledge about the distribution of random variables -- how likely it is that the random variables are distributed according to one or another particular distribution.</p>\n<h1 id=\"why-dirichlet-process\"><a href=\"#Why-Dirichlet-Process\" class=\"headerlink\" title=\"Why Dirichlet Process\"></a>Why Dirichlet Process</h1><p>In information search, NLP and many other fields, DP are widely used in topic models. Meanwhile, in the interpretability field, Dirichlet process has a very important property: It can be generalized into infinite dimensions, and keep itself still computable.</p>\n<hr>\n<p>Before we started our introduction to Dirichlet Process, I&#39;d like to start with <strong>Bernoulli Process</strong> and <strong>Beta Distribution</strong>, for they are the two-dimension entrance of the relatively complex Dirichlet Distribution and Dirichlet Process.</p>\n<h1 id=\"bernoulli-process\"><a href=\"#Bernoulli-Process\" class=\"headerlink\" title=\"Bernoulli Process\"></a>Bernoulli Process</h1><p>\b<br><strong>Bernoulli Trail</strong></p>\n<script type=\"math/tex; mode=display\">f(q)=\\{\n    \\begin{aligned}\n    0, && prob=q\\\\\n    1, && otherwise\n    \\end{aligned}</script><p>We can consider this trail as tossing a coin, but this coin can be unbalanced, which means there&#39;s a possibility of $q (0\\leq q \\leq 1)$ to be head up, rather than 50%. We take head as $X=1$ and tail as $X=0$.</p>\n<p>And <strong>Bernoulli Process</strong> is repeating a series of independent Bernoulli trail. By repeating the Bernoulli trail n times, we record the counting of $X=0$ as k.</p>\n<p>Now consider a situation, that we wanted to know how unbalanced the coin is, so we tossed it n times and counted the k, now how do we find the probability of getting a head (which means $X=0$).</p>\n<p>Well we&#39;d always hope we can toss it forever and at last $k/n$ would of course convergence to q. But in real life, in most cases we can not try it so many times. For instance, we can only toss the coin four times, and you get &quot;<em>head head tail tail</em>&quot;. Well, here $k/n$ is absolutely unreliable, so we can just give it a guess, and that we can only say &quot;<strong>it sounds more reasonable if q is a certain value in $[ 0,1]$</strong>&quot;. And we can not say &quot;Yes, it is the q value.&quot;</p>\n<p>Consider if we get <em>{head, head, tail, tail}</em> in our four trails, absolutely we&#39;d say 0.5 would be a reasonable guess, and 0.2 or 0.8 would sound kind of unlikely to be, 0.05 and 0.95 would be totally a joke to most people.</p>\n<p>So as guys who love math and computer science, we&#39;d like to have some tools in math to describe this, like use a probability density function. Here we see another problem, we want to update this function based on the prior we already have if we keep trying and get new observations. Naturally, we&#39;d feel <strong>Bayes theorem</strong> would fit this well, because Bayes can update probability with continuous observations, and every time we update all we need is the prior of the previous status. Now we describe this problem with a more formal language.</p>\n<p>When tossing a coin, we get a random sample $X=(x_1, x_2, ..., x_n)$, now we want to estimate the reasonable value of q in $[0,1]$ based on these n observations. Since we can&#39;t use a single certain value to describe q, we use a distribution function to do the job: a probability density function about q. Definitely we&#39;d write this into a conditional probability distribution: $f(q|X)$, because we&#39;re guessing q under the condition of observing X.</p>\n<p>Now let&#39;s have a look a <strong>Bayes Theorem</strong>&quot;</p>\n<script type=\"math/tex; mode=display\">P(q|x)P(x)=P(X=x|q)P(q)</script><p>$P(q)$ is the prior probability about q, $P(q|x)$ is the posterior probability. Notice that we are saying &quot;probability&quot; rather than &quot;probability density function&quot;. In order to combine Bayes theorem with probability density function, we can get $f(q)$ from $P(q)$, then get $f(q|x)$ from $P(q|X)$.</p>\n<p>Here $P(x)$ is a constant value, so we can have a conclusion, that is <strong>The posterior probability density function $f(q|x)$ of p is proportional to it&#39;s prior $f(q|X)$ times a conditional probability</strong>, which is:</p>\n<script type=\"math/tex; mode=display\">f(q|x) \\sim P(X=x|p)f(q)</script><p>With this result, let&#39;s go back to the coin problem.</p>\n<p>By tossing the coin n times, it would be a Bernoulli process,  so when q is constant, the result of the n times tossing are certain,and we get an observation of k times tail, we can describe it as $P(X=x|p)=q^k(1-q)^{n-k}$.<br>So $f(q|x)$ is proportional to prior and the conditional probability above, which we say:</p>\n<script type=\"math/tex; mode=display\">f(q|x) \\sim q^k(1-q)^{n-k}f(q)</script><p>Now let&#39;s have a look at $f(q)$. Naturally, when we know nothing about the coin, we should consider the q can be any value in $[0,1]$. So we&#39;d prefer to think $f(q)$ to be uniformly distributed in this interval, which is $f(q)=1$ for q in <script type=\"math/tex\">[0,1]</script>.</p>\n<p>Now we can see in the formula $f(q|x) \\sim q^k(1-q)^{n-k}f(q)$. $q^k(1-q)^{n-k}$ times a $[0,1]$ uniform distribution would result in a <strong>Beta Distribution</strong>.</p>\n<h1 id=\"what39s-next\"><a href=\"#What-39-s-next\" class=\"headerlink\" title=\"What&#39;s next\"></a>What&#39;s next</h1><p>In this chapter we discussed the Bernoulli Process and how it was combined with Bayes Theorem, it may still look a little bit far from Dirichlet Process, but they are very fundamental knowledge and with a little bit variation, we will get our Dirichlet.</p>\n<p>In the next chapter, we&#39;ll discuss about Beta Distribution, talk a little bit about an important property called <strong>conjugate</strong>, which indeed made Dirichlet process so important.</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"What-is-Dirichlet-Process\"><a href=\"#What-is-Dirichlet-Process\" class=\"headerlink\" title=\"What is Dirichlet Process\"></a>What is Dirichlet Process</h1><p><strong>Dirichlet Process</strong> is a concept in probability theory, in fact, they are a family of stochastic processes whose realizations (or observations) are probability distributions. It is often used in Bayesian inference to describe the prior knowledge about the distribution of random variables -- how likely it is that the random variables are distributed according to one or another particular distribution.</p>\n<h1 id=\"Why-Dirichlet-Process\"><a href=\"#Why-Dirichlet-Process\" class=\"headerlink\" title=\"Why Dirichlet Process\"></a>Why Dirichlet Process</h1><p>In information search, NLP and many other fields, DP are widely used in topic models. Meanwhile, in the interpretability field, Dirichlet process has a very important property: It can be generalized into infinite dimensions, and keep itself still computable.</p>\n<hr>\n<p>Before we started our introduction to Dirichlet Process, I&#39;d like to start with <strong>Bernoulli Process</strong> and <strong>Beta Distribution</strong>, for they are the two-dimension entrance of the relatively complex Dirichlet Distribution and Dirichlet Process.</p>\n<h1 id=\"Bernoulli-Process\"><a href=\"#Bernoulli-Process\" class=\"headerlink\" title=\"Bernoulli Process\"></a>Bernoulli Process</h1><p>\b<br><strong>Bernoulli Trail</strong></p>\n<script type=\"math/tex; mode=display\">f(q)=\\{\n    \\begin{aligned}\n    0, && prob=q\\\\\n    1, && otherwise\n    \\end{aligned}</script><p>We can consider this trail as tossing a coin, but this coin can be unbalanced, which means there&#39;s a possibility of $q (0\\leq q \\leq 1)$ to be head up, rather than 50%. We take head as $X=1$ and tail as $X=0$.</p>\n<p>And <strong>Bernoulli Process</strong> is repeating a series of independent Bernoulli trail. By repeating the Bernoulli trail n times, we record the counting of $X=0$ as k.</p>\n<p>Now consider a situation, that we wanted to know how unbalanced the coin is, so we tossed it n times and counted the k, now how do we find the probability of getting a head (which means $X=0$).</p>\n<p>Well we&#39;d always hope we can toss it forever and at last $k/n$ would of course convergence to q. But in real life, in most cases we can not try it so many times. For instance, we can only toss the coin four times, and you get &quot;<em>head head tail tail</em>&quot;. Well, here $k/n$ is absolutely unreliable, so we can just give it a guess, and that we can only say &quot;<strong>it sounds more reasonable if q is a certain value in $[ 0,1]$</strong>&quot;. And we can not say &quot;Yes, it is the q value.&quot;</p>\n<p>Consider if we get <em>{head, head, tail, tail}</em> in our four trails, absolutely we&#39;d say 0.5 would be a reasonable guess, and 0.2 or 0.8 would sound kind of unlikely to be, 0.05 and 0.95 would be totally a joke to most people.</p>\n<p>So as guys who love math and computer science, we&#39;d like to have some tools in math to describe this, like use a probability density function. Here we see another problem, we want to update this function based on the prior we already have if we keep trying and get new observations. Naturally, we&#39;d feel <strong>Bayes theorem</strong> would fit this well, because Bayes can update probability with continuous observations, and every time we update all we need is the prior of the previous status. Now we describe this problem with a more formal language.</p>\n<p>When tossing a coin, we get a random sample $X=(x_1, x_2, ..., x_n)$, now we want to estimate the reasonable value of q in $[0,1]$ based on these n observations. Since we can&#39;t use a single certain value to describe q, we use a distribution function to do the job: a probability density function about q. Definitely we&#39;d write this into a conditional probability distribution: $f(q|X)$, because we&#39;re guessing q under the condition of observing X.</p>\n<p>Now let&#39;s have a look a <strong>Bayes Theorem</strong>&quot;</p>\n<script type=\"math/tex; mode=display\">P(q|x)P(x)=P(X=x|q)P(q)</script><p>$P(q)$ is the prior probability about q, $P(q|x)$ is the posterior probability. Notice that we are saying &quot;probability&quot; rather than &quot;probability density function&quot;. In order to combine Bayes theorem with probability density function, we can get $f(q)$ from $P(q)$, then get $f(q|x)$ from $P(q|X)$.</p>\n<p>Here $P(x)$ is a constant value, so we can have a conclusion, that is <strong>The posterior probability density function $f(q|x)$ of p is proportional to it&#39;s prior $f(q|X)$ times a conditional probability</strong>, which is:</p>\n<script type=\"math/tex; mode=display\">f(q|x) \\sim P(X=x|p)f(q)</script><p>With this result, let&#39;s go back to the coin problem.</p>\n<p>By tossing the coin n times, it would be a Bernoulli process,  so when q is constant, the result of the n times tossing are certain,and we get an observation of k times tail, we can describe it as $P(X=x|p)=q^k(1-q)^{n-k}$.<br>So $f(q|x)$ is proportional to prior and the conditional probability above, which we say:</p>\n<script type=\"math/tex; mode=display\">f(q|x) \\sim q^k(1-q)^{n-k}f(q)</script><p>Now let&#39;s have a look at $f(q)$. Naturally, when we know nothing about the coin, we should consider the q can be any value in $[0,1]$. So we&#39;d prefer to think $f(q)$ to be uniformly distributed in this interval, which is $f(q)=1$ for q in <script type=\"math/tex\">[0,1]</script>.</p>\n<p>Now we can see in the formula $f(q|x) \\sim q^k(1-q)^{n-k}f(q)$. $q^k(1-q)^{n-k}$ times a $[0,1]$ uniform distribution would result in a <strong>Beta Distribution</strong>.</p>\n<h1 id=\"What-39-s-next\"><a href=\"#What-39-s-next\" class=\"headerlink\" title=\"What&#39;s next\"></a>What&#39;s next</h1><p>In this chapter we discussed the Bernoulli Process and how it was combined with Bayes Theorem, it may still look a little bit far from Dirichlet Process, but they are very fundamental knowledge and with a little bit variation, we will get our Dirichlet.</p>\n<p>In the next chapter, we&#39;ll discuss about Beta Distribution, talk a little bit about an important property called <strong>conjugate</strong>, which indeed made Dirichlet process so important.</p>\n"},{"title":"Event and Probability","_content":"","source":"_drafts/EventandProbability.md","raw":"---\ntitle: Event and Probability\ntags: Mathmatics\n---\n","slug":"EventandProbability","published":0,"date":"2018-04-27T07:32:41.305Z","updated":"2018-04-27T07:32:41.305Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxpc0002ia11t48v1pxw","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"Knapsack and Adaptive Bloom Filter","_content":"\n**Bloom Filter** is a space-efficient data structure, which offers constant time method to test whether an element is a member of a set. The false is always correct, but if it returns a *True*, there's a possibility for that to be a \"False Positive\". Here, we start from a classic problem called **\"Knapsack Problem\"**, and we'll show you how to optimize the Bloom filter from the \"Knapsack Problem\".\n\n# Knapsack Problem\n## Definition\nHere we have a knapsack, whose capability of weight is $W$, and we have $n$ gold bricks, whose weights ad denoted by $w_1,...w_n$. We want to carry as much gold as possible, \n\n*Input:*\n\n    Positive integer n\n\n$$\n\\begin{aligned}\n    &\\underline{Input:}\\     &&Positive\\ integer\\ n\\ (number\\ of\\ gold\\ bricks.) \\\\\n                            &&&Positive\\ real\\ numbers\\ w_1,...,w_n\\ (weight\\ of\\ each\\ gold\\ bricks.) \\\\\n                            &&&Positive\\ real\\ number\\ W\\ (maximum\\ weight\\ our\\ knapsack\\ can\\ carry.) \\\\\n                            &&&\\underline{Assumption:}\\ w_1 < w_2 < ... < w_n \\\\\n    &\\underline{Output:}\\    &&Set\\ S\\subseteq \\{1,...,n\\}\\ (set\\ of\\ brick\\                            we\\ take.) \\\\\n    &\\underline{Constraint:}&&\\sum_{i\\in S}w_i\\ (maximize\\ the\\ weight\\ of\\ gold\\ we\\ take.)\n\n    \n\\end{aligned}\n$$\n\nFor example, when $n=5,w_1=2,w_2=5,w_3=5,w_4=6,w_5=9,W=10$, the brick we should take with us should be brick 2 for brick 3, and $w_2+w_3=10=W$, then the best output is $S=\\{2,3\\}$. For any output that equals the best output value is called an *\"Optimal Solutions\"*. The best objective value (optimal value) is denoted as *OPT*, sometimes we also denote the optimal solution by $S^*$.\n\nThe above question is the simplified version of a problem called knapsack. The problem is known to be NP-hard even for the simplified version.\n\n## Algorithm\nHere we have an algorithm for the simplified version of knapsack problem.\n\n    S = empty\n    For j = i to n:\n        If sum(S)+w[j] <= W:\n            S.add(w[j])\n        Else:\n            if w[j] >= sum(S):\n                S=w[j]\n            break;\n\nFrom","source":"_drafts/adaptive-bloom-filter.md","raw":"---\ntitle: Knapsack and Adaptive Bloom Filter\ntags: \n    - Computer Science\n    - Algorithm\ncategories: Computer Science\n---\n\n**Bloom Filter** is a space-efficient data structure, which offers constant time method to test whether an element is a member of a set. The false is always correct, but if it returns a *True*, there's a possibility for that to be a \"False Positive\". Here, we start from a classic problem called **\"Knapsack Problem\"**, and we'll show you how to optimize the Bloom filter from the \"Knapsack Problem\".\n\n# Knapsack Problem\n## Definition\nHere we have a knapsack, whose capability of weight is $W$, and we have $n$ gold bricks, whose weights ad denoted by $w_1,...w_n$. We want to carry as much gold as possible, \n\n*Input:*\n\n    Positive integer n\n\n$$\n\\begin{aligned}\n    &\\underline{Input:}\\     &&Positive\\ integer\\ n\\ (number\\ of\\ gold\\ bricks.) \\\\\n                            &&&Positive\\ real\\ numbers\\ w_1,...,w_n\\ (weight\\ of\\ each\\ gold\\ bricks.) \\\\\n                            &&&Positive\\ real\\ number\\ W\\ (maximum\\ weight\\ our\\ knapsack\\ can\\ carry.) \\\\\n                            &&&\\underline{Assumption:}\\ w_1 < w_2 < ... < w_n \\\\\n    &\\underline{Output:}\\    &&Set\\ S\\subseteq \\{1,...,n\\}\\ (set\\ of\\ brick\\                            we\\ take.) \\\\\n    &\\underline{Constraint:}&&\\sum_{i\\in S}w_i\\ (maximize\\ the\\ weight\\ of\\ gold\\ we\\ take.)\n\n    \n\\end{aligned}\n$$\n\nFor example, when $n=5,w_1=2,w_2=5,w_3=5,w_4=6,w_5=9,W=10$, the brick we should take with us should be brick 2 for brick 3, and $w_2+w_3=10=W$, then the best output is $S=\\{2,3\\}$. For any output that equals the best output value is called an *\"Optimal Solutions\"*. The best objective value (optimal value) is denoted as *OPT*, sometimes we also denote the optimal solution by $S^*$.\n\nThe above question is the simplified version of a problem called knapsack. The problem is known to be NP-hard even for the simplified version.\n\n## Algorithm\nHere we have an algorithm for the simplified version of knapsack problem.\n\n    S = empty\n    For j = i to n:\n        If sum(S)+w[j] <= W:\n            S.add(w[j])\n        Else:\n            if w[j] >= sum(S):\n                S=w[j]\n            break;\n\nFrom","slug":"adaptive-bloom-filter","published":0,"date":"2018-07-01T06:40:28.456Z","updated":"2018-07-01T07:07:23.381Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxpg0006ia11pnkkf6u0","content":"<p><strong>Bloom Filter</strong> is a space-efficient data structure, which offers constant time method to test whether an element is a member of a set. The false is always correct, but if it returns a <em>True</em>, there&#39;s a possibility for that to be a &quot;False Positive&quot;. Here, we start from a classic problem called <strong>&quot;Knapsack Problem&quot;</strong>, and we&#39;ll show you how to optimize the Bloom filter from the &quot;Knapsack Problem&quot;.</p>\n<h1 id=\"knapsack-problem\"><a href=\"#Knapsack-Problem\" class=\"headerlink\" title=\"Knapsack Problem\"></a>Knapsack Problem</h1><h2 id=\"definition\"><a href=\"#Definition\" class=\"headerlink\" title=\"Definition\"></a>Definition</h2><p>Here we have a knapsack, whose capability of weight is $W$, and we have $n$ gold bricks, whose weights ad denoted by $w_1,...w_n$. We want to carry as much gold as possible, </p>\n<p><em>Input:</em></p>\n<pre><code>Positive integer n\n</code></pre><script type=\"math/tex; mode=display\">\n\\begin{aligned}\n    &\\underline{Input:}\\     &&Positive\\ integer\\ n\\ (number\\ of\\ gold\\ bricks.) \\\\\n                            &&&Positive\\ real\\ numbers\\ w_1,...,w_n\\ (weight\\ of\\ each\\ gold\\ bricks.) \\\\\n                            &&&Positive\\ real\\ number\\ W\\ (maximum\\ weight\\ our\\ knapsack\\ can\\ carry.) \\\\\n                            &&&\\underline{Assumption:}\\ w_1 < w_2 < ... < w_n \\\\\n    &\\underline{Output:}\\    &&Set\\ S\\subseteq \\{1,...,n\\}\\ (set\\ of\\ brick\\                            we\\ take.) \\\\\n    &\\underline{Constraint:}&&\\sum_{i\\in S}w_i\\ (maximize\\ the\\ weight\\ of\\ gold\\ we\\ take.)\n\n\n\\end{aligned}</script><p>For example, when $n=5,w_1=2,w_2=5,w_3=5,w_4=6,w_5=9,W=10$, the brick we should take with us should be brick 2 for brick 3, and $w_2+w_3=10=W$, then the best output is $S={2,3}$. For any output that equals the best output value is called an <em>&quot;Optimal Solutions&quot;</em>. The best objective value (optimal value) is denoted as <em>OPT</em>, sometimes we also denote the optimal solution by $S^*$.</p>\n<p>The above question is the simplified version of a problem called knapsack. The problem is known to be NP-hard even for the simplified version.</p>\n<h2 id=\"algorithm\"><a href=\"#Algorithm\" class=\"headerlink\" title=\"Algorithm\"></a>Algorithm</h2><p>Here we have an algorithm for the simplified version of knapsack problem.</p>\n<pre><code>S = empty\nFor j = i to n:\n    If sum(S)+w[j] &lt;= W:\n        S.add(w[j])\n    Else:\n        if w[j] &gt;= sum(S):\n            S=w[j]\n        break;\n</code></pre><p>From</p>\n","site":{"data":{}},"excerpt":"","more":"<p><strong>Bloom Filter</strong> is a space-efficient data structure, which offers constant time method to test whether an element is a member of a set. The false is always correct, but if it returns a <em>True</em>, there&#39;s a possibility for that to be a &quot;False Positive&quot;. Here, we start from a classic problem called <strong>&quot;Knapsack Problem&quot;</strong>, and we&#39;ll show you how to optimize the Bloom filter from the &quot;Knapsack Problem&quot;.</p>\n<h1 id=\"Knapsack-Problem\"><a href=\"#Knapsack-Problem\" class=\"headerlink\" title=\"Knapsack Problem\"></a>Knapsack Problem</h1><h2 id=\"Definition\"><a href=\"#Definition\" class=\"headerlink\" title=\"Definition\"></a>Definition</h2><p>Here we have a knapsack, whose capability of weight is $W$, and we have $n$ gold bricks, whose weights ad denoted by $w_1,...w_n$. We want to carry as much gold as possible, </p>\n<p><em>Input:</em></p>\n<pre><code>Positive integer n\n</code></pre><script type=\"math/tex; mode=display\">\n\\begin{aligned}\n    &\\underline{Input:}\\     &&Positive\\ integer\\ n\\ (number\\ of\\ gold\\ bricks.) \\\\\n                            &&&Positive\\ real\\ numbers\\ w_1,...,w_n\\ (weight\\ of\\ each\\ gold\\ bricks.) \\\\\n                            &&&Positive\\ real\\ number\\ W\\ (maximum\\ weight\\ our\\ knapsack\\ can\\ carry.) \\\\\n                            &&&\\underline{Assumption:}\\ w_1 < w_2 < ... < w_n \\\\\n    &\\underline{Output:}\\    &&Set\\ S\\subseteq \\{1,...,n\\}\\ (set\\ of\\ brick\\                            we\\ take.) \\\\\n    &\\underline{Constraint:}&&\\sum_{i\\in S}w_i\\ (maximize\\ the\\ weight\\ of\\ gold\\ we\\ take.)\n\n\n\\end{aligned}</script><p>For example, when $n=5,w_1=2,w_2=5,w_3=5,w_4=6,w_5=9,W=10$, the brick we should take with us should be brick 2 for brick 3, and $w_2+w_3=10=W$, then the best output is $S={2,3}$. For any output that equals the best output value is called an <em>&quot;Optimal Solutions&quot;</em>. The best objective value (optimal value) is denoted as <em>OPT</em>, sometimes we also denote the optimal solution by $S^*$.</p>\n<p>The above question is the simplified version of a problem called knapsack. The problem is known to be NP-hard even for the simplified version.</p>\n<h2 id=\"Algorithm\"><a href=\"#Algorithm\" class=\"headerlink\" title=\"Algorithm\"></a>Algorithm</h2><p>Here we have an algorithm for the simplified version of knapsack problem.</p>\n<pre><code>S = empty\nFor j = i to n:\n    If sum(S)+w[j] &lt;= W:\n        S.add(w[j])\n    Else:\n        if w[j] &gt;= sum(S):\n            S=w[j]\n        break;\n</code></pre><p>From</p>\n"},{"title":"Discrete Random Variables And Expectation 1","date":"2018-03-22T06:57:45.000Z","_content":"\n# Random Variables and Expectation 1\n\n>Definition 2.1  \n\n*A random variable $X$ on a sample space $\\Omega$ is a real-valued (measurable) function on $\\Omega$: that is, $\\Omega \\rightarrow \\mathbb{R}$. A discrete random variable is a random variable that takes on only a finite or countably infinite number of values.*\n\nSince the random variables are functions, they are usually denoted by capital letters, while real numbers are usually denoted by lowercase letters.\n\n>Defination 2.2\n\n*Two random variables $X$ and $Y$ are independent if and only if*\n\n$$Pr((X=x)\\cap(Y=y))=Pr(X=x)\\cdot Pr(Y=y)$$  \n\n*for all values x and y. Similarly, random variables $X_1$, $X_2$,.... are mutally independent if and only if, for any subset $I\\subseteq[i,k]$ and any values $x_i$, $i\\in I$,*\n\n$$Pr\\left(\\bigcap_{i\\in I}(X_i=x_i)\\right)=\\prod_{i \\in I}Pr(X_i=x_i)$$\n\n>Definition 2.3\n\n*The expectation of a discrete random variable X, denoted by $E[X]$ , is given by*\n\n$$E[X]=\\sum_iiPr(X=i)$$","source":"_posts/DiscreteRandomVariablesAndExpectation.md","raw":"---\ntitle: Discrete Random Variables And Expectation 1\ntags: Mathematics\ncategories: Math\ndate: 2018-03-22 15:57:45\n---\n\n# Random Variables and Expectation 1\n\n>Definition 2.1  \n\n*A random variable $X$ on a sample space $\\Omega$ is a real-valued (measurable) function on $\\Omega$: that is, $\\Omega \\rightarrow \\mathbb{R}$. A discrete random variable is a random variable that takes on only a finite or countably infinite number of values.*\n\nSince the random variables are functions, they are usually denoted by capital letters, while real numbers are usually denoted by lowercase letters.\n\n>Defination 2.2\n\n*Two random variables $X$ and $Y$ are independent if and only if*\n\n$$Pr((X=x)\\cap(Y=y))=Pr(X=x)\\cdot Pr(Y=y)$$  \n\n*for all values x and y. Similarly, random variables $X_1$, $X_2$,.... are mutally independent if and only if, for any subset $I\\subseteq[i,k]$ and any values $x_i$, $i\\in I$,*\n\n$$Pr\\left(\\bigcap_{i\\in I}(X_i=x_i)\\right)=\\prod_{i \\in I}Pr(X_i=x_i)$$\n\n>Definition 2.3\n\n*The expectation of a discrete random variable X, denoted by $E[X]$ , is given by*\n\n$$E[X]=\\sum_iiPr(X=i)$$","slug":"DiscreteRandomVariablesAndExpectation","published":1,"updated":"2018-06-12T15:50:20.922Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxpi0007ia114jm0g755","content":"<h1 id=\"random-variables-and-expectation-1\"><a href=\"#Random-Variables-and-Expectation-1\" class=\"headerlink\" title=\"Random Variables and Expectation 1\"></a>Random Variables and Expectation 1</h1><blockquote>\n<p>Definition 2.1  </p>\n</blockquote>\n<p><em>A random variable $X$ on a sample space $\\Omega$ is a real-valued (measurable) function on $\\Omega$: that is, $\\Omega \\rightarrow \\mathbb{R}$. A discrete random variable is a random variable that takes on only a finite or countably infinite number of values.</em></p>\n<p>Since the random variables are functions, they are usually denoted by capital letters, while real numbers are usually denoted by lowercase letters.</p>\n<blockquote>\n<p>Defination 2.2</p>\n</blockquote>\n<p><em>Two random variables $X$ and $Y$ are independent if and only if</em></p>\n<script type=\"math/tex; mode=display\">Pr((X=x)\\cap(Y=y))=Pr(X=x)\\cdot Pr(Y=y)</script><p><em>for all values x and y. Similarly, random variables $X_1$, $X_2$,.... are mutally independent if and only if, for any subset $I\\subseteq[i,k]$ and any values $x_i$, $i\\in I$,</em></p>\n<script type=\"math/tex; mode=display\">Pr\\left(\\bigcap_{i\\in I}(X_i=x_i)\\right)=\\prod_{i \\in I}Pr(X_i=x_i)</script><blockquote>\n<p>Definition 2.3</p>\n</blockquote>\n<p><em>The expectation of a discrete random variable X, denoted by $E[X]$ , is given by</em></p>\n<script type=\"math/tex; mode=display\">E[X]=\\sum_iiPr(X=i)</script>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"Random-Variables-and-Expectation-1\"><a href=\"#Random-Variables-and-Expectation-1\" class=\"headerlink\" title=\"Random Variables and Expectation 1\"></a>Random Variables and Expectation 1</h1><blockquote>\n<p>Definition 2.1  </p>\n</blockquote>\n<p><em>A random variable $X$ on a sample space $\\Omega$ is a real-valued (measurable) function on $\\Omega$: that is, $\\Omega \\rightarrow \\mathbb{R}$. A discrete random variable is a random variable that takes on only a finite or countably infinite number of values.</em></p>\n<p>Since the random variables are functions, they are usually denoted by capital letters, while real numbers are usually denoted by lowercase letters.</p>\n<blockquote>\n<p>Defination 2.2</p>\n</blockquote>\n<p><em>Two random variables $X$ and $Y$ are independent if and only if</em></p>\n<script type=\"math/tex; mode=display\">Pr((X=x)\\cap(Y=y))=Pr(X=x)\\cdot Pr(Y=y)</script><p><em>for all values x and y. Similarly, random variables $X_1$, $X_2$,.... are mutally independent if and only if, for any subset $I\\subseteq[i,k]$ and any values $x_i$, $i\\in I$,</em></p>\n<script type=\"math/tex; mode=display\">Pr\\left(\\bigcap_{i\\in I}(X_i=x_i)\\right)=\\prod_{i \\in I}Pr(X_i=x_i)</script><blockquote>\n<p>Definition 2.3</p>\n</blockquote>\n<p><em>The expectation of a discrete random variable X, denoted by $E[X]$ , is given by</em></p>\n<script type=\"math/tex; mode=display\">E[X]=\\sum_iiPr(X=i)</script>"},{"title":"First Blog","date":"2018-03-09T10:46:51.000Z","_content":"\n\n## Why do I start to write blogs?\n\nWell, This blog is more like a personal notebook that helps myself to get a review to those things I liked and tried. Explaining something to others help me exam if I do really understand it or not, and as I have no cats that I can explain my work to  so far (But I'll have a cat one day), I decide to start to write this blog and I'd be happy if you wanna discuss about anything with me.\n\n## What will this blog mainly be about?\n\nMost time this blog would be for technical issues, scientific problems (computer science and math mostly) and software engineering problems, but there's still a possibility that I get crazy and write some stupid funny stuffs.\n\nOh, if I really get a cat, this blog will have a new chapter called CAT with cat photos.","source":"_posts/FirstBlog.md","raw":"---\ntitle: First Blog\ndate: 2018-03-09 19:46:51\ntags:\n---\n\n\n## Why do I start to write blogs?\n\nWell, This blog is more like a personal notebook that helps myself to get a review to those things I liked and tried. Explaining something to others help me exam if I do really understand it or not, and as I have no cats that I can explain my work to  so far (But I'll have a cat one day), I decide to start to write this blog and I'd be happy if you wanna discuss about anything with me.\n\n## What will this blog mainly be about?\n\nMost time this blog would be for technical issues, scientific problems (computer science and math mostly) and software engineering problems, but there's still a possibility that I get crazy and write some stupid funny stuffs.\n\nOh, if I really get a cat, this blog will have a new chapter called CAT with cat photos.","slug":"FirstBlog","published":1,"updated":"2018-04-27T07:32:41.305Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxpj0008ia11q09w194j","content":"<h2 id=\"why-do-i-start-to-write-blogs\"><a href=\"#Why-do-I-start-to-write-blogs\" class=\"headerlink\" title=\"Why do I start to write blogs?\"></a>Why do I start to write blogs?</h2><p>Well, This blog is more like a personal notebook that helps myself to get a review to those things I liked and tried. Explaining something to others help me exam if I do really understand it or not, and as I have no cats that I can explain my work to  so far (But I&#39;ll have a cat one day), I decide to start to write this blog and I&#39;d be happy if you wanna discuss about anything with me.</p>\n<h2 id=\"what-will-this-blog-mainly-be-about\"><a href=\"#What-will-this-blog-mainly-be-about\" class=\"headerlink\" title=\"What will this blog mainly be about?\"></a>What will this blog mainly be about?</h2><p>Most time this blog would be for technical issues, scientific problems (computer science and math mostly) and software engineering problems, but there&#39;s still a possibility that I get crazy and write some stupid funny stuffs.</p>\n<p>Oh, if I really get a cat, this blog will have a new chapter called CAT with cat photos.</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Why-do-I-start-to-write-blogs\"><a href=\"#Why-do-I-start-to-write-blogs\" class=\"headerlink\" title=\"Why do I start to write blogs?\"></a>Why do I start to write blogs?</h2><p>Well, This blog is more like a personal notebook that helps myself to get a review to those things I liked and tried. Explaining something to others help me exam if I do really understand it or not, and as I have no cats that I can explain my work to  so far (But I&#39;ll have a cat one day), I decide to start to write this blog and I&#39;d be happy if you wanna discuss about anything with me.</p>\n<h2 id=\"What-will-this-blog-mainly-be-about\"><a href=\"#What-will-this-blog-mainly-be-about\" class=\"headerlink\" title=\"What will this blog mainly be about?\"></a>What will this blog mainly be about?</h2><p>Most time this blog would be for technical issues, scientific problems (computer science and math mostly) and software engineering problems, but there&#39;s still a possibility that I get crazy and write some stupid funny stuffs.</p>\n<p>Oh, if I really get a cat, this blog will have a new chapter called CAT with cat photos.</p>\n"},{"title":"Start a Smart Project with Github","date":"2018-05-11T04:41:39.000Z","_content":"\n\n**GitHub** is now widely used platform that helps people develop and distribute their project. Knowing how to use some interesting function of GitHub can make your developing process fluent and stable.\n\n- Issue and pull-request\n- Automatic test\n- Protected Master branch\n\n----------\n\n# \bIssue and Pull Request\n\nWhen building a project, the developing history should be open and trackable. In order to do so, it is recommended to use some method to track every change and improvement. Use **Issue** to track every improvements that will do developers good favour.\n\nEvery issue have an index, which is marked by #, looks like `#3`.\n\n**Pull request** is used for cooperation, GitHub provides many interesting functions with pull request, one of them is *Close an issue with pull request*. In order to do so, just make the description of your pull request look like this:\n\n```\nMessage: Pull request from forked \"xxx\".\n\nDescription: Resolve #3.\n```\n\n*\"Resolve\"* is a token that will close an issue, so will *\"Fix\"* and *\"close\"* do. Check [official doc](https://help.github.com/articles/closing-issues-using-keywords/) for further information.\n\n# Automatic test\nEvery time you commit something to your project, you have to make sure that the whole project doesn't break down because of your commit contains bugs or something. Luckily, Travis-CI can do it and its also supported by GitHub, wichi means you can view if your test passed or not before admit a pull request.\n![](/images/github_project/1.png)\n\nTo distribute the automatic test is very simple. All you need to do is add a ```.travis.yml``` file to the root directory of your project.\n\nSee [official doc](https://docs.travis-ci.com/) for more help.\n\n# Protected Master branch\nMaster branch is very important to your project, which should not be manipulated casually, it is recommended to add several protection checks when merge any commit to your master branch.\n\nIt is recommended to do as follows:\n![](/images/github_project/2.png)\n\nThen look! Your master branch is under protection!\n![](/images/github_project/3.png)\n","source":"_posts/Github-Project.md","raw":"---\ntitle: Start a Smart Project with Github\ntags:\n  - Github\n  - Engineer\ncategories:\n  - Engineer\ndate: 2018-05-11 13:41:39\n---\n\n\n**GitHub** is now widely used platform that helps people develop and distribute their project. Knowing how to use some interesting function of GitHub can make your developing process fluent and stable.\n\n- Issue and pull-request\n- Automatic test\n- Protected Master branch\n\n----------\n\n# \bIssue and Pull Request\n\nWhen building a project, the developing history should be open and trackable. In order to do so, it is recommended to use some method to track every change and improvement. Use **Issue** to track every improvements that will do developers good favour.\n\nEvery issue have an index, which is marked by #, looks like `#3`.\n\n**Pull request** is used for cooperation, GitHub provides many interesting functions with pull request, one of them is *Close an issue with pull request*. In order to do so, just make the description of your pull request look like this:\n\n```\nMessage: Pull request from forked \"xxx\".\n\nDescription: Resolve #3.\n```\n\n*\"Resolve\"* is a token that will close an issue, so will *\"Fix\"* and *\"close\"* do. Check [official doc](https://help.github.com/articles/closing-issues-using-keywords/) for further information.\n\n# Automatic test\nEvery time you commit something to your project, you have to make sure that the whole project doesn't break down because of your commit contains bugs or something. Luckily, Travis-CI can do it and its also supported by GitHub, wichi means you can view if your test passed or not before admit a pull request.\n![](/images/github_project/1.png)\n\nTo distribute the automatic test is very simple. All you need to do is add a ```.travis.yml``` file to the root directory of your project.\n\nSee [official doc](https://docs.travis-ci.com/) for more help.\n\n# Protected Master branch\nMaster branch is very important to your project, which should not be manipulated casually, it is recommended to add several protection checks when merge any commit to your master branch.\n\nIt is recommended to do as follows:\n![](/images/github_project/2.png)\n\nThen look! Your master branch is under protection!\n![](/images/github_project/3.png)\n","slug":"Github-Project","published":1,"updated":"2018-05-14T15:18:05.366Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxpl000cia11y1y9zpdu","content":"<p><strong>GitHub</strong> is now widely used platform that helps people develop and distribute their project. Knowing how to use some interesting function of GitHub can make your developing process fluent and stable.</p>\n<ul>\n<li>Issue and pull-request</li>\n<li>Automatic test</li>\n<li>Protected Master branch</li>\n</ul>\n<hr>\n<h1 id=\"issue-and-pull-request\"><a href=\"#Issue-and-Pull-Request\" class=\"headerlink\" title=\"\bIssue and Pull Request\"></a>\bIssue and Pull Request</h1><p>When building a project, the developing history should be open and trackable. In order to do so, it is recommended to use some method to track every change and improvement. Use <strong>Issue</strong> to track every improvements that will do developers good favour.</p>\n<p>Every issue have an index, which is marked by #, looks like <code>#3</code>.</p>\n<p><strong>Pull request</strong> is used for cooperation, GitHub provides many interesting functions with pull request, one of them is <em>Close an issue with pull request</em>. In order to do so, just make the description of your pull request look like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Message: Pull request from forked &quot;xxx&quot;.</span><br><span class=\"line\"></span><br><span class=\"line\">Description: Resolve #3.</span><br></pre></td></tr></table></figure>\n<p><em>&quot;Resolve&quot;</em> is a token that will close an issue, so will <em>&quot;Fix&quot;</em> and <em>&quot;close&quot;</em> do. Check <a href=\"https://help.github.com/articles/closing-issues-using-keywords/\" target=\"_blank\" rel=\"noopener\">official doc</a> for further information.</p>\n<h1 id=\"automatic-test\"><a href=\"#Automatic-test\" class=\"headerlink\" title=\"Automatic test\"></a>Automatic test</h1><p>Every time you commit something to your project, you have to make sure that the whole project doesn&#39;t break down because of your commit contains bugs or something. Luckily, Travis-CI can do it and its also supported by GitHub, wichi means you can view if your test passed or not before admit a pull request.<br><img src=\"/images/github_project/1.png\" alt=\"\"></p>\n<p>To distribute the automatic test is very simple. All you need to do is add a <code>.travis.yml</code> file to the root directory of your project.</p>\n<p>See <a href=\"https://docs.travis-ci.com/\" target=\"_blank\" rel=\"noopener\">official doc</a> for more help.</p>\n<h1 id=\"protected-master-branch\"><a href=\"#Protected-Master-branch\" class=\"headerlink\" title=\"Protected Master branch\"></a>Protected Master branch</h1><p>Master branch is very important to your project, which should not be manipulated casually, it is recommended to add several protection checks when merge any commit to your master branch.</p>\n<p>It is recommended to do as follows:<br><img src=\"/images/github_project/2.png\" alt=\"\"></p>\n<p>Then look! Your master branch is under protection!<br><img src=\"/images/github_project/3.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p><strong>GitHub</strong> is now widely used platform that helps people develop and distribute their project. Knowing how to use some interesting function of GitHub can make your developing process fluent and stable.</p>\n<ul>\n<li>Issue and pull-request</li>\n<li>Automatic test</li>\n<li>Protected Master branch</li>\n</ul>\n<hr>\n<h1 id=\"Issue-and-Pull-Request\"><a href=\"#Issue-and-Pull-Request\" class=\"headerlink\" title=\"\bIssue and Pull Request\"></a>\bIssue and Pull Request</h1><p>When building a project, the developing history should be open and trackable. In order to do so, it is recommended to use some method to track every change and improvement. Use <strong>Issue</strong> to track every improvements that will do developers good favour.</p>\n<p>Every issue have an index, which is marked by #, looks like <code>#3</code>.</p>\n<p><strong>Pull request</strong> is used for cooperation, GitHub provides many interesting functions with pull request, one of them is <em>Close an issue with pull request</em>. In order to do so, just make the description of your pull request look like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Message: Pull request from forked &quot;xxx&quot;.</span><br><span class=\"line\"></span><br><span class=\"line\">Description: Resolve #3.</span><br></pre></td></tr></table></figure>\n<p><em>&quot;Resolve&quot;</em> is a token that will close an issue, so will <em>&quot;Fix&quot;</em> and <em>&quot;close&quot;</em> do. Check <a href=\"https://help.github.com/articles/closing-issues-using-keywords/\" target=\"_blank\" rel=\"noopener\">official doc</a> for further information.</p>\n<h1 id=\"Automatic-test\"><a href=\"#Automatic-test\" class=\"headerlink\" title=\"Automatic test\"></a>Automatic test</h1><p>Every time you commit something to your project, you have to make sure that the whole project doesn&#39;t break down because of your commit contains bugs or something. Luckily, Travis-CI can do it and its also supported by GitHub, wichi means you can view if your test passed or not before admit a pull request.<br><img src=\"/images/github_project/1.png\" alt=\"\"></p>\n<p>To distribute the automatic test is very simple. All you need to do is add a <code>.travis.yml</code> file to the root directory of your project.</p>\n<p>See <a href=\"https://docs.travis-ci.com/\" target=\"_blank\" rel=\"noopener\">official doc</a> for more help.</p>\n<h1 id=\"Protected-Master-branch\"><a href=\"#Protected-Master-branch\" class=\"headerlink\" title=\"Protected Master branch\"></a>Protected Master branch</h1><p>Master branch is very important to your project, which should not be manipulated casually, it is recommended to add several protection checks when merge any commit to your master branch.</p>\n<p>It is recommended to do as follows:<br><img src=\"/images/github_project/2.png\" alt=\"\"></p>\n<p>Then look! Your master branch is under protection!<br><img src=\"/images/github_project/3.png\" alt=\"\"></p>\n"},{"title":"Leetcode 17.Letter Combinations of a Phone Number","date":"2018-03-30T14:17:13.000Z","_content":"\nGiven a digit string, return all possible letter combinations that the number could represent.\n\nA mapping of digit to letters (just like on the telephone buttons) is given below.\n![](/images/leetcode17_1.png)\n\n    Input:Digit string \"23\"\n    Output: [\"ad\", \"ae\", \"af\", \"bd\", \"be\", \"bf\", \"cd\", \"ce\", \"cf\"].\n\n**Note:**\nAlthough the above answer is in lexicographical order, your answer could be in any order you want.\n\n*java* \n```java\npublic List<String> letterCombinations(String digits) {\n    LinkedList<String> ans = new LinkedList<>();\n    if (0 == digits.length()) {\n        return ans;\n    }\n    String[] mapping = new String[]{\"0\", \"1\", \"abc\", \"def\", \"ghi\", \"jkl\", \"mno\", \"pqrs\", \"tuv\", \"wxyz\"};\n    ans.add(\"\");\n    for (int i = 0; i < digits.length(); i++) {\n        int x = Character.getNumericValue(digits.charAt(i));\n        while (ans.peek().length() == i) {\n            String temp = ans.remove();\n            for (Character c : mapping[x].toCharArray()) {\n                ans.add(temp + c);\n            }\n        }\n    }\n    return ans;\n}\n```\n\nThis alogirthm uses a queque to make sure every new character was added to the previous string, shown as below.\n\n![](/images/leetcode17_2.png)","source":"_posts/Letter-Combinations-of-a-Phone-Number.md","raw":"---\ntitle: Leetcode 17.Letter Combinations of a Phone Number\ndate: 2018-03-30 23:17:13\ncategories:\n- Leetcode\ntags:\n- Leetcode\n- Algorithm\n- Coding\n\n---\n\nGiven a digit string, return all possible letter combinations that the number could represent.\n\nA mapping of digit to letters (just like on the telephone buttons) is given below.\n![](/images/leetcode17_1.png)\n\n    Input:Digit string \"23\"\n    Output: [\"ad\", \"ae\", \"af\", \"bd\", \"be\", \"bf\", \"cd\", \"ce\", \"cf\"].\n\n**Note:**\nAlthough the above answer is in lexicographical order, your answer could be in any order you want.\n\n*java* \n```java\npublic List<String> letterCombinations(String digits) {\n    LinkedList<String> ans = new LinkedList<>();\n    if (0 == digits.length()) {\n        return ans;\n    }\n    String[] mapping = new String[]{\"0\", \"1\", \"abc\", \"def\", \"ghi\", \"jkl\", \"mno\", \"pqrs\", \"tuv\", \"wxyz\"};\n    ans.add(\"\");\n    for (int i = 0; i < digits.length(); i++) {\n        int x = Character.getNumericValue(digits.charAt(i));\n        while (ans.peek().length() == i) {\n            String temp = ans.remove();\n            for (Character c : mapping[x].toCharArray()) {\n                ans.add(temp + c);\n            }\n        }\n    }\n    return ans;\n}\n```\n\nThis alogirthm uses a queque to make sure every new character was added to the previous string, shown as below.\n\n![](/images/leetcode17_2.png)","slug":"Letter-Combinations-of-a-Phone-Number","published":1,"updated":"2018-08-30T12:13:34.193Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxpm000dia11jtrxfc2d","content":"<p>Given a digit string, return all possible letter combinations that the number could represent.</p>\n<p>A mapping of digit to letters (just like on the telephone buttons) is given below.<br><img src=\"/images/leetcode17_1.png\" alt=\"\"></p>\n<pre><code>Input:Digit string &quot;23&quot;\nOutput: [&quot;ad&quot;, &quot;ae&quot;, &quot;af&quot;, &quot;bd&quot;, &quot;be&quot;, &quot;bf&quot;, &quot;cd&quot;, &quot;ce&quot;, &quot;cf&quot;].\n</code></pre><p><strong>Note:</strong><br>Although the above answer is in lexicographical order, your answer could be in any order you want.</p>\n<p><em>java</em><br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title\">letterCombinations</span><span class=\"params\">(String digits)</span> </span>&#123;</span><br><span class=\"line\">    LinkedList&lt;String&gt; ans = <span class=\"keyword\">new</span> LinkedList&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"number\">0</span> == digits.length()) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    String[] mapping = <span class=\"keyword\">new</span> String[]&#123;<span class=\"string\">\"0\"</span>, <span class=\"string\">\"1\"</span>, <span class=\"string\">\"abc\"</span>, <span class=\"string\">\"def\"</span>, <span class=\"string\">\"ghi\"</span>, <span class=\"string\">\"jkl\"</span>, <span class=\"string\">\"mno\"</span>, <span class=\"string\">\"pqrs\"</span>, <span class=\"string\">\"tuv\"</span>, <span class=\"string\">\"wxyz\"</span>&#125;;</span><br><span class=\"line\">    ans.add(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; digits.length(); i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> x = Character.getNumericValue(digits.charAt(i));</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (ans.peek().length() == i) &#123;</span><br><span class=\"line\">            String temp = ans.remove();</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (Character c : mapping[x].toCharArray()) &#123;</span><br><span class=\"line\">                ans.add(temp + c);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>This alogirthm uses a queque to make sure every new character was added to the previous string, shown as below.</p>\n<p><img src=\"/images/leetcode17_2.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Given a digit string, return all possible letter combinations that the number could represent.</p>\n<p>A mapping of digit to letters (just like on the telephone buttons) is given below.<br><img src=\"/images/leetcode17_1.png\" alt=\"\"></p>\n<pre><code>Input:Digit string &quot;23&quot;\nOutput: [&quot;ad&quot;, &quot;ae&quot;, &quot;af&quot;, &quot;bd&quot;, &quot;be&quot;, &quot;bf&quot;, &quot;cd&quot;, &quot;ce&quot;, &quot;cf&quot;].\n</code></pre><p><strong>Note:</strong><br>Although the above answer is in lexicographical order, your answer could be in any order you want.</p>\n<p><em>java</em><br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> List&lt;String&gt; <span class=\"title\">letterCombinations</span><span class=\"params\">(String digits)</span> </span>&#123;</span><br><span class=\"line\">    LinkedList&lt;String&gt; ans = <span class=\"keyword\">new</span> LinkedList&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"number\">0</span> == digits.length()) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    String[] mapping = <span class=\"keyword\">new</span> String[]&#123;<span class=\"string\">\"0\"</span>, <span class=\"string\">\"1\"</span>, <span class=\"string\">\"abc\"</span>, <span class=\"string\">\"def\"</span>, <span class=\"string\">\"ghi\"</span>, <span class=\"string\">\"jkl\"</span>, <span class=\"string\">\"mno\"</span>, <span class=\"string\">\"pqrs\"</span>, <span class=\"string\">\"tuv\"</span>, <span class=\"string\">\"wxyz\"</span>&#125;;</span><br><span class=\"line\">    ans.add(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; digits.length(); i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> x = Character.getNumericValue(digits.charAt(i));</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (ans.peek().length() == i) &#123;</span><br><span class=\"line\">            String temp = ans.remove();</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (Character c : mapping[x].toCharArray()) &#123;</span><br><span class=\"line\">                ans.add(temp + c);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>This alogirthm uses a queque to make sure every new character was added to the previous string, shown as below.</p>\n<p><img src=\"/images/leetcode17_2.png\" alt=\"\"></p>\n"},{"title":"Kick Start2019 Round A Question A. Training","date":"2019-03-31T14:07:37.000Z","_content":"\n## Problem\nAs the football coach at your local school, you have been tasked with picking a team of exactly P students to represent your school. There are N students for you to pick from. The i-th student has a skill rating Si, which is a positive integer indicating how skilled they are.\n\nYou have decided that a team is fair if it has exactly P students on it and they all have the same skill rating. That way, everyone plays as a team. Initially, it might not be possible to pick a fair team, so you will give some of the students one-on-one coaching. It takes one hour of coaching to increase the skill rating of any student by 1.\n\nThe competition season is starting very soon (in fact, the first match has already started!), so you'd like to find the minimum number of hours of coaching you need to give before you are able to pick a fair team.\n\n## Input\nThe first line of the input gives the number of test cases, T. T test cases follow. Each test case starts with a line containing the two integers N and P, the number of students and the number of students you need to pick, respectively. Then, another line follows containing N integers Si; the i-th of these is the skill of the i-th student.\n\n## Output\nFor each test case, output one line containing `Case #x: y` , where x is the test case number (starting from 1) and y is the minimum number of hours of coaching needed, before you can pick a fair team of P students.\n\n## Sample\nInput \n```\n3\n4 3\n3 1 9 100\n6 2\n5 5 1 2 3 4\n5 5\n7 7 1 7 7\n```\n \n \nOutput \n \n```\nCase #1: 14\nCase #2: 0\nCase #3: 6\n```\n  \n## Solution\nThis is another question that requires a certain property in a fixed amount of elements among a long array. For this kind of problem, it's pretty natural to think that a sliding window would be a great solution, for most time, a sliding window algorithm only takes O(n) time.\n\nBack to this problem, it's easy to think that if we put all the players with similar ability together would result in a smaller training time, and to do so, we want the array to be sorted.\n\nThe algorithm is split into two parts: Sort the array and track the training time required.\n\nSay we have a window starting at index $$i$$, and we know the training time for it is $$A_i$$. We also know the the last element of this window is $$a_{i+k-1}$$, and the first element is $$a_i$$. What's the training time for the next window? The answer is $$A_{i+1} = (A_i - (a_{i+k-1} - a_i) + (a_{i+k} - a{i+k-1} * (k-1))$$ . Notice that $$a_{i+k}$$ is the new highest number.\n \nDo also be aware that the number may overflows Integer, use Long instead. The code is as below:\n\n```java \nclass SolutionA {\n    long train(long[] nums, int n, int k) {\n        Arrays.sort(nums);\n        long window = 0l;\n        int i = 0;\n        long high = nums[k-1];\n        for (i=0; i<k; i++) {\n            window += high - nums[i];\n        }\n        long ans = window;\n        long prevHigh = high;\n        for(; i<n; i++) {\n            high = nums[i];\n            window -= prevHigh - nums[i-k];\n            window += (high - prevHigh) * (k-1);\n            ans = Math.min(ans, window);\n            prevHigh = high;\n        }\n        return ans;\n    }\n}\n```","source":"_posts/kick.md","raw":"---\ntitle: Kick Start2019 Round A Question A. Training\ntags:\n  - Computer Science\n  - Algorithm\ncategories: Computer Science\ndate: 2019-03-31 23:07:37\n---\n\n## Problem\nAs the football coach at your local school, you have been tasked with picking a team of exactly P students to represent your school. There are N students for you to pick from. The i-th student has a skill rating Si, which is a positive integer indicating how skilled they are.\n\nYou have decided that a team is fair if it has exactly P students on it and they all have the same skill rating. That way, everyone plays as a team. Initially, it might not be possible to pick a fair team, so you will give some of the students one-on-one coaching. It takes one hour of coaching to increase the skill rating of any student by 1.\n\nThe competition season is starting very soon (in fact, the first match has already started!), so you'd like to find the minimum number of hours of coaching you need to give before you are able to pick a fair team.\n\n## Input\nThe first line of the input gives the number of test cases, T. T test cases follow. Each test case starts with a line containing the two integers N and P, the number of students and the number of students you need to pick, respectively. Then, another line follows containing N integers Si; the i-th of these is the skill of the i-th student.\n\n## Output\nFor each test case, output one line containing `Case #x: y` , where x is the test case number (starting from 1) and y is the minimum number of hours of coaching needed, before you can pick a fair team of P students.\n\n## Sample\nInput \n```\n3\n4 3\n3 1 9 100\n6 2\n5 5 1 2 3 4\n5 5\n7 7 1 7 7\n```\n \n \nOutput \n \n```\nCase #1: 14\nCase #2: 0\nCase #3: 6\n```\n  \n## Solution\nThis is another question that requires a certain property in a fixed amount of elements among a long array. For this kind of problem, it's pretty natural to think that a sliding window would be a great solution, for most time, a sliding window algorithm only takes O(n) time.\n\nBack to this problem, it's easy to think that if we put all the players with similar ability together would result in a smaller training time, and to do so, we want the array to be sorted.\n\nThe algorithm is split into two parts: Sort the array and track the training time required.\n\nSay we have a window starting at index $$i$$, and we know the training time for it is $$A_i$$. We also know the the last element of this window is $$a_{i+k-1}$$, and the first element is $$a_i$$. What's the training time for the next window? The answer is $$A_{i+1} = (A_i - (a_{i+k-1} - a_i) + (a_{i+k} - a{i+k-1} * (k-1))$$ . Notice that $$a_{i+k}$$ is the new highest number.\n \nDo also be aware that the number may overflows Integer, use Long instead. The code is as below:\n\n```java \nclass SolutionA {\n    long train(long[] nums, int n, int k) {\n        Arrays.sort(nums);\n        long window = 0l;\n        int i = 0;\n        long high = nums[k-1];\n        for (i=0; i<k; i++) {\n            window += high - nums[i];\n        }\n        long ans = window;\n        long prevHigh = high;\n        for(; i<n; i++) {\n            high = nums[i];\n            window -= prevHigh - nums[i-k];\n            window += (high - prevHigh) * (k-1);\n            ans = Math.min(ans, window);\n            prevHigh = high;\n        }\n        return ans;\n    }\n}\n```","slug":"kick","published":1,"updated":"2019-03-31T14:33:08.491Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxpo000hia11l5hqqwqk","content":"<h2 id=\"problem\"><a href=\"#Problem\" class=\"headerlink\" title=\"Problem\"></a>Problem</h2><p>As the football coach at your local school, you have been tasked with picking a team of exactly P students to represent your school. There are N students for you to pick from. The i-th student has a skill rating Si, which is a positive integer indicating how skilled they are.</p>\n<p>You have decided that a team is fair if it has exactly P students on it and they all have the same skill rating. That way, everyone plays as a team. Initially, it might not be possible to pick a fair team, so you will give some of the students one-on-one coaching. It takes one hour of coaching to increase the skill rating of any student by 1.</p>\n<p>The competition season is starting very soon (in fact, the first match has already started!), so you&#39;d like to find the minimum number of hours of coaching you need to give before you are able to pick a fair team.</p>\n<h2 id=\"input\"><a href=\"#Input\" class=\"headerlink\" title=\"Input\"></a>Input</h2><p>The first line of the input gives the number of test cases, T. T test cases follow. Each test case starts with a line containing the two integers N and P, the number of students and the number of students you need to pick, respectively. Then, another line follows containing N integers Si; the i-th of these is the skill of the i-th student.</p>\n<h2 id=\"output\"><a href=\"#Output\" class=\"headerlink\" title=\"Output\"></a>Output</h2><p>For each test case, output one line containing <code>Case #x: y</code> , where x is the test case number (starting from 1) and y is the minimum number of hours of coaching needed, before you can pick a fair team of P students.</p>\n<h2 id=\"sample\"><a href=\"#Sample\" class=\"headerlink\" title=\"Sample\"></a>Sample</h2><p>Input<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">3</span><br><span class=\"line\">4 3</span><br><span class=\"line\">3 1 9 100</span><br><span class=\"line\">6 2</span><br><span class=\"line\">5 5 1 2 3 4</span><br><span class=\"line\">5 5</span><br><span class=\"line\">7 7 1 7 7</span><br></pre></td></tr></table></figure></p>\n<p>Output </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Case #1: 14</span><br><span class=\"line\">Case #2: 0</span><br><span class=\"line\">Case #3: 6</span><br></pre></td></tr></table></figure>\n<h2 id=\"solution\"><a href=\"#Solution\" class=\"headerlink\" title=\"Solution\"></a>Solution</h2><p>This is another question that requires a certain property in a fixed amount of elements among a long array. For this kind of problem, it&#39;s pretty natural to think that a sliding window would be a great solution, for most time, a sliding window algorithm only takes O(n) time.</p>\n<p>Back to this problem, it&#39;s easy to think that if we put all the players with similar ability together would result in a smaller training time, and to do so, we want the array to be sorted.</p>\n<p>The algorithm is split into two parts: Sort the array and track the training time required.</p>\n<p>Say we have a window starting at index <script type=\"math/tex\">i</script>, and we know the training time for it is <script type=\"math/tex\">A_i</script>. We also know the the last element of this window is <script type=\"math/tex\">a_{i+k-1}</script>, and the first element is <script type=\"math/tex\">a_i</script>. What&#39;s the training time for the next window? The answer is <script type=\"math/tex\">A_{i+1} = (A_i - (a_{i+k-1} - a_i) + (a_{i+k} - a{i+k-1} * (k-1))</script> . Notice that <script type=\"math/tex\">a_{i+k}</script> is the new highest number.</p>\n<p>Do also be aware that the number may overflows Integer, use Long instead. The code is as below:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SolutionA</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">long</span> <span class=\"title\">train</span><span class=\"params\">(<span class=\"keyword\">long</span>[] nums, <span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        Arrays.sort(nums);</span><br><span class=\"line\">        <span class=\"keyword\">long</span> window = <span class=\"number\">0l</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">long</span> high = nums[k-<span class=\"number\">1</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i=<span class=\"number\">0</span>; i&lt;k; i++) &#123;</span><br><span class=\"line\">            window += high - nums[i];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">long</span> ans = window;</span><br><span class=\"line\">        <span class=\"keyword\">long</span> prevHigh = high;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(; i&lt;n; i++) &#123;</span><br><span class=\"line\">            high = nums[i];</span><br><span class=\"line\">            window -= prevHigh - nums[i-k];</span><br><span class=\"line\">            window += (high - prevHigh) * (k-<span class=\"number\">1</span>);</span><br><span class=\"line\">            ans = Math.min(ans, window);</span><br><span class=\"line\">            prevHigh = high;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Problem\"><a href=\"#Problem\" class=\"headerlink\" title=\"Problem\"></a>Problem</h2><p>As the football coach at your local school, you have been tasked with picking a team of exactly P students to represent your school. There are N students for you to pick from. The i-th student has a skill rating Si, which is a positive integer indicating how skilled they are.</p>\n<p>You have decided that a team is fair if it has exactly P students on it and they all have the same skill rating. That way, everyone plays as a team. Initially, it might not be possible to pick a fair team, so you will give some of the students one-on-one coaching. It takes one hour of coaching to increase the skill rating of any student by 1.</p>\n<p>The competition season is starting very soon (in fact, the first match has already started!), so you&#39;d like to find the minimum number of hours of coaching you need to give before you are able to pick a fair team.</p>\n<h2 id=\"Input\"><a href=\"#Input\" class=\"headerlink\" title=\"Input\"></a>Input</h2><p>The first line of the input gives the number of test cases, T. T test cases follow. Each test case starts with a line containing the two integers N and P, the number of students and the number of students you need to pick, respectively. Then, another line follows containing N integers Si; the i-th of these is the skill of the i-th student.</p>\n<h2 id=\"Output\"><a href=\"#Output\" class=\"headerlink\" title=\"Output\"></a>Output</h2><p>For each test case, output one line containing <code>Case #x: y</code> , where x is the test case number (starting from 1) and y is the minimum number of hours of coaching needed, before you can pick a fair team of P students.</p>\n<h2 id=\"Sample\"><a href=\"#Sample\" class=\"headerlink\" title=\"Sample\"></a>Sample</h2><p>Input<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">3</span><br><span class=\"line\">4 3</span><br><span class=\"line\">3 1 9 100</span><br><span class=\"line\">6 2</span><br><span class=\"line\">5 5 1 2 3 4</span><br><span class=\"line\">5 5</span><br><span class=\"line\">7 7 1 7 7</span><br></pre></td></tr></table></figure></p>\n<p>Output </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Case #1: 14</span><br><span class=\"line\">Case #2: 0</span><br><span class=\"line\">Case #3: 6</span><br></pre></td></tr></table></figure>\n<h2 id=\"Solution\"><a href=\"#Solution\" class=\"headerlink\" title=\"Solution\"></a>Solution</h2><p>This is another question that requires a certain property in a fixed amount of elements among a long array. For this kind of problem, it&#39;s pretty natural to think that a sliding window would be a great solution, for most time, a sliding window algorithm only takes O(n) time.</p>\n<p>Back to this problem, it&#39;s easy to think that if we put all the players with similar ability together would result in a smaller training time, and to do so, we want the array to be sorted.</p>\n<p>The algorithm is split into two parts: Sort the array and track the training time required.</p>\n<p>Say we have a window starting at index <script type=\"math/tex\">i</script>, and we know the training time for it is <script type=\"math/tex\">A_i</script>. We also know the the last element of this window is <script type=\"math/tex\">a_{i+k-1}</script>, and the first element is <script type=\"math/tex\">a_i</script>. What&#39;s the training time for the next window? The answer is <script type=\"math/tex\">A_{i+1} = (A_i - (a_{i+k-1} - a_i) + (a_{i+k} - a{i+k-1} * (k-1))</script> . Notice that <script type=\"math/tex\">a_{i+k}</script> is the new highest number.</p>\n<p>Do also be aware that the number may overflows Integer, use Long instead. The code is as below:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SolutionA</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">long</span> <span class=\"title\">train</span><span class=\"params\">(<span class=\"keyword\">long</span>[] nums, <span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        Arrays.sort(nums);</span><br><span class=\"line\">        <span class=\"keyword\">long</span> window = <span class=\"number\">0l</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">long</span> high = nums[k-<span class=\"number\">1</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i=<span class=\"number\">0</span>; i&lt;k; i++) &#123;</span><br><span class=\"line\">            window += high - nums[i];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">long</span> ans = window;</span><br><span class=\"line\">        <span class=\"keyword\">long</span> prevHigh = high;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(; i&lt;n; i++) &#123;</span><br><span class=\"line\">            high = nums[i];</span><br><span class=\"line\">            window -= prevHigh - nums[i-k];</span><br><span class=\"line\">            window += (high - prevHigh) * (k-<span class=\"number\">1</span>);</span><br><span class=\"line\">            ans = Math.min(ans, window);</span><br><span class=\"line\">            prevHigh = high;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"ArrayBlockingQueue in Java","date":"2019-05-14T14:43:54.000Z","_content":"\n\nMy recent phone interview encountered with an OOD question about multi-thread safe queue (and I'm a new grad).\nI didn't do well so I read into the source code of ArrayBlockingQueue, which is a widely used multi-thread-safe queue class in openJDK.\n\nFor full source code of openJDK, check [here](https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/concurrent/ArrayBlockingQueue.java).\n\n## Class Members\n\n```Java\npublic class ArrayBlockingQueue<E> extends AbstractQueue<E>\n        implements BlockingQueue<E>, java.io.Serializable {\n    \n    /** The queued items */\n    final Object[] items; // Fixed size;\n    \n    /** items index for next take, poll, peek or remove */\n    int takeIndex;\n\n    /** items index for next put, offer, or add */\n    int putIndex;\n\n    /** Number of elements in the queue */\n    int count;\n\n    /*\n     * Concurrency control uses the classic two-condition algorithm\n     * found in any textbook.\n     */\n\n     /** Main lock guarding all access */\n    final ReentrantLock lock;\n    /** Condition for waiting takes */\n    private final Condition notEmpty;\n    /** Condition for waiting puts */\n    private final Condition notFull;\n}\n```\n\nWith these members, ArrayBlockingQueue implemented a fixed-size, multi-thread safe queue.\n\n## Main methods\nFor a queue, there're two main write operations: put one element into the queue, and get one element out from the queue. In multi-thread safe programs all write operations should share a Mutex. Here we're implementing our own version of three different adding method and three different polling method. They should be like\n\nName | Behavior\n------|--------\nadd() | Add an element to the queue. Return true if succeed; Throw IllegalStateException if the queue is full.\noffer() | Add an element to the queue. Return true if succeed; Return false if failed.\nput() | Add an element to the queue. Return true if succeed; Waiting if the queue is full until it's not full.\npoll() | Retrieves and removes the head of this queue, or returns null if this queue is empty.\ntake() | Retrieves and removes the head of this queue, waiting if necessary until an element becomes available.\n\nThe key point here to keep the queue safe is by using a main lock and two conditions. Since all the operations are write operations, they share a Mutex.\n\nLet's look into these methods one by one.\n\n### add()\nIn fact, add simply inherited it's super class's implementation.\n```Java\npublic boolean add(E e) {\n    if (offer(e)) {\n        return true;\n    } else {\n        throw new IllegalStateException(\"Queue full\");\n    }\n}\n```\n\n### offer()\n```Java\n    /**\n     * Inserts the specified element at the tail of this queue if it is\n     * possible to do so immediately without exceeding the queue's capacity,\n     * returning {@code true} upon success and {@code false} if this queue\n     * is full.  This method is generally preferable to method {@link #add},\n     * which can fail to insert an element only by throwing an exception.\n     *\n     * @throws NullPointerException if the specified element is null\n     */\n    public boolean offer(E e) {\n        checkNotNull(e);\n        final ReentrantLock lock = this.lock;\n        lock.lock();    // Make sure only one thread can write to the queue\n        try {\n            if (count == items.length)\n                return false;\n            else {\n                insert(e);\n                return true;\n            }\n        } finally {\n            lock.unlock();          // Release the lock\n        }\n    }\n```\n\n### put()\n```Java\n    /**\n     * Inserts the specified element at the tail of this queue, waiting\n     * for space to become available if the queue is full.\n     *\n     * @throws InterruptedException {@inheritDoc}\n     * @throws NullPointerException {@inheritDoc}\n     */\n    public void put(E e) throws InterruptedException {\n        checkNotNull(e);\n        final ReentrantLock lock = this.lock;\n        lock.lockInterruptibly();   // Make sure only one thread can write to the queue\n        try {\n            while (count == items.length)   // If the queue is full, current thread would get hang up.\n                notFull.await();            // And the condition turns to await status.\n            insert(e);\n        } finally {\n            lock.unlock();          // Release the lock\n        }\n    }\n```\n\n### lock() and lockInterruptibly()\n\nAs we can see from the code above, in `offer()`, we used `lock.lock()`. However in `put()`, we used `lock.lockInterruptibly()` instead. What is the difference between them?\n\n`lock.lock()` would continuously trying to get the lock. \n`lock.lockInterruptibly()` behaves almost the same as `lock()`, however, if it is already interrupted or is interrupted while trying to get the lock, it would throw an exception, which should be handled by it's invoker.\n\n### poll()\n```Java\n    public E poll() {\n        final ReentrantLock lock = this.lock;   // Make sure only one thread can write to the queue\n        lock.lock();\n        try {\n            return (count == 0) ? null : extract();\n        } finally {\n            lock.unlock();      // Release the lock\n        }\n    }\n```\n\n### take()\n```Java\n    public E take() throws InterruptedException {\n        final ReentrantLock lock = this.lock;   // Make sure only one thread can write to the queue\n        lock.lockInterruptibly();\n        try {\n            while (count == 0)      // If current queue is empty, current thread get hang up.\n                notEmpty.await();   // And the empty condition changes its status.\n            return extract();\n        } finally {\n            lock.unlock();      // Release the lock\n        }\n    }\n```\n\n### insert() and extract()\nThese two methods basically does two thing: do the operation and notify the awaiting process.\n\n```Java\n    /**\n     * Inserts element at current put position, advances, and signals.\n     * Call only when holding lock.\n     */\n    private void insert(E x) {\n        items[putIndex] = x;\n        putIndex = inc(putIndex);       // Circularly decrement i.\n        ++count;\n        notEmpty.signal();              // Notify the notEmpty condition.\n    }\n\n    /**\n     * Extracts element at current take position, advances, and signals.\n     * Call only when holding lock.\n     */\n    private E extract() {\n        final Object[] items = this.items;\n        E x = this.<E>cast(items[takeIndex]);\n        items[takeIndex] = null;\n        takeIndex = inc(takeIndex);     // Circularly decrement i.\n        --count;\n        notFull.signal();               // Nofity the notEmpty condition.\n        return x;\n    }\n```\n\nAbove is the main part of the ArrayBlockingQueue in Java (openJDK). It's easy to understand, and a good review of two-condition algorithm.","source":"_posts/multiThread.md","raw":"---\ntitle: ArrayBlockingQueue in Java\ntags:\n  - Engineer\n  - Java\n  - Multi Thread\ncategories:\n  - Engineer\ndate: 2019-05-14 23:43:54\n---\n\n\nMy recent phone interview encountered with an OOD question about multi-thread safe queue (and I'm a new grad).\nI didn't do well so I read into the source code of ArrayBlockingQueue, which is a widely used multi-thread-safe queue class in openJDK.\n\nFor full source code of openJDK, check [here](https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/concurrent/ArrayBlockingQueue.java).\n\n## Class Members\n\n```Java\npublic class ArrayBlockingQueue<E> extends AbstractQueue<E>\n        implements BlockingQueue<E>, java.io.Serializable {\n    \n    /** The queued items */\n    final Object[] items; // Fixed size;\n    \n    /** items index for next take, poll, peek or remove */\n    int takeIndex;\n\n    /** items index for next put, offer, or add */\n    int putIndex;\n\n    /** Number of elements in the queue */\n    int count;\n\n    /*\n     * Concurrency control uses the classic two-condition algorithm\n     * found in any textbook.\n     */\n\n     /** Main lock guarding all access */\n    final ReentrantLock lock;\n    /** Condition for waiting takes */\n    private final Condition notEmpty;\n    /** Condition for waiting puts */\n    private final Condition notFull;\n}\n```\n\nWith these members, ArrayBlockingQueue implemented a fixed-size, multi-thread safe queue.\n\n## Main methods\nFor a queue, there're two main write operations: put one element into the queue, and get one element out from the queue. In multi-thread safe programs all write operations should share a Mutex. Here we're implementing our own version of three different adding method and three different polling method. They should be like\n\nName | Behavior\n------|--------\nadd() | Add an element to the queue. Return true if succeed; Throw IllegalStateException if the queue is full.\noffer() | Add an element to the queue. Return true if succeed; Return false if failed.\nput() | Add an element to the queue. Return true if succeed; Waiting if the queue is full until it's not full.\npoll() | Retrieves and removes the head of this queue, or returns null if this queue is empty.\ntake() | Retrieves and removes the head of this queue, waiting if necessary until an element becomes available.\n\nThe key point here to keep the queue safe is by using a main lock and two conditions. Since all the operations are write operations, they share a Mutex.\n\nLet's look into these methods one by one.\n\n### add()\nIn fact, add simply inherited it's super class's implementation.\n```Java\npublic boolean add(E e) {\n    if (offer(e)) {\n        return true;\n    } else {\n        throw new IllegalStateException(\"Queue full\");\n    }\n}\n```\n\n### offer()\n```Java\n    /**\n     * Inserts the specified element at the tail of this queue if it is\n     * possible to do so immediately without exceeding the queue's capacity,\n     * returning {@code true} upon success and {@code false} if this queue\n     * is full.  This method is generally preferable to method {@link #add},\n     * which can fail to insert an element only by throwing an exception.\n     *\n     * @throws NullPointerException if the specified element is null\n     */\n    public boolean offer(E e) {\n        checkNotNull(e);\n        final ReentrantLock lock = this.lock;\n        lock.lock();    // Make sure only one thread can write to the queue\n        try {\n            if (count == items.length)\n                return false;\n            else {\n                insert(e);\n                return true;\n            }\n        } finally {\n            lock.unlock();          // Release the lock\n        }\n    }\n```\n\n### put()\n```Java\n    /**\n     * Inserts the specified element at the tail of this queue, waiting\n     * for space to become available if the queue is full.\n     *\n     * @throws InterruptedException {@inheritDoc}\n     * @throws NullPointerException {@inheritDoc}\n     */\n    public void put(E e) throws InterruptedException {\n        checkNotNull(e);\n        final ReentrantLock lock = this.lock;\n        lock.lockInterruptibly();   // Make sure only one thread can write to the queue\n        try {\n            while (count == items.length)   // If the queue is full, current thread would get hang up.\n                notFull.await();            // And the condition turns to await status.\n            insert(e);\n        } finally {\n            lock.unlock();          // Release the lock\n        }\n    }\n```\n\n### lock() and lockInterruptibly()\n\nAs we can see from the code above, in `offer()`, we used `lock.lock()`. However in `put()`, we used `lock.lockInterruptibly()` instead. What is the difference between them?\n\n`lock.lock()` would continuously trying to get the lock. \n`lock.lockInterruptibly()` behaves almost the same as `lock()`, however, if it is already interrupted or is interrupted while trying to get the lock, it would throw an exception, which should be handled by it's invoker.\n\n### poll()\n```Java\n    public E poll() {\n        final ReentrantLock lock = this.lock;   // Make sure only one thread can write to the queue\n        lock.lock();\n        try {\n            return (count == 0) ? null : extract();\n        } finally {\n            lock.unlock();      // Release the lock\n        }\n    }\n```\n\n### take()\n```Java\n    public E take() throws InterruptedException {\n        final ReentrantLock lock = this.lock;   // Make sure only one thread can write to the queue\n        lock.lockInterruptibly();\n        try {\n            while (count == 0)      // If current queue is empty, current thread get hang up.\n                notEmpty.await();   // And the empty condition changes its status.\n            return extract();\n        } finally {\n            lock.unlock();      // Release the lock\n        }\n    }\n```\n\n### insert() and extract()\nThese two methods basically does two thing: do the operation and notify the awaiting process.\n\n```Java\n    /**\n     * Inserts element at current put position, advances, and signals.\n     * Call only when holding lock.\n     */\n    private void insert(E x) {\n        items[putIndex] = x;\n        putIndex = inc(putIndex);       // Circularly decrement i.\n        ++count;\n        notEmpty.signal();              // Notify the notEmpty condition.\n    }\n\n    /**\n     * Extracts element at current take position, advances, and signals.\n     * Call only when holding lock.\n     */\n    private E extract() {\n        final Object[] items = this.items;\n        E x = this.<E>cast(items[takeIndex]);\n        items[takeIndex] = null;\n        takeIndex = inc(takeIndex);     // Circularly decrement i.\n        --count;\n        notFull.signal();               // Nofity the notEmpty condition.\n        return x;\n    }\n```\n\nAbove is the main part of the ArrayBlockingQueue in Java (openJDK). It's easy to understand, and a good review of two-condition algorithm.","slug":"multiThread","published":1,"updated":"2019-05-14T14:49:15.668Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxpq000kia114w1nk1p0","content":"<p>My recent phone interview encountered with an OOD question about multi-thread safe queue (and I&#39;m a new grad).<br>I didn&#39;t do well so I read into the source code of ArrayBlockingQueue, which is a widely used multi-thread-safe queue class in openJDK.</p>\n<p>For full source code of openJDK, check <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/concurrent/ArrayBlockingQueue.java\" target=\"_blank\" rel=\"noopener\">here</a>.</p>\n<h2 id=\"class-members\"><a href=\"#Class-Members\" class=\"headerlink\" title=\"Class Members\"></a>Class Members</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ArrayBlockingQueue</span>&lt;<span class=\"title\">E</span>&gt; <span class=\"keyword\">extends</span> <span class=\"title\">AbstractQueue</span>&lt;<span class=\"title\">E</span>&gt;</span></span><br><span class=\"line\"><span class=\"class\">        <span class=\"keyword\">implements</span> <span class=\"title\">BlockingQueue</span>&lt;<span class=\"title\">E</span>&gt;, <span class=\"title\">java</span>.<span class=\"title\">io</span>.<span class=\"title\">Serializable</span> </span>&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/** The queued items */</span></span><br><span class=\"line\">    <span class=\"keyword\">final</span> Object[] items; <span class=\"comment\">// Fixed size;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/** items index for next take, poll, peek or remove */</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> takeIndex;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/** items index for next put, offer, or add */</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> putIndex;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/** Number of elements in the queue */</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> count;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">     * Concurrency control uses the classic two-condition algorithm</span></span><br><span class=\"line\"><span class=\"comment\">     * found in any textbook.</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"comment\">/** Main lock guarding all access */</span></span><br><span class=\"line\">    <span class=\"keyword\">final</span> ReentrantLock lock;</span><br><span class=\"line\">    <span class=\"comment\">/** Condition for waiting takes */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> Condition notEmpty;</span><br><span class=\"line\">    <span class=\"comment\">/** Condition for waiting puts */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> Condition notFull;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>With these members, ArrayBlockingQueue implemented a fixed-size, multi-thread safe queue.</p>\n<h2 id=\"main-methods\"><a href=\"#Main-methods\" class=\"headerlink\" title=\"Main methods\"></a>Main methods</h2><p>For a queue, there&#39;re two main write operations: put one element into the queue, and get one element out from the queue. In multi-thread safe programs all write operations should share a Mutex. Here we&#39;re implementing our own version of three different adding method and three different polling method. They should be like</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Behavior</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>add()</td>\n<td>Add an element to the queue. Return true if succeed; Throw IllegalStateException if the queue is full.</td>\n</tr>\n<tr>\n<td>offer()</td>\n<td>Add an element to the queue. Return true if succeed; Return false if failed.</td>\n</tr>\n<tr>\n<td>put()</td>\n<td>Add an element to the queue. Return true if succeed; Waiting if the queue is full until it&#39;s not full.</td>\n</tr>\n<tr>\n<td>poll()</td>\n<td>Retrieves and removes the head of this queue, or returns null if this queue is empty.</td>\n</tr>\n<tr>\n<td>take()</td>\n<td>Retrieves and removes the head of this queue, waiting if necessary until an element becomes available.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The key point here to keep the queue safe is by using a main lock and two conditions. Since all the operations are write operations, they share a Mutex.</p>\n<p>Let&#39;s look into these methods one by one.</p>\n<h3 id=\"add\"><a href=\"#add\" class=\"headerlink\" title=\"add()\"></a>add()</h3><p>In fact, add simply inherited it&#39;s super class&#39;s implementation.<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">add</span><span class=\"params\">(E e)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (offer(e)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> IllegalStateException(<span class=\"string\">\"Queue full\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"offer\"><a href=\"#offer\" class=\"headerlink\" title=\"offer()\"></a>offer()</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Inserts the specified element at the tail of this queue if it is</span></span><br><span class=\"line\"><span class=\"comment\"> * possible to do so immediately without exceeding the queue's capacity,</span></span><br><span class=\"line\"><span class=\"comment\"> * returning &#123;<span class=\"doctag\">@code</span> true&#125; upon success and &#123;<span class=\"doctag\">@code</span> false&#125; if this queue</span></span><br><span class=\"line\"><span class=\"comment\"> * is full.  This method is generally preferable to method &#123;<span class=\"doctag\">@link</span> #add&#125;,</span></span><br><span class=\"line\"><span class=\"comment\"> * which can fail to insert an element only by throwing an exception.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@throws</span> NullPointerException if the specified element is null</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">offer</span><span class=\"params\">(E e)</span> </span>&#123;</span><br><span class=\"line\">    checkNotNull(e);</span><br><span class=\"line\">    <span class=\"keyword\">final</span> ReentrantLock lock = <span class=\"keyword\">this</span>.lock;</span><br><span class=\"line\">    lock.lock();    <span class=\"comment\">// Make sure only one thread can write to the queue</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (count == items.length)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            insert(e);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        lock.unlock();          <span class=\"comment\">// Release the lock</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"put\"><a href=\"#put\" class=\"headerlink\" title=\"put()\"></a>put()</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Inserts the specified element at the tail of this queue, waiting</span></span><br><span class=\"line\"><span class=\"comment\"> * for space to become available if the queue is full.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@throws</span> InterruptedException &#123;<span class=\"doctag\">@inheritDoc</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@throws</span> NullPointerException &#123;<span class=\"doctag\">@inheritDoc</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">put</span><span class=\"params\">(E e)</span> <span class=\"keyword\">throws</span> InterruptedException </span>&#123;</span><br><span class=\"line\">    checkNotNull(e);</span><br><span class=\"line\">    <span class=\"keyword\">final</span> ReentrantLock lock = <span class=\"keyword\">this</span>.lock;</span><br><span class=\"line\">    lock.lockInterruptibly();   <span class=\"comment\">// Make sure only one thread can write to the queue</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (count == items.length)   <span class=\"comment\">// If the queue is full, current thread would get hang up.</span></span><br><span class=\"line\">            notFull.await();            <span class=\"comment\">// And the condition turns to await status.</span></span><br><span class=\"line\">        insert(e);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        lock.unlock();          <span class=\"comment\">// Release the lock</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"lock-and-lockinterruptibly\"><a href=\"#lock-and-lockInterruptibly\" class=\"headerlink\" title=\"lock() and lockInterruptibly()\"></a>lock() and lockInterruptibly()</h3><p>As we can see from the code above, in <code>offer()</code>, we used <code>lock.lock()</code>. However in <code>put()</code>, we used <code>lock.lockInterruptibly()</code> instead. What is the difference between them?</p>\n<p><code>lock.lock()</code> would continuously trying to get the lock.<br><code>lock.lockInterruptibly()</code> behaves almost the same as <code>lock()</code>, however, if it is already interrupted or is interrupted while trying to get the lock, it would throw an exception, which should be handled by it&#39;s invoker.</p>\n<h3 id=\"poll\"><a href=\"#poll\" class=\"headerlink\" title=\"poll()\"></a>poll()</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> E <span class=\"title\">poll</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> ReentrantLock lock = <span class=\"keyword\">this</span>.lock;   <span class=\"comment\">// Make sure only one thread can write to the queue</span></span><br><span class=\"line\">    lock.lock();</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (count == <span class=\"number\">0</span>) ? <span class=\"keyword\">null</span> : extract();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        lock.unlock();      <span class=\"comment\">// Release the lock</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"take\"><a href=\"#take\" class=\"headerlink\" title=\"take()\"></a>take()</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> E <span class=\"title\">take</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> InterruptedException </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> ReentrantLock lock = <span class=\"keyword\">this</span>.lock;   <span class=\"comment\">// Make sure only one thread can write to the queue</span></span><br><span class=\"line\">    lock.lockInterruptibly();</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (count == <span class=\"number\">0</span>)      <span class=\"comment\">// If current queue is empty, current thread get hang up.</span></span><br><span class=\"line\">            notEmpty.await();   <span class=\"comment\">// And the empty condition changes its status.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> extract();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        lock.unlock();      <span class=\"comment\">// Release the lock</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"insert-and-extract\"><a href=\"#insert-and-extract\" class=\"headerlink\" title=\"insert() and extract()\"></a>insert() and extract()</h3><p>These two methods basically does two thing: do the operation and notify the awaiting process.</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Inserts element at current put position, advances, and signals.</span></span><br><span class=\"line\"><span class=\"comment\"> * Call only when holding lock.</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">insert</span><span class=\"params\">(E x)</span> </span>&#123;</span><br><span class=\"line\">    items[putIndex] = x;</span><br><span class=\"line\">    putIndex = inc(putIndex);       <span class=\"comment\">// Circularly decrement i.</span></span><br><span class=\"line\">    ++count;</span><br><span class=\"line\">    notEmpty.signal();              <span class=\"comment\">// Notify the notEmpty condition.</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Extracts element at current take position, advances, and signals.</span></span><br><span class=\"line\"><span class=\"comment\"> * Call only when holding lock.</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> E <span class=\"title\">extract</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> Object[] items = <span class=\"keyword\">this</span>.items;</span><br><span class=\"line\">    E x = <span class=\"keyword\">this</span>.&lt;E&gt;cast(items[takeIndex]);</span><br><span class=\"line\">    items[takeIndex] = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    takeIndex = inc(takeIndex);     <span class=\"comment\">// Circularly decrement i.</span></span><br><span class=\"line\">    --count;</span><br><span class=\"line\">    notFull.signal();               <span class=\"comment\">// Nofity the notEmpty condition.</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> x;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Above is the main part of the ArrayBlockingQueue in Java (openJDK). It&#39;s easy to understand, and a good review of two-condition algorithm.</p>\n","site":{"data":{}},"excerpt":"","more":"<p>My recent phone interview encountered with an OOD question about multi-thread safe queue (and I&#39;m a new grad).<br>I didn&#39;t do well so I read into the source code of ArrayBlockingQueue, which is a widely used multi-thread-safe queue class in openJDK.</p>\n<p>For full source code of openJDK, check <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/concurrent/ArrayBlockingQueue.java\" target=\"_blank\" rel=\"noopener\">here</a>.</p>\n<h2 id=\"Class-Members\"><a href=\"#Class-Members\" class=\"headerlink\" title=\"Class Members\"></a>Class Members</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ArrayBlockingQueue</span>&lt;<span class=\"title\">E</span>&gt; <span class=\"keyword\">extends</span> <span class=\"title\">AbstractQueue</span>&lt;<span class=\"title\">E</span>&gt;</span></span><br><span class=\"line\"><span class=\"class\">        <span class=\"keyword\">implements</span> <span class=\"title\">BlockingQueue</span>&lt;<span class=\"title\">E</span>&gt;, <span class=\"title\">java</span>.<span class=\"title\">io</span>.<span class=\"title\">Serializable</span> </span>&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/** The queued items */</span></span><br><span class=\"line\">    <span class=\"keyword\">final</span> Object[] items; <span class=\"comment\">// Fixed size;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/** items index for next take, poll, peek or remove */</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> takeIndex;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/** items index for next put, offer, or add */</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> putIndex;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/** Number of elements in the queue */</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> count;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">     * Concurrency control uses the classic two-condition algorithm</span></span><br><span class=\"line\"><span class=\"comment\">     * found in any textbook.</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"comment\">/** Main lock guarding all access */</span></span><br><span class=\"line\">    <span class=\"keyword\">final</span> ReentrantLock lock;</span><br><span class=\"line\">    <span class=\"comment\">/** Condition for waiting takes */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> Condition notEmpty;</span><br><span class=\"line\">    <span class=\"comment\">/** Condition for waiting puts */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> Condition notFull;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>With these members, ArrayBlockingQueue implemented a fixed-size, multi-thread safe queue.</p>\n<h2 id=\"Main-methods\"><a href=\"#Main-methods\" class=\"headerlink\" title=\"Main methods\"></a>Main methods</h2><p>For a queue, there&#39;re two main write operations: put one element into the queue, and get one element out from the queue. In multi-thread safe programs all write operations should share a Mutex. Here we&#39;re implementing our own version of three different adding method and three different polling method. They should be like</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Behavior</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>add()</td>\n<td>Add an element to the queue. Return true if succeed; Throw IllegalStateException if the queue is full.</td>\n</tr>\n<tr>\n<td>offer()</td>\n<td>Add an element to the queue. Return true if succeed; Return false if failed.</td>\n</tr>\n<tr>\n<td>put()</td>\n<td>Add an element to the queue. Return true if succeed; Waiting if the queue is full until it&#39;s not full.</td>\n</tr>\n<tr>\n<td>poll()</td>\n<td>Retrieves and removes the head of this queue, or returns null if this queue is empty.</td>\n</tr>\n<tr>\n<td>take()</td>\n<td>Retrieves and removes the head of this queue, waiting if necessary until an element becomes available.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The key point here to keep the queue safe is by using a main lock and two conditions. Since all the operations are write operations, they share a Mutex.</p>\n<p>Let&#39;s look into these methods one by one.</p>\n<h3 id=\"add\"><a href=\"#add\" class=\"headerlink\" title=\"add()\"></a>add()</h3><p>In fact, add simply inherited it&#39;s super class&#39;s implementation.<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">add</span><span class=\"params\">(E e)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (offer(e)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> IllegalStateException(<span class=\"string\">\"Queue full\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"offer\"><a href=\"#offer\" class=\"headerlink\" title=\"offer()\"></a>offer()</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Inserts the specified element at the tail of this queue if it is</span></span><br><span class=\"line\"><span class=\"comment\"> * possible to do so immediately without exceeding the queue's capacity,</span></span><br><span class=\"line\"><span class=\"comment\"> * returning &#123;<span class=\"doctag\">@code</span> true&#125; upon success and &#123;<span class=\"doctag\">@code</span> false&#125; if this queue</span></span><br><span class=\"line\"><span class=\"comment\"> * is full.  This method is generally preferable to method &#123;<span class=\"doctag\">@link</span> #add&#125;,</span></span><br><span class=\"line\"><span class=\"comment\"> * which can fail to insert an element only by throwing an exception.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@throws</span> NullPointerException if the specified element is null</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">offer</span><span class=\"params\">(E e)</span> </span>&#123;</span><br><span class=\"line\">    checkNotNull(e);</span><br><span class=\"line\">    <span class=\"keyword\">final</span> ReentrantLock lock = <span class=\"keyword\">this</span>.lock;</span><br><span class=\"line\">    lock.lock();    <span class=\"comment\">// Make sure only one thread can write to the queue</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (count == items.length)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            insert(e);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        lock.unlock();          <span class=\"comment\">// Release the lock</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"put\"><a href=\"#put\" class=\"headerlink\" title=\"put()\"></a>put()</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Inserts the specified element at the tail of this queue, waiting</span></span><br><span class=\"line\"><span class=\"comment\"> * for space to become available if the queue is full.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@throws</span> InterruptedException &#123;<span class=\"doctag\">@inheritDoc</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@throws</span> NullPointerException &#123;<span class=\"doctag\">@inheritDoc</span>&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">put</span><span class=\"params\">(E e)</span> <span class=\"keyword\">throws</span> InterruptedException </span>&#123;</span><br><span class=\"line\">    checkNotNull(e);</span><br><span class=\"line\">    <span class=\"keyword\">final</span> ReentrantLock lock = <span class=\"keyword\">this</span>.lock;</span><br><span class=\"line\">    lock.lockInterruptibly();   <span class=\"comment\">// Make sure only one thread can write to the queue</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (count == items.length)   <span class=\"comment\">// If the queue is full, current thread would get hang up.</span></span><br><span class=\"line\">            notFull.await();            <span class=\"comment\">// And the condition turns to await status.</span></span><br><span class=\"line\">        insert(e);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        lock.unlock();          <span class=\"comment\">// Release the lock</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"lock-and-lockInterruptibly\"><a href=\"#lock-and-lockInterruptibly\" class=\"headerlink\" title=\"lock() and lockInterruptibly()\"></a>lock() and lockInterruptibly()</h3><p>As we can see from the code above, in <code>offer()</code>, we used <code>lock.lock()</code>. However in <code>put()</code>, we used <code>lock.lockInterruptibly()</code> instead. What is the difference between them?</p>\n<p><code>lock.lock()</code> would continuously trying to get the lock.<br><code>lock.lockInterruptibly()</code> behaves almost the same as <code>lock()</code>, however, if it is already interrupted or is interrupted while trying to get the lock, it would throw an exception, which should be handled by it&#39;s invoker.</p>\n<h3 id=\"poll\"><a href=\"#poll\" class=\"headerlink\" title=\"poll()\"></a>poll()</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> E <span class=\"title\">poll</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> ReentrantLock lock = <span class=\"keyword\">this</span>.lock;   <span class=\"comment\">// Make sure only one thread can write to the queue</span></span><br><span class=\"line\">    lock.lock();</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (count == <span class=\"number\">0</span>) ? <span class=\"keyword\">null</span> : extract();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        lock.unlock();      <span class=\"comment\">// Release the lock</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"take\"><a href=\"#take\" class=\"headerlink\" title=\"take()\"></a>take()</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> E <span class=\"title\">take</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> InterruptedException </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> ReentrantLock lock = <span class=\"keyword\">this</span>.lock;   <span class=\"comment\">// Make sure only one thread can write to the queue</span></span><br><span class=\"line\">    lock.lockInterruptibly();</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (count == <span class=\"number\">0</span>)      <span class=\"comment\">// If current queue is empty, current thread get hang up.</span></span><br><span class=\"line\">            notEmpty.await();   <span class=\"comment\">// And the empty condition changes its status.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> extract();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        lock.unlock();      <span class=\"comment\">// Release the lock</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"insert-and-extract\"><a href=\"#insert-and-extract\" class=\"headerlink\" title=\"insert() and extract()\"></a>insert() and extract()</h3><p>These two methods basically does two thing: do the operation and notify the awaiting process.</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Inserts element at current put position, advances, and signals.</span></span><br><span class=\"line\"><span class=\"comment\"> * Call only when holding lock.</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">insert</span><span class=\"params\">(E x)</span> </span>&#123;</span><br><span class=\"line\">    items[putIndex] = x;</span><br><span class=\"line\">    putIndex = inc(putIndex);       <span class=\"comment\">// Circularly decrement i.</span></span><br><span class=\"line\">    ++count;</span><br><span class=\"line\">    notEmpty.signal();              <span class=\"comment\">// Notify the notEmpty condition.</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Extracts element at current take position, advances, and signals.</span></span><br><span class=\"line\"><span class=\"comment\"> * Call only when holding lock.</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> E <span class=\"title\">extract</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> Object[] items = <span class=\"keyword\">this</span>.items;</span><br><span class=\"line\">    E x = <span class=\"keyword\">this</span>.&lt;E&gt;cast(items[takeIndex]);</span><br><span class=\"line\">    items[takeIndex] = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    takeIndex = inc(takeIndex);     <span class=\"comment\">// Circularly decrement i.</span></span><br><span class=\"line\">    --count;</span><br><span class=\"line\">    notFull.signal();               <span class=\"comment\">// Nofity the notEmpty condition.</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> x;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Above is the main part of the ArrayBlockingQueue in Java (openJDK). It&#39;s easy to understand, and a good review of two-condition algorithm.</p>\n"},{"title":"Python, Deeper Understanding","date":"2018-10-28T12:32:18.000Z","_content":"\n\n> Here's the plan: when someone uses a feature you don't understand, simply shoot them. This is easier than learning something new, and before too long the only living coders will be writing in an easily understood, tiny subset of Python 0.9.6 (wink).\n<p align=\"right\">Tim Peters, Legendary Core developer and author of The Zen of Python</p>\n\n-----------\nSadly, I've been one of those \"shooters\" for a long time. I've been writing Python code for around four years on many different tasks. From back-end server that provide service to many clients, to playing Kaggle competitions, Python has always been one of the most frequently used languages and I do really like it in most cases (however, there're also some cases that I really messed up with it). Looking back in those code I've written, I start to think, are they elegant enough? The answer is definitely NO. The python provided multiple interesting and power features that is different from C++ and JAVA, but I never used them. \n\nSince I would work with Python for a long time in the coming future, I'd better learn more about Python and try to write more pythonic code. Besides, the Zen of Python is influencing the design of many other languages, understanding more about the successful language would benefit those who like and enjoy programming.\n\n This series would be a memo and conclusion of Python, basically Python 3.6, mainly talking about more advanced Python features, so before reading it, you are thought to have experience of programming Python, be able to write, read and understand basic Python code. This series is for those who want to go further and write more elegant (pythonic?) code. Discussion and comments are welcomed.","source":"_posts/python0.md","raw":"---\ntitle: 'Python, Deeper Understanding'\ntags:\n  - Python\n  - Engineer\n  - Programming\ncategories:\n  - Computer Science\ndate: 2018-10-28 21:32:18\n---\n\n\n> Here's the plan: when someone uses a feature you don't understand, simply shoot them. This is easier than learning something new, and before too long the only living coders will be writing in an easily understood, tiny subset of Python 0.9.6 (wink).\n<p align=\"right\">Tim Peters, Legendary Core developer and author of The Zen of Python</p>\n\n-----------\nSadly, I've been one of those \"shooters\" for a long time. I've been writing Python code for around four years on many different tasks. From back-end server that provide service to many clients, to playing Kaggle competitions, Python has always been one of the most frequently used languages and I do really like it in most cases (however, there're also some cases that I really messed up with it). Looking back in those code I've written, I start to think, are they elegant enough? The answer is definitely NO. The python provided multiple interesting and power features that is different from C++ and JAVA, but I never used them. \n\nSince I would work with Python for a long time in the coming future, I'd better learn more about Python and try to write more pythonic code. Besides, the Zen of Python is influencing the design of many other languages, understanding more about the successful language would benefit those who like and enjoy programming.\n\n This series would be a memo and conclusion of Python, basically Python 3.6, mainly talking about more advanced Python features, so before reading it, you are thought to have experience of programming Python, be able to write, read and understand basic Python code. This series is for those who want to go further and write more elegant (pythonic?) code. Discussion and comments are welcomed.","slug":"python0","published":1,"updated":"2018-10-28T12:34:14.313Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxps000oia11bgil099q","content":"<blockquote>\n<p>Here&#39;s the plan: when someone uses a feature you don&#39;t understand, simply shoot them. This is easier than learning something new, and before too long the only living coders will be writing in an easily understood, tiny subset of Python 0.9.6 (wink).</p>\n<p align=\"right\">Tim Peters, Legendary Core developer and author of The Zen of Python</p>\n\n</blockquote>\n<hr>\n<p>Sadly, I&#39;ve been one of those &quot;shooters&quot; for a long time. I&#39;ve been writing Python code for around four years on many different tasks. From back-end server that provide service to many clients, to playing Kaggle competitions, Python has always been one of the most frequently used languages and I do really like it in most cases (however, there&#39;re also some cases that I really messed up with it). Looking back in those code I&#39;ve written, I start to think, are they elegant enough? The answer is definitely NO. The python provided multiple interesting and power features that is different from C++ and JAVA, but I never used them. </p>\n<p>Since I would work with Python for a long time in the coming future, I&#39;d better learn more about Python and try to write more pythonic code. Besides, the Zen of Python is influencing the design of many other languages, understanding more about the successful language would benefit those who like and enjoy programming.</p>\n<p> This series would be a memo and conclusion of Python, basically Python 3.6, mainly talking about more advanced Python features, so before reading it, you are thought to have experience of programming Python, be able to write, read and understand basic Python code. This series is for those who want to go further and write more elegant (pythonic?) code. Discussion and comments are welcomed.</p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>Here&#39;s the plan: when someone uses a feature you don&#39;t understand, simply shoot them. This is easier than learning something new, and before too long the only living coders will be writing in an easily understood, tiny subset of Python 0.9.6 (wink).</p>\n<p align=\"right\">Tim Peters, Legendary Core developer and author of The Zen of Python</p>\n\n</blockquote>\n<hr>\n<p>Sadly, I&#39;ve been one of those &quot;shooters&quot; for a long time. I&#39;ve been writing Python code for around four years on many different tasks. From back-end server that provide service to many clients, to playing Kaggle competitions, Python has always been one of the most frequently used languages and I do really like it in most cases (however, there&#39;re also some cases that I really messed up with it). Looking back in those code I&#39;ve written, I start to think, are they elegant enough? The answer is definitely NO. The python provided multiple interesting and power features that is different from C++ and JAVA, but I never used them. </p>\n<p>Since I would work with Python for a long time in the coming future, I&#39;d better learn more about Python and try to write more pythonic code. Besides, the Zen of Python is influencing the design of many other languages, understanding more about the successful language would benefit those who like and enjoy programming.</p>\n<p> This series would be a memo and conclusion of Python, basically Python 3.6, mainly talking about more advanced Python features, so before reading it, you are thought to have experience of programming Python, be able to write, read and understand basic Python code. This series is for those who want to go further and write more elegant (pythonic?) code. Discussion and comments are welcomed.</p>\n"},{"title":"Data Model, Special Methods","date":"2018-12-06T13:39:46.000Z","_content":"\n\nIn the last {% post_link python1 blog %}, we had a slight feeling about the magical things that special methods can do. This time, we'll talk deeper into how to use those special methods.\n\n## 1.2 How to Use Special Methods\n\n> Specially, we have to be clear that, special methods are designed to be called by Python interpreter, and not by YOU.\n\nIn most cases, we don't write something like **my\\_object.\\_\\_len\\_\\_()**. Just like we mentioned, everything in Python is trying to stay in consistency, so when we write **len(my\\_object)**, and the **my\\_object** is a user_defined class, Python will call the **\\_\\_len\\_\\_()** instance method you implemented. Again, such consistency is the key point that Python can get rid of a huge mess.\n\nEven more, for some built-in types like **list, str, bytearray**, and so on, the interpreter may take some short-cut when a special function is called. For example, the CPython implementation of **len()** actually returns the value of **ob_size** field in the **PyVarObject** C struct, that represents the variable-size built-in object in memory. Of course this is much faster than calling a method.\n\nMore often than not, the calling of special methods is implicit. Like **for i in x:**, indeed it cause the invocation of **iter(x)**, which in turn may call **\\_\\_iter\\_\\_()** if it's available. (This also indicates that, if we implemented our own **\\_\\_iter\\_\\_()** in our user-defined class, we may use **for i in my_object:**), see an example!\n\n```python\n>>> class MyClass:\n...     def __init__(self, n):\n...         self.a = []\n...         for i in range(0, n):\n...             self.a.append(i)\n...     \n...     def __iter__(self):\n...         curr = 0\n...         while curr < len(self.a):\n...             yield self.a[curr]\n...             curr += 1\n... \n>>> my_object = MyClass(3)\n>>> \n>>> for ele in my_object:\n...     print(ele)\n... \n0\n1\n2\n\n\n```\nSimply by implementing a **\\_\\_iter\\_\\_()**, we made our user-defined class supporting the most frequently used built-in syntax.\n\nNormally, your code should not call those special methods directly too often. Unless you're doing metaprogramming, you should be implementing those special methods much more often than invoking them explicitly. Perhaps the only special methods that you may call frequently is the **\\_\\_init\\_\\_()**, to invoke the initializer of a superclass in your own **\\_\\_init\\_\\_()** implementation.\n\nIf you want to use a special method, it is recommended that call them by calling the built-in functions (e.g, **len, iter, str**, etc). There functions does the job you want them to do, normally with some extra benefits. And for some built-in class, they can be faster (like the **len()** we introduced just now).\n\nBesides, please avoid adding custom special methods arbitrarily. The name like **\\_\\_foo()\\_\\_** may haven't been occupied now, but who knows about the future?\b\n\n## 1.2.1 Emulating Numeric Types\n\nSeveral special methods allow user object to respond to operators such as +. We'll go through a simple example to see how special methods works.\n\nWe'll implement a class to represent two-dimensional vectors (and more dimensions in the future). The built-in **complex** type can be used to represent two dimensional vectors, but when talking about more dimensions, we'll need our own class, and we want them to support built-in operators. Here're how we do it.\n\nWe will start by designing the API for such a class by writing a simulated console session that we use later as a doctest. Here's what we want.\n\n```python\n>>> a = Vector(1, 2)\n>>> b = Vector(2, 1)\n>>> a + b\nVector(3, 3)\n```\nThe **abs** built-in function returns the absolute value of integers and floats, and magnitude of **complex** numbers. So to be consistent, our API should use **abs** to calculate the magnitude of a vector:\n\n```python\n>>> v = Vector(3, 4)\n>>> abs(v)\n5.0\n```\nAnd also the * operator for scalar multiplication (Notice, this is not a dot multiplication for two vectors)\n\n```python\n>>> v * 3\nVector(9, 12)\n```\n\nAlso notice that, the printed information is under user definition. It's pretty simple to make it, just implement a special method called **\b\\_\\_repr\\_\\_()**.\n\nSo, all in all, in order to make all the functions above work, the special methods we need to implement are: **\\_\\_repr\\_\\_(), \\_\\_abs\\_\\_(), \\_\\_add\\_\\_()**, and  **\\_\\_mul\\_\\_()**\n\n\n```python\nclass Vector:\n    \n    def __init__(self, x=0, y=0):\n        self.x = x\n        self.y = y\n        \n    def __repr__(self):\n        return \"Vector(%r, %r)\" % (self.x, self.y)\n    \n    def __abs__(self):\n        return hypot(self.x, self.y)\n    \n    def __bool__(self):\n        return bool(abs(self))\n    \n    def __add__(self, other):\n        x = self.x + other.x\n        y = self.y + other.y\n        return Vector(x, y)\n    \n    def __mul__(self, scalar):\n        return Vector(self.x * scalar, self.y * scalar)\n\n```\n\nAlthough there 6 special methods in the code, but none of them will be invoked by in it's own code( except for **\\_\\_init\\_\\_()**). Even some other code may want to use these methods, they don't explicitly call them, just like what we can see in the console listings. Then let's discuss the code for each special method.\n\n### 1.2.2 String representation.\n\nThe **\\_\\_repr\\_\\_()** is called by the **repr** built-in to get the string presentation of the instance for inspection. If we didn't implement it, the string returned would look like something like this:\n\n```python\n>>> Vector(1,1)\n<Vector object at 0x10e380400>\n```\n\nThe string returned by **\\_\\_repr\\_\\_()** should be unambiguous, and, if possible, match the source code necessary to re-create the object being represented. This is why the our **\\_\\_repr\\_\\_()** would return a string looks calling the constructor of the class.\n\nThere's a similar special method called **\\_\\_str\\_\\_()**, which is called by the **str()** constructor and implicitly used by the print function. Basically, **\\_\\_str\\_\\_()** should return a string suitable for display to end users.\n\nWhen you only implement one of the both, implement **\\_\\_repr\\_\\_()**, because Python will call **\\_\\_repr\\_\\_()** when **\\_\\_str\\_\\_()** is not available as a fallback.\n\n### 1.2.3 Arithmetic Operators\nWe've already seen how to implement our own + and * by implementing **\\_\\_add\\_\\_** and **\\_\\_mul\\_\\_**. Note that, in both cases, the original object is not changed, and the method returned a new instance of the class. The principal of infix operators is to create new objects and leave the parameters untouched.\n\n### 1.2.4 Boolean Value of a Custom Type\nAlthough we have boolean type in Python, almost any object can be applied to a boolean context, such as a expression controlled by **if** or **while**. To do so, python will call **bool(x)**, and it only returns either **True** or **False**.\n\nBy default, an instance of our self-defined class is always **True**, unless we implemented the **\\_\\_bool\\_\\_** or **\\_\\_len\\_\\_**. **bool(x)** basically calls **x.\\_\\_bool\\_\\_()** and returns the result. If it's not implemented, Python would try to invoke **x.\\_\\_len\\_\\_()** instead. If it returns 0, then **False**; Otherwise, **True**.\n\n### More Special Methods.\nThe special methods are list in [Python official site](https://docs.python.org/3/reference/datamodel.html#specialnames). Check them!","source":"_posts/python2.md","raw":"---\ntitle: 'Data Model, Special Methods'\ntags:\n  - Python\n  - Engineer\n  - Programming\ncategories:\n  - Computer Science\ndate: 2018-12-06 22:39:46\n---\n\n\nIn the last {% post_link python1 blog %}, we had a slight feeling about the magical things that special methods can do. This time, we'll talk deeper into how to use those special methods.\n\n## 1.2 How to Use Special Methods\n\n> Specially, we have to be clear that, special methods are designed to be called by Python interpreter, and not by YOU.\n\nIn most cases, we don't write something like **my\\_object.\\_\\_len\\_\\_()**. Just like we mentioned, everything in Python is trying to stay in consistency, so when we write **len(my\\_object)**, and the **my\\_object** is a user_defined class, Python will call the **\\_\\_len\\_\\_()** instance method you implemented. Again, such consistency is the key point that Python can get rid of a huge mess.\n\nEven more, for some built-in types like **list, str, bytearray**, and so on, the interpreter may take some short-cut when a special function is called. For example, the CPython implementation of **len()** actually returns the value of **ob_size** field in the **PyVarObject** C struct, that represents the variable-size built-in object in memory. Of course this is much faster than calling a method.\n\nMore often than not, the calling of special methods is implicit. Like **for i in x:**, indeed it cause the invocation of **iter(x)**, which in turn may call **\\_\\_iter\\_\\_()** if it's available. (This also indicates that, if we implemented our own **\\_\\_iter\\_\\_()** in our user-defined class, we may use **for i in my_object:**), see an example!\n\n```python\n>>> class MyClass:\n...     def __init__(self, n):\n...         self.a = []\n...         for i in range(0, n):\n...             self.a.append(i)\n...     \n...     def __iter__(self):\n...         curr = 0\n...         while curr < len(self.a):\n...             yield self.a[curr]\n...             curr += 1\n... \n>>> my_object = MyClass(3)\n>>> \n>>> for ele in my_object:\n...     print(ele)\n... \n0\n1\n2\n\n\n```\nSimply by implementing a **\\_\\_iter\\_\\_()**, we made our user-defined class supporting the most frequently used built-in syntax.\n\nNormally, your code should not call those special methods directly too often. Unless you're doing metaprogramming, you should be implementing those special methods much more often than invoking them explicitly. Perhaps the only special methods that you may call frequently is the **\\_\\_init\\_\\_()**, to invoke the initializer of a superclass in your own **\\_\\_init\\_\\_()** implementation.\n\nIf you want to use a special method, it is recommended that call them by calling the built-in functions (e.g, **len, iter, str**, etc). There functions does the job you want them to do, normally with some extra benefits. And for some built-in class, they can be faster (like the **len()** we introduced just now).\n\nBesides, please avoid adding custom special methods arbitrarily. The name like **\\_\\_foo()\\_\\_** may haven't been occupied now, but who knows about the future?\b\n\n## 1.2.1 Emulating Numeric Types\n\nSeveral special methods allow user object to respond to operators such as +. We'll go through a simple example to see how special methods works.\n\nWe'll implement a class to represent two-dimensional vectors (and more dimensions in the future). The built-in **complex** type can be used to represent two dimensional vectors, but when talking about more dimensions, we'll need our own class, and we want them to support built-in operators. Here're how we do it.\n\nWe will start by designing the API for such a class by writing a simulated console session that we use later as a doctest. Here's what we want.\n\n```python\n>>> a = Vector(1, 2)\n>>> b = Vector(2, 1)\n>>> a + b\nVector(3, 3)\n```\nThe **abs** built-in function returns the absolute value of integers and floats, and magnitude of **complex** numbers. So to be consistent, our API should use **abs** to calculate the magnitude of a vector:\n\n```python\n>>> v = Vector(3, 4)\n>>> abs(v)\n5.0\n```\nAnd also the * operator for scalar multiplication (Notice, this is not a dot multiplication for two vectors)\n\n```python\n>>> v * 3\nVector(9, 12)\n```\n\nAlso notice that, the printed information is under user definition. It's pretty simple to make it, just implement a special method called **\b\\_\\_repr\\_\\_()**.\n\nSo, all in all, in order to make all the functions above work, the special methods we need to implement are: **\\_\\_repr\\_\\_(), \\_\\_abs\\_\\_(), \\_\\_add\\_\\_()**, and  **\\_\\_mul\\_\\_()**\n\n\n```python\nclass Vector:\n    \n    def __init__(self, x=0, y=0):\n        self.x = x\n        self.y = y\n        \n    def __repr__(self):\n        return \"Vector(%r, %r)\" % (self.x, self.y)\n    \n    def __abs__(self):\n        return hypot(self.x, self.y)\n    \n    def __bool__(self):\n        return bool(abs(self))\n    \n    def __add__(self, other):\n        x = self.x + other.x\n        y = self.y + other.y\n        return Vector(x, y)\n    \n    def __mul__(self, scalar):\n        return Vector(self.x * scalar, self.y * scalar)\n\n```\n\nAlthough there 6 special methods in the code, but none of them will be invoked by in it's own code( except for **\\_\\_init\\_\\_()**). Even some other code may want to use these methods, they don't explicitly call them, just like what we can see in the console listings. Then let's discuss the code for each special method.\n\n### 1.2.2 String representation.\n\nThe **\\_\\_repr\\_\\_()** is called by the **repr** built-in to get the string presentation of the instance for inspection. If we didn't implement it, the string returned would look like something like this:\n\n```python\n>>> Vector(1,1)\n<Vector object at 0x10e380400>\n```\n\nThe string returned by **\\_\\_repr\\_\\_()** should be unambiguous, and, if possible, match the source code necessary to re-create the object being represented. This is why the our **\\_\\_repr\\_\\_()** would return a string looks calling the constructor of the class.\n\nThere's a similar special method called **\\_\\_str\\_\\_()**, which is called by the **str()** constructor and implicitly used by the print function. Basically, **\\_\\_str\\_\\_()** should return a string suitable for display to end users.\n\nWhen you only implement one of the both, implement **\\_\\_repr\\_\\_()**, because Python will call **\\_\\_repr\\_\\_()** when **\\_\\_str\\_\\_()** is not available as a fallback.\n\n### 1.2.3 Arithmetic Operators\nWe've already seen how to implement our own + and * by implementing **\\_\\_add\\_\\_** and **\\_\\_mul\\_\\_**. Note that, in both cases, the original object is not changed, and the method returned a new instance of the class. The principal of infix operators is to create new objects and leave the parameters untouched.\n\n### 1.2.4 Boolean Value of a Custom Type\nAlthough we have boolean type in Python, almost any object can be applied to a boolean context, such as a expression controlled by **if** or **while**. To do so, python will call **bool(x)**, and it only returns either **True** or **False**.\n\nBy default, an instance of our self-defined class is always **True**, unless we implemented the **\\_\\_bool\\_\\_** or **\\_\\_len\\_\\_**. **bool(x)** basically calls **x.\\_\\_bool\\_\\_()** and returns the result. If it's not implemented, Python would try to invoke **x.\\_\\_len\\_\\_()** instead. If it returns 0, then **False**; Otherwise, **True**.\n\n### More Special Methods.\nThe special methods are list in [Python official site](https://docs.python.org/3/reference/datamodel.html#specialnames). Check them!","slug":"python2","published":1,"updated":"2019-03-31T08:11:01.178Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxpt000ria11sofrzq51","content":"<p>In the last <a href=\"/2018/10/28/python1/\" title=\"blog\">blog</a>, we had a slight feeling about the magical things that special methods can do. This time, we&#39;ll talk deeper into how to use those special methods.</p>\n<h2 id=\"12-how-to-use-special-methods\"><a href=\"#1-2-How-to-Use-Special-Methods\" class=\"headerlink\" title=\"1.2 How to Use Special Methods\"></a>1.2 How to Use Special Methods</h2><blockquote>\n<p>Specially, we have to be clear that, special methods are designed to be called by Python interpreter, and not by YOU.</p>\n</blockquote>\n<p>In most cases, we don&#39;t write something like <strong>my_object.__len__()</strong>. Just like we mentioned, everything in Python is trying to stay in consistency, so when we write <strong>len(my_object)</strong>, and the <strong>my_object</strong> is a user<em>defined class, Python will call the **\\</em>_len__()** instance method you implemented. Again, such consistency is the key point that Python can get rid of a huge mess.</p>\n<p>Even more, for some built-in types like <strong>list, str, bytearray</strong>, and so on, the interpreter may take some short-cut when a special function is called. For example, the CPython implementation of <strong>len()</strong> actually returns the value of <strong>ob_size</strong> field in the <strong>PyVarObject</strong> C struct, that represents the variable-size built-in object in memory. Of course this is much faster than calling a method.</p>\n<p>More often than not, the calling of special methods is implicit. Like <strong>for i in x:</strong>, indeed it cause the invocation of <strong>iter(x)</strong>, which in turn may call <strong>__iter__()</strong> if it&#39;s available. (This also indicates that, if we implemented our own <strong>__iter__()</strong> in our user-defined class, we may use <strong>for i in my_object:</strong>), see an example!</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyClass</span>:</span></span><br><span class=\"line\"><span class=\"meta\">... </span>    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\"><span class=\"meta\">... </span>        self.a = []</span><br><span class=\"line\"><span class=\"meta\">... </span>        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, n):</span><br><span class=\"line\"><span class=\"meta\">... </span>            self.a.append(i)</span><br><span class=\"line\"><span class=\"meta\">... </span>    </span><br><span class=\"line\"><span class=\"meta\">... </span>    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__iter__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\"><span class=\"meta\">... </span>        curr = <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"meta\">... </span>        <span class=\"keyword\">while</span> curr &lt; len(self.a):</span><br><span class=\"line\"><span class=\"meta\">... </span>            <span class=\"keyword\">yield</span> self.a[curr]</span><br><span class=\"line\"><span class=\"meta\">... </span>            curr += <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"meta\">... </span></span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>my_object = MyClass(<span class=\"number\">3</span>)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span></span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span><span class=\"keyword\">for</span> ele <span class=\"keyword\">in</span> my_object:</span><br><span class=\"line\"><span class=\"meta\">... </span>    print(ele)</span><br><span class=\"line\"><span class=\"meta\">... </span></span><br><span class=\"line\"><span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<p>Simply by implementing a <strong>__iter__()</strong>, we made our user-defined class supporting the most frequently used built-in syntax.</p>\n<p>Normally, your code should not call those special methods directly too often. Unless you&#39;re doing metaprogramming, you should be implementing those special methods much more often than invoking them explicitly. Perhaps the only special methods that you may call frequently is the <strong>__init__()</strong>, to invoke the initializer of a superclass in your own <strong>__init__()</strong> implementation.</p>\n<p>If you want to use a special method, it is recommended that call them by calling the built-in functions (e.g, <strong>len, iter, str</strong>, etc). There functions does the job you want them to do, normally with some extra benefits. And for some built-in class, they can be faster (like the <strong>len()</strong> we introduced just now).</p>\n<p>Besides, please avoid adding custom special methods arbitrarily. The name like <strong>__foo()__</strong> may haven&#39;t been occupied now, but who knows about the future?\b</p>\n<h2 id=\"121-emulating-numeric-types\"><a href=\"#1-2-1-Emulating-Numeric-Types\" class=\"headerlink\" title=\"1.2.1 Emulating Numeric Types\"></a>1.2.1 Emulating Numeric Types</h2><p>Several special methods allow user object to respond to operators such as +. We&#39;ll go through a simple example to see how special methods works.</p>\n<p>We&#39;ll implement a class to represent two-dimensional vectors (and more dimensions in the future). The built-in <strong>complex</strong> type can be used to represent two dimensional vectors, but when talking about more dimensions, we&#39;ll need our own class, and we want them to support built-in operators. Here&#39;re how we do it.</p>\n<p>We will start by designing the API for such a class by writing a simulated console session that we use later as a doctest. Here&#39;s what we want.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>a = Vector(<span class=\"number\">1</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>b = Vector(<span class=\"number\">2</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>a + b</span><br><span class=\"line\">Vector(<span class=\"number\">3</span>, <span class=\"number\">3</span>)</span><br></pre></td></tr></table></figure>\n<p>The <strong>abs</strong> built-in function returns the absolute value of integers and floats, and magnitude of <strong>complex</strong> numbers. So to be consistent, our API should use <strong>abs</strong> to calculate the magnitude of a vector:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>v = Vector(<span class=\"number\">3</span>, <span class=\"number\">4</span>)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>abs(v)</span><br><span class=\"line\"><span class=\"number\">5.0</span></span><br></pre></td></tr></table></figure>\n<p>And also the * operator for scalar multiplication (Notice, this is not a dot multiplication for two vectors)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>v * <span class=\"number\">3</span></span><br><span class=\"line\">Vector(<span class=\"number\">9</span>, <span class=\"number\">12</span>)</span><br></pre></td></tr></table></figure>\n<p>Also notice that, the printed information is under user definition. It&#39;s pretty simple to make it, just implement a special method called <strong>\b__repr__()</strong>.</p>\n<p>So, all in all, in order to make all the functions above work, the special methods we need to implement are: <strong>__repr__(), __abs__(), __add__()</strong>, and  <strong>__mul__()</strong></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Vector</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, x=<span class=\"number\">0</span>, y=<span class=\"number\">0</span>)</span>:</span></span><br><span class=\"line\">        self.x = x</span><br><span class=\"line\">        self.y = y</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__repr__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Vector(%r, %r)\"</span> % (self.x, self.y)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__abs__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> hypot(self.x, self.y)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__bool__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> bool(abs(self))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__add__</span><span class=\"params\">(self, other)</span>:</span></span><br><span class=\"line\">        x = self.x + other.x</span><br><span class=\"line\">        y = self.y + other.y</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Vector(x, y)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__mul__</span><span class=\"params\">(self, scalar)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> Vector(self.x * scalar, self.y * scalar)</span><br></pre></td></tr></table></figure>\n<p>Although there 6 special methods in the code, but none of them will be invoked by in it&#39;s own code( except for <strong>__init__()</strong>). Even some other code may want to use these methods, they don&#39;t explicitly call them, just like what we can see in the console listings. Then let&#39;s discuss the code for each special method.</p>\n<h3 id=\"122-string-representation\"><a href=\"#1-2-2-String-representation\" class=\"headerlink\" title=\"1.2.2 String representation.\"></a>1.2.2 String representation.</h3><p>The <strong>__repr__()</strong> is called by the <strong>repr</strong> built-in to get the string presentation of the instance for inspection. If we didn&#39;t implement it, the string returned would look like something like this:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>Vector(<span class=\"number\">1</span>,<span class=\"number\">1</span>)</span><br><span class=\"line\">&lt;Vector object at <span class=\"number\">0x10e380400</span>&gt;</span><br></pre></td></tr></table></figure>\n<p>The string returned by <strong>__repr__()</strong> should be unambiguous, and, if possible, match the source code necessary to re-create the object being represented. This is why the our <strong>__repr__()</strong> would return a string looks calling the constructor of the class.</p>\n<p>There&#39;s a similar special method called <strong>__str__()</strong>, which is called by the <strong>str()</strong> constructor and implicitly used by the print function. Basically, <strong>__str__()</strong> should return a string suitable for display to end users.</p>\n<p>When you only implement one of the both, implement <strong>__repr__()</strong>, because Python will call <strong>__repr__()</strong> when <strong>__str__()</strong> is not available as a fallback.</p>\n<h3 id=\"123-arithmetic-operators\"><a href=\"#1-2-3-Arithmetic-Operators\" class=\"headerlink\" title=\"1.2.3 Arithmetic Operators\"></a>1.2.3 Arithmetic Operators</h3><p>We&#39;ve already seen how to implement our own + and <em> by implementing <strong>__add__</strong> and <em>*__mul__</em></em>. Note that, in both cases, the original object is not changed, and the method returned a new instance of the class. The principal of infix operators is to create new objects and leave the parameters untouched.</p>\n<h3 id=\"124-boolean-value-of-a-custom-type\"><a href=\"#1-2-4-Boolean-Value-of-a-Custom-Type\" class=\"headerlink\" title=\"1.2.4 Boolean Value of a Custom Type\"></a>1.2.4 Boolean Value of a Custom Type</h3><p>Although we have boolean type in Python, almost any object can be applied to a boolean context, such as a expression controlled by <strong>if</strong> or <strong>while</strong>. To do so, python will call <strong>bool(x)</strong>, and it only returns either <strong>True</strong> or <strong>False</strong>.</p>\n<p>By default, an instance of our self-defined class is always <strong>True</strong>, unless we implemented the <strong>__bool__</strong> or <strong>__len__</strong>. <strong>bool(x)</strong> basically calls <strong>x.__bool__()</strong> and returns the result. If it&#39;s not implemented, Python would try to invoke <strong>x.__len__()</strong> instead. If it returns 0, then <strong>False</strong>; Otherwise, <strong>True</strong>.</p>\n<h3 id=\"more-special-methods\"><a href=\"#More-Special-Methods\" class=\"headerlink\" title=\"More Special Methods.\"></a>More Special Methods.</h3><p>The special methods are list in <a href=\"https://docs.python.org/3/reference/datamodel.html#specialnames\" target=\"_blank\" rel=\"noopener\">Python official site</a>. Check them!</p>\n","site":{"data":{}},"excerpt":"","more":"<p>In the last <a href=\"/2018/10/28/python1/\" title=\"blog\">blog</a>, we had a slight feeling about the magical things that special methods can do. This time, we&#39;ll talk deeper into how to use those special methods.</p>\n<h2 id=\"1-2-How-to-Use-Special-Methods\"><a href=\"#1-2-How-to-Use-Special-Methods\" class=\"headerlink\" title=\"1.2 How to Use Special Methods\"></a>1.2 How to Use Special Methods</h2><blockquote>\n<p>Specially, we have to be clear that, special methods are designed to be called by Python interpreter, and not by YOU.</p>\n</blockquote>\n<p>In most cases, we don&#39;t write something like <strong>my_object.__len__()</strong>. Just like we mentioned, everything in Python is trying to stay in consistency, so when we write <strong>len(my_object)</strong>, and the <strong>my_object</strong> is a user<em>defined class, Python will call the **\\</em>_len__()** instance method you implemented. Again, such consistency is the key point that Python can get rid of a huge mess.</p>\n<p>Even more, for some built-in types like <strong>list, str, bytearray</strong>, and so on, the interpreter may take some short-cut when a special function is called. For example, the CPython implementation of <strong>len()</strong> actually returns the value of <strong>ob_size</strong> field in the <strong>PyVarObject</strong> C struct, that represents the variable-size built-in object in memory. Of course this is much faster than calling a method.</p>\n<p>More often than not, the calling of special methods is implicit. Like <strong>for i in x:</strong>, indeed it cause the invocation of <strong>iter(x)</strong>, which in turn may call <strong>__iter__()</strong> if it&#39;s available. (This also indicates that, if we implemented our own <strong>__iter__()</strong> in our user-defined class, we may use <strong>for i in my_object:</strong>), see an example!</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyClass</span>:</span></span><br><span class=\"line\"><span class=\"meta\">... </span>    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\"><span class=\"meta\">... </span>        self.a = []</span><br><span class=\"line\"><span class=\"meta\">... </span>        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, n):</span><br><span class=\"line\"><span class=\"meta\">... </span>            self.a.append(i)</span><br><span class=\"line\"><span class=\"meta\">... </span>    </span><br><span class=\"line\"><span class=\"meta\">... </span>    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__iter__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\"><span class=\"meta\">... </span>        curr = <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"meta\">... </span>        <span class=\"keyword\">while</span> curr &lt; len(self.a):</span><br><span class=\"line\"><span class=\"meta\">... </span>            <span class=\"keyword\">yield</span> self.a[curr]</span><br><span class=\"line\"><span class=\"meta\">... </span>            curr += <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"meta\">... </span></span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>my_object = MyClass(<span class=\"number\">3</span>)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span></span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span><span class=\"keyword\">for</span> ele <span class=\"keyword\">in</span> my_object:</span><br><span class=\"line\"><span class=\"meta\">... </span>    print(ele)</span><br><span class=\"line\"><span class=\"meta\">... </span></span><br><span class=\"line\"><span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<p>Simply by implementing a <strong>__iter__()</strong>, we made our user-defined class supporting the most frequently used built-in syntax.</p>\n<p>Normally, your code should not call those special methods directly too often. Unless you&#39;re doing metaprogramming, you should be implementing those special methods much more often than invoking them explicitly. Perhaps the only special methods that you may call frequently is the <strong>__init__()</strong>, to invoke the initializer of a superclass in your own <strong>__init__()</strong> implementation.</p>\n<p>If you want to use a special method, it is recommended that call them by calling the built-in functions (e.g, <strong>len, iter, str</strong>, etc). There functions does the job you want them to do, normally with some extra benefits. And for some built-in class, they can be faster (like the <strong>len()</strong> we introduced just now).</p>\n<p>Besides, please avoid adding custom special methods arbitrarily. The name like <strong>__foo()__</strong> may haven&#39;t been occupied now, but who knows about the future?\b</p>\n<h2 id=\"1-2-1-Emulating-Numeric-Types\"><a href=\"#1-2-1-Emulating-Numeric-Types\" class=\"headerlink\" title=\"1.2.1 Emulating Numeric Types\"></a>1.2.1 Emulating Numeric Types</h2><p>Several special methods allow user object to respond to operators such as +. We&#39;ll go through a simple example to see how special methods works.</p>\n<p>We&#39;ll implement a class to represent two-dimensional vectors (and more dimensions in the future). The built-in <strong>complex</strong> type can be used to represent two dimensional vectors, but when talking about more dimensions, we&#39;ll need our own class, and we want them to support built-in operators. Here&#39;re how we do it.</p>\n<p>We will start by designing the API for such a class by writing a simulated console session that we use later as a doctest. Here&#39;s what we want.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>a = Vector(<span class=\"number\">1</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>b = Vector(<span class=\"number\">2</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>a + b</span><br><span class=\"line\">Vector(<span class=\"number\">3</span>, <span class=\"number\">3</span>)</span><br></pre></td></tr></table></figure>\n<p>The <strong>abs</strong> built-in function returns the absolute value of integers and floats, and magnitude of <strong>complex</strong> numbers. So to be consistent, our API should use <strong>abs</strong> to calculate the magnitude of a vector:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>v = Vector(<span class=\"number\">3</span>, <span class=\"number\">4</span>)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>abs(v)</span><br><span class=\"line\"><span class=\"number\">5.0</span></span><br></pre></td></tr></table></figure>\n<p>And also the * operator for scalar multiplication (Notice, this is not a dot multiplication for two vectors)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>v * <span class=\"number\">3</span></span><br><span class=\"line\">Vector(<span class=\"number\">9</span>, <span class=\"number\">12</span>)</span><br></pre></td></tr></table></figure>\n<p>Also notice that, the printed information is under user definition. It&#39;s pretty simple to make it, just implement a special method called <strong>\b__repr__()</strong>.</p>\n<p>So, all in all, in order to make all the functions above work, the special methods we need to implement are: <strong>__repr__(), __abs__(), __add__()</strong>, and  <strong>__mul__()</strong></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Vector</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, x=<span class=\"number\">0</span>, y=<span class=\"number\">0</span>)</span>:</span></span><br><span class=\"line\">        self.x = x</span><br><span class=\"line\">        self.y = y</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__repr__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Vector(%r, %r)\"</span> % (self.x, self.y)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__abs__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> hypot(self.x, self.y)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__bool__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> bool(abs(self))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__add__</span><span class=\"params\">(self, other)</span>:</span></span><br><span class=\"line\">        x = self.x + other.x</span><br><span class=\"line\">        y = self.y + other.y</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Vector(x, y)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__mul__</span><span class=\"params\">(self, scalar)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> Vector(self.x * scalar, self.y * scalar)</span><br></pre></td></tr></table></figure>\n<p>Although there 6 special methods in the code, but none of them will be invoked by in it&#39;s own code( except for <strong>__init__()</strong>). Even some other code may want to use these methods, they don&#39;t explicitly call them, just like what we can see in the console listings. Then let&#39;s discuss the code for each special method.</p>\n<h3 id=\"1-2-2-String-representation\"><a href=\"#1-2-2-String-representation\" class=\"headerlink\" title=\"1.2.2 String representation.\"></a>1.2.2 String representation.</h3><p>The <strong>__repr__()</strong> is called by the <strong>repr</strong> built-in to get the string presentation of the instance for inspection. If we didn&#39;t implement it, the string returned would look like something like this:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>Vector(<span class=\"number\">1</span>,<span class=\"number\">1</span>)</span><br><span class=\"line\">&lt;Vector object at <span class=\"number\">0x10e380400</span>&gt;</span><br></pre></td></tr></table></figure>\n<p>The string returned by <strong>__repr__()</strong> should be unambiguous, and, if possible, match the source code necessary to re-create the object being represented. This is why the our <strong>__repr__()</strong> would return a string looks calling the constructor of the class.</p>\n<p>There&#39;s a similar special method called <strong>__str__()</strong>, which is called by the <strong>str()</strong> constructor and implicitly used by the print function. Basically, <strong>__str__()</strong> should return a string suitable for display to end users.</p>\n<p>When you only implement one of the both, implement <strong>__repr__()</strong>, because Python will call <strong>__repr__()</strong> when <strong>__str__()</strong> is not available as a fallback.</p>\n<h3 id=\"1-2-3-Arithmetic-Operators\"><a href=\"#1-2-3-Arithmetic-Operators\" class=\"headerlink\" title=\"1.2.3 Arithmetic Operators\"></a>1.2.3 Arithmetic Operators</h3><p>We&#39;ve already seen how to implement our own + and <em> by implementing <strong>__add__</strong> and <em>*__mul__</em></em>. Note that, in both cases, the original object is not changed, and the method returned a new instance of the class. The principal of infix operators is to create new objects and leave the parameters untouched.</p>\n<h3 id=\"1-2-4-Boolean-Value-of-a-Custom-Type\"><a href=\"#1-2-4-Boolean-Value-of-a-Custom-Type\" class=\"headerlink\" title=\"1.2.4 Boolean Value of a Custom Type\"></a>1.2.4 Boolean Value of a Custom Type</h3><p>Although we have boolean type in Python, almost any object can be applied to a boolean context, such as a expression controlled by <strong>if</strong> or <strong>while</strong>. To do so, python will call <strong>bool(x)</strong>, and it only returns either <strong>True</strong> or <strong>False</strong>.</p>\n<p>By default, an instance of our self-defined class is always <strong>True</strong>, unless we implemented the <strong>__bool__</strong> or <strong>__len__</strong>. <strong>bool(x)</strong> basically calls <strong>x.__bool__()</strong> and returns the result. If it&#39;s not implemented, Python would try to invoke <strong>x.__len__()</strong> instead. If it returns 0, then <strong>False</strong>; Otherwise, <strong>True</strong>.</p>\n<h3 id=\"More-Special-Methods\"><a href=\"#More-Special-Methods\" class=\"headerlink\" title=\"More Special Methods.\"></a>More Special Methods.</h3><p>The special methods are list in <a href=\"https://docs.python.org/3/reference/datamodel.html#specialnames\" target=\"_blank\" rel=\"noopener\">Python official site</a>. Check them!</p>\n"},{"title":"Data Model in Python","date":"2018-10-28T14:36:18.000Z","_content":"\n\n> One of the best qualities of Python is its consistency.\n<p align=\"right\">Luciano Ramalho, author of Fluent Python: Clear, Concise, and Effective Programming</p>\n\nBy the first time I read this sentence, all I felt was wired. As we all know, Python is a dynamically-typed language, you can never succeed in guessing the class or type of a variable\b. So at least, in terms of type, Python is far from consistent. However, soon I understand the meaning of consistency in Python: Nothing is special. Here, we're going to see several examples and understand what *\"consistency\"* really means in Python.\n\n> Note: In Python, we're going to meet a lot of methods that looks like **\\_\\_getitem\\_\\_**, and we'll call them *\"dunder_getitem\"* (dunder means double-under). And also notice that, double under like **\\_\\_x** has other meanings in Python, and please don't mess up with them.\n\nIt's very important to implement those methods that can be called by the framework itself, we're going to show you how to implement two special methods called **\\_\\_getitem\\_\\_** and **\\_\\_len\\_\\_**.\n\n## 1.1 Pythonic Cards\n\nCode 1-1: Cards with order.\n```python\nimport collections\n\ncard = collections.namedtuple('Card', ['rank', 'suit'])\n\nclass FrenchDeck:\n    ranks = [str(n) for n in range(2, 11)] + list('JQKA')\n    suits = 'spades diamonds clubs hearts'.split()\n    \n    def __init__(self):\n        self._cards = [Card(rank, suit) for suit in self.suits\n                                        for rank in self.ranks]\n    \n    def __len__(self):\n        return len(self._cards)\n    \n    def __getitem__(self, position):\n        return self._cards[position]\n\n```\n\nNow, let's look at the **FrenchDeck** class. It's short and powerful. First of all, like any Python standard collection class, we can use **len()** function to check how many cards in it:\n```python\n>>> deck = FrenchDeck()\n>>> len(deck)\n52\n```\nWe can also pick any specific card in the cards using **[ ]** like the following code:\n```python\n>>> deck[0]\nCard(rank='2', suit='spades')\n>>> deck[-1]\nCard(rank='A', suit='hearts')\n```\n\nThe more interesting thing is that, we don't need to write a new function to randomly pick a card, Python already had a function called **random.choice** to do the job, and we can just use it on the instance of our cards.\n\n```python\n>>> from random import choice\n>>> choice(deck)\nCard(rank='4', suit='spades')\n```\n\nSee! We already benefit from implementing special methods to use Python data model:\n- The users of your class doesn't need to remember many different names of a standard manipulation (**sizeof()** or **length()** or something else).\n- Just use Python standard library, no need for re-inventing the wheels.\n\nEven more, since **\\_\\_getitem\\_\\_** hands **[ ]** manipulation to **self._cards** list, so our **deck** class automatically supports slicing. See below:\n\n```python\n>>> deck[: 3]\n[Card(rank='2', suit='spades'),\n Card(rank='3', suit='spades'),\n Card(rank='4', suit='spades')]\n>>> deck[12:: 13]\n[Card(rank='A', suit='spades'),\n Card(rank='A', suit='diamonds'),\n Card(rank='A', suit='clubs'),\n Card(rank='A', suit='hearts')]\n```\nThe second function means that, pick all cards that has index 12, and pick one in every 13 cards.\n\nAnd even more! Just by implementing **\\_\\_getitem\\_\\_** method, the cards become iterable:\n```python\n>>> for card in deck: # doctest: +ELLIPSIS\n...     print(card)\nCard(rank='2', suit='spades')\nCard(rank='3', suit='spades')\nCard(rank='4', suit='spades')\nCard(rank='5', suit='spades')\n...v\n```\n\nJust by implementing **\\_\\_getitem\\_\\_** and **\\_\\len\\_\\_** methods, **FrenchDeck** class is just like any sequential data model in Python, showing core features of Python (like iterating and slicing). It can also be used for standard libraries like **random.choice**, **reversed** and **sorted**.\n\nHere, we see how consistency exists in Python, and definitely we can write more elegant and pythonic code by implementing these special methods.\n\nHowever, our cards still cannot be shuffled so far. We'll not talk about it now, although it's easy enough to be implemented by a single line of code in **\\_\\_setitem\\_\\_**, it influences more important things and we'll talk about them together.","source":"_posts/python1.md","raw":"---\ntitle: Data Model in Python\ntags:\n  - Python\n  - Engineer\n  - Programming\ncategories:\n  - Computer Science\ndate: 2018-10-28 23:36:18\n---\n\n\n> One of the best qualities of Python is its consistency.\n<p align=\"right\">Luciano Ramalho, author of Fluent Python: Clear, Concise, and Effective Programming</p>\n\nBy the first time I read this sentence, all I felt was wired. As we all know, Python is a dynamically-typed language, you can never succeed in guessing the class or type of a variable\b. So at least, in terms of type, Python is far from consistent. However, soon I understand the meaning of consistency in Python: Nothing is special. Here, we're going to see several examples and understand what *\"consistency\"* really means in Python.\n\n> Note: In Python, we're going to meet a lot of methods that looks like **\\_\\_getitem\\_\\_**, and we'll call them *\"dunder_getitem\"* (dunder means double-under). And also notice that, double under like **\\_\\_x** has other meanings in Python, and please don't mess up with them.\n\nIt's very important to implement those methods that can be called by the framework itself, we're going to show you how to implement two special methods called **\\_\\_getitem\\_\\_** and **\\_\\_len\\_\\_**.\n\n## 1.1 Pythonic Cards\n\nCode 1-1: Cards with order.\n```python\nimport collections\n\ncard = collections.namedtuple('Card', ['rank', 'suit'])\n\nclass FrenchDeck:\n    ranks = [str(n) for n in range(2, 11)] + list('JQKA')\n    suits = 'spades diamonds clubs hearts'.split()\n    \n    def __init__(self):\n        self._cards = [Card(rank, suit) for suit in self.suits\n                                        for rank in self.ranks]\n    \n    def __len__(self):\n        return len(self._cards)\n    \n    def __getitem__(self, position):\n        return self._cards[position]\n\n```\n\nNow, let's look at the **FrenchDeck** class. It's short and powerful. First of all, like any Python standard collection class, we can use **len()** function to check how many cards in it:\n```python\n>>> deck = FrenchDeck()\n>>> len(deck)\n52\n```\nWe can also pick any specific card in the cards using **[ ]** like the following code:\n```python\n>>> deck[0]\nCard(rank='2', suit='spades')\n>>> deck[-1]\nCard(rank='A', suit='hearts')\n```\n\nThe more interesting thing is that, we don't need to write a new function to randomly pick a card, Python already had a function called **random.choice** to do the job, and we can just use it on the instance of our cards.\n\n```python\n>>> from random import choice\n>>> choice(deck)\nCard(rank='4', suit='spades')\n```\n\nSee! We already benefit from implementing special methods to use Python data model:\n- The users of your class doesn't need to remember many different names of a standard manipulation (**sizeof()** or **length()** or something else).\n- Just use Python standard library, no need for re-inventing the wheels.\n\nEven more, since **\\_\\_getitem\\_\\_** hands **[ ]** manipulation to **self._cards** list, so our **deck** class automatically supports slicing. See below:\n\n```python\n>>> deck[: 3]\n[Card(rank='2', suit='spades'),\n Card(rank='3', suit='spades'),\n Card(rank='4', suit='spades')]\n>>> deck[12:: 13]\n[Card(rank='A', suit='spades'),\n Card(rank='A', suit='diamonds'),\n Card(rank='A', suit='clubs'),\n Card(rank='A', suit='hearts')]\n```\nThe second function means that, pick all cards that has index 12, and pick one in every 13 cards.\n\nAnd even more! Just by implementing **\\_\\_getitem\\_\\_** method, the cards become iterable:\n```python\n>>> for card in deck: # doctest: +ELLIPSIS\n...     print(card)\nCard(rank='2', suit='spades')\nCard(rank='3', suit='spades')\nCard(rank='4', suit='spades')\nCard(rank='5', suit='spades')\n...v\n```\n\nJust by implementing **\\_\\_getitem\\_\\_** and **\\_\\len\\_\\_** methods, **FrenchDeck** class is just like any sequential data model in Python, showing core features of Python (like iterating and slicing). It can also be used for standard libraries like **random.choice**, **reversed** and **sorted**.\n\nHere, we see how consistency exists in Python, and definitely we can write more elegant and pythonic code by implementing these special methods.\n\nHowever, our cards still cannot be shuffled so far. We'll not talk about it now, although it's easy enough to be implemented by a single line of code in **\\_\\_setitem\\_\\_**, it influences more important things and we'll talk about them together.","slug":"python1","published":1,"updated":"2019-03-31T08:08:40.739Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxpu000uia11jhp3fxih","content":"<blockquote>\n<p>One of the best qualities of Python is its consistency.</p>\n<p align=\"right\">Luciano Ramalho, author of Fluent Python: Clear, Concise, and Effective Programming</p>\n\n</blockquote>\n<p>By the first time I read this sentence, all I felt was wired. As we all know, Python is a dynamically-typed language, you can never succeed in guessing the class or type of a variable\b. So at least, in terms of type, Python is far from consistent. However, soon I understand the meaning of consistency in Python: Nothing is special. Here, we&#39;re going to see several examples and understand what <em>&quot;consistency&quot;</em> really means in Python.</p>\n<blockquote>\n<p>Note: In Python, we&#39;re going to meet a lot of methods that looks like <strong>__getitem__</strong>, and we&#39;ll call them <em>&quot;dunder_getitem&quot;</em> (dunder means double-under). And also notice that, double under like <strong>__x</strong> has other meanings in Python, and please don&#39;t mess up with them.</p>\n</blockquote>\n<p>It&#39;s very important to implement those methods that can be called by the framework itself, we&#39;re going to show you how to implement two special methods called <strong>__getitem__</strong> and <strong>__len__</strong>.</p>\n<h2 id=\"11-pythonic-cards\"><a href=\"#1-1-Pythonic-Cards\" class=\"headerlink\" title=\"1.1 Pythonic Cards\"></a>1.1 Pythonic Cards</h2><p>Code 1-1: Cards with order.<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> collections</span><br><span class=\"line\"></span><br><span class=\"line\">card = collections.namedtuple(<span class=\"string\">'Card'</span>, [<span class=\"string\">'rank'</span>, <span class=\"string\">'suit'</span>])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FrenchDeck</span>:</span></span><br><span class=\"line\">    ranks = [str(n) <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>, <span class=\"number\">11</span>)] + list(<span class=\"string\">'JQKA'</span>)</span><br><span class=\"line\">    suits = <span class=\"string\">'spades diamonds clubs hearts'</span>.split()</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self._cards = [Card(rank, suit) <span class=\"keyword\">for</span> suit <span class=\"keyword\">in</span> self.suits</span><br><span class=\"line\">                                        <span class=\"keyword\">for</span> rank <span class=\"keyword\">in</span> self.ranks]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__len__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> len(self._cards)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__getitem__</span><span class=\"params\">(self, position)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self._cards[position]</span><br></pre></td></tr></table></figure></p>\n<p>Now, let&#39;s look at the <strong>FrenchDeck</strong> class. It&#39;s short and powerful. First of all, like any Python standard collection class, we can use <strong>len()</strong> function to check how many cards in it:<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>deck = FrenchDeck()</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>len(deck)</span><br><span class=\"line\"><span class=\"number\">52</span></span><br></pre></td></tr></table></figure></p>\n<p>We can also pick any specific card in the cards using <strong>[ ]</strong> like the following code:<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>deck[<span class=\"number\">0</span>]</span><br><span class=\"line\">Card(rank=<span class=\"string\">'2'</span>, suit=<span class=\"string\">'spades'</span>)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>deck[<span class=\"number\">-1</span>]</span><br><span class=\"line\">Card(rank=<span class=\"string\">'A'</span>, suit=<span class=\"string\">'hearts'</span>)</span><br></pre></td></tr></table></figure></p>\n<p>The more interesting thing is that, we don&#39;t need to write a new function to randomly pick a card, Python already had a function called <strong>random.choice</strong> to do the job, and we can just use it on the instance of our cards.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span><span class=\"keyword\">from</span> random <span class=\"keyword\">import</span> choice</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>choice(deck)</span><br><span class=\"line\">Card(rank=<span class=\"string\">'4'</span>, suit=<span class=\"string\">'spades'</span>)</span><br></pre></td></tr></table></figure>\n<p>See! We already benefit from implementing special methods to use Python data model:</p>\n<ul>\n<li>The users of your class doesn&#39;t need to remember many different names of a standard manipulation (<strong>sizeof()</strong> or <strong>length()</strong> or something else).</li>\n<li>Just use Python standard library, no need for re-inventing the wheels.</li>\n</ul>\n<p>Even more, since <strong>__getitem__</strong> hands <strong>[ ]</strong> manipulation to <strong>self._cards</strong> list, so our <strong>deck</strong> class automatically supports slicing. See below:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>deck[: <span class=\"number\">3</span>]</span><br><span class=\"line\">[Card(rank=<span class=\"string\">'2'</span>, suit=<span class=\"string\">'spades'</span>),</span><br><span class=\"line\"> Card(rank=<span class=\"string\">'3'</span>, suit=<span class=\"string\">'spades'</span>),</span><br><span class=\"line\"> Card(rank=<span class=\"string\">'4'</span>, suit=<span class=\"string\">'spades'</span>)]</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>deck[<span class=\"number\">12</span>:: <span class=\"number\">13</span>]</span><br><span class=\"line\">[Card(rank=<span class=\"string\">'A'</span>, suit=<span class=\"string\">'spades'</span>),</span><br><span class=\"line\"> Card(rank=<span class=\"string\">'A'</span>, suit=<span class=\"string\">'diamonds'</span>),</span><br><span class=\"line\"> Card(rank=<span class=\"string\">'A'</span>, suit=<span class=\"string\">'clubs'</span>),</span><br><span class=\"line\"> Card(rank=<span class=\"string\">'A'</span>, suit=<span class=\"string\">'hearts'</span>)]</span><br></pre></td></tr></table></figure>\n<p>The second function means that, pick all cards that has index 12, and pick one in every 13 cards.</p>\n<p>And even more! Just by implementing <strong>__getitem__</strong> method, the cards become iterable:<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span><span class=\"keyword\">for</span> card <span class=\"keyword\">in</span> deck: <span class=\"comment\"># doctest: +ELLIPSIS</span></span><br><span class=\"line\"><span class=\"meta\">... </span>    print(card)</span><br><span class=\"line\">Card(rank=<span class=\"string\">'2'</span>, suit=<span class=\"string\">'spades'</span>)</span><br><span class=\"line\">Card(rank=<span class=\"string\">'3'</span>, suit=<span class=\"string\">'spades'</span>)</span><br><span class=\"line\">Card(rank=<span class=\"string\">'4'</span>, suit=<span class=\"string\">'spades'</span>)</span><br><span class=\"line\">Card(rank=<span class=\"string\">'5'</span>, suit=<span class=\"string\">'spades'</span>)</span><br><span class=\"line\">...v</span><br></pre></td></tr></table></figure></p>\n<p>Just by implementing <strong>__getitem__</strong> and <strong>_\\len__</strong> methods, <strong>FrenchDeck</strong> class is just like any sequential data model in Python, showing core features of Python (like iterating and slicing). It can also be used for standard libraries like <strong>random.choice</strong>, <strong>reversed</strong> and <strong>sorted</strong>.</p>\n<p>Here, we see how consistency exists in Python, and definitely we can write more elegant and pythonic code by implementing these special methods.</p>\n<p>However, our cards still cannot be shuffled so far. We&#39;ll not talk about it now, although it&#39;s easy enough to be implemented by a single line of code in <strong>__setitem__</strong>, it influences more important things and we&#39;ll talk about them together.</p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>One of the best qualities of Python is its consistency.</p>\n<p align=\"right\">Luciano Ramalho, author of Fluent Python: Clear, Concise, and Effective Programming</p>\n\n</blockquote>\n<p>By the first time I read this sentence, all I felt was wired. As we all know, Python is a dynamically-typed language, you can never succeed in guessing the class or type of a variable\b. So at least, in terms of type, Python is far from consistent. However, soon I understand the meaning of consistency in Python: Nothing is special. Here, we&#39;re going to see several examples and understand what <em>&quot;consistency&quot;</em> really means in Python.</p>\n<blockquote>\n<p>Note: In Python, we&#39;re going to meet a lot of methods that looks like <strong>__getitem__</strong>, and we&#39;ll call them <em>&quot;dunder_getitem&quot;</em> (dunder means double-under). And also notice that, double under like <strong>__x</strong> has other meanings in Python, and please don&#39;t mess up with them.</p>\n</blockquote>\n<p>It&#39;s very important to implement those methods that can be called by the framework itself, we&#39;re going to show you how to implement two special methods called <strong>__getitem__</strong> and <strong>__len__</strong>.</p>\n<h2 id=\"1-1-Pythonic-Cards\"><a href=\"#1-1-Pythonic-Cards\" class=\"headerlink\" title=\"1.1 Pythonic Cards\"></a>1.1 Pythonic Cards</h2><p>Code 1-1: Cards with order.<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> collections</span><br><span class=\"line\"></span><br><span class=\"line\">card = collections.namedtuple(<span class=\"string\">'Card'</span>, [<span class=\"string\">'rank'</span>, <span class=\"string\">'suit'</span>])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FrenchDeck</span>:</span></span><br><span class=\"line\">    ranks = [str(n) <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>, <span class=\"number\">11</span>)] + list(<span class=\"string\">'JQKA'</span>)</span><br><span class=\"line\">    suits = <span class=\"string\">'spades diamonds clubs hearts'</span>.split()</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self._cards = [Card(rank, suit) <span class=\"keyword\">for</span> suit <span class=\"keyword\">in</span> self.suits</span><br><span class=\"line\">                                        <span class=\"keyword\">for</span> rank <span class=\"keyword\">in</span> self.ranks]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__len__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> len(self._cards)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__getitem__</span><span class=\"params\">(self, position)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self._cards[position]</span><br></pre></td></tr></table></figure></p>\n<p>Now, let&#39;s look at the <strong>FrenchDeck</strong> class. It&#39;s short and powerful. First of all, like any Python standard collection class, we can use <strong>len()</strong> function to check how many cards in it:<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>deck = FrenchDeck()</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>len(deck)</span><br><span class=\"line\"><span class=\"number\">52</span></span><br></pre></td></tr></table></figure></p>\n<p>We can also pick any specific card in the cards using <strong>[ ]</strong> like the following code:<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>deck[<span class=\"number\">0</span>]</span><br><span class=\"line\">Card(rank=<span class=\"string\">'2'</span>, suit=<span class=\"string\">'spades'</span>)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>deck[<span class=\"number\">-1</span>]</span><br><span class=\"line\">Card(rank=<span class=\"string\">'A'</span>, suit=<span class=\"string\">'hearts'</span>)</span><br></pre></td></tr></table></figure></p>\n<p>The more interesting thing is that, we don&#39;t need to write a new function to randomly pick a card, Python already had a function called <strong>random.choice</strong> to do the job, and we can just use it on the instance of our cards.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span><span class=\"keyword\">from</span> random <span class=\"keyword\">import</span> choice</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>choice(deck)</span><br><span class=\"line\">Card(rank=<span class=\"string\">'4'</span>, suit=<span class=\"string\">'spades'</span>)</span><br></pre></td></tr></table></figure>\n<p>See! We already benefit from implementing special methods to use Python data model:</p>\n<ul>\n<li>The users of your class doesn&#39;t need to remember many different names of a standard manipulation (<strong>sizeof()</strong> or <strong>length()</strong> or something else).</li>\n<li>Just use Python standard library, no need for re-inventing the wheels.</li>\n</ul>\n<p>Even more, since <strong>__getitem__</strong> hands <strong>[ ]</strong> manipulation to <strong>self._cards</strong> list, so our <strong>deck</strong> class automatically supports slicing. See below:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>deck[: <span class=\"number\">3</span>]</span><br><span class=\"line\">[Card(rank=<span class=\"string\">'2'</span>, suit=<span class=\"string\">'spades'</span>),</span><br><span class=\"line\"> Card(rank=<span class=\"string\">'3'</span>, suit=<span class=\"string\">'spades'</span>),</span><br><span class=\"line\"> Card(rank=<span class=\"string\">'4'</span>, suit=<span class=\"string\">'spades'</span>)]</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>deck[<span class=\"number\">12</span>:: <span class=\"number\">13</span>]</span><br><span class=\"line\">[Card(rank=<span class=\"string\">'A'</span>, suit=<span class=\"string\">'spades'</span>),</span><br><span class=\"line\"> Card(rank=<span class=\"string\">'A'</span>, suit=<span class=\"string\">'diamonds'</span>),</span><br><span class=\"line\"> Card(rank=<span class=\"string\">'A'</span>, suit=<span class=\"string\">'clubs'</span>),</span><br><span class=\"line\"> Card(rank=<span class=\"string\">'A'</span>, suit=<span class=\"string\">'hearts'</span>)]</span><br></pre></td></tr></table></figure>\n<p>The second function means that, pick all cards that has index 12, and pick one in every 13 cards.</p>\n<p>And even more! Just by implementing <strong>__getitem__</strong> method, the cards become iterable:<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span><span class=\"keyword\">for</span> card <span class=\"keyword\">in</span> deck: <span class=\"comment\"># doctest: +ELLIPSIS</span></span><br><span class=\"line\"><span class=\"meta\">... </span>    print(card)</span><br><span class=\"line\">Card(rank=<span class=\"string\">'2'</span>, suit=<span class=\"string\">'spades'</span>)</span><br><span class=\"line\">Card(rank=<span class=\"string\">'3'</span>, suit=<span class=\"string\">'spades'</span>)</span><br><span class=\"line\">Card(rank=<span class=\"string\">'4'</span>, suit=<span class=\"string\">'spades'</span>)</span><br><span class=\"line\">Card(rank=<span class=\"string\">'5'</span>, suit=<span class=\"string\">'spades'</span>)</span><br><span class=\"line\">...v</span><br></pre></td></tr></table></figure></p>\n<p>Just by implementing <strong>__getitem__</strong> and <strong>_\\len__</strong> methods, <strong>FrenchDeck</strong> class is just like any sequential data model in Python, showing core features of Python (like iterating and slicing). It can also be used for standard libraries like <strong>random.choice</strong>, <strong>reversed</strong> and <strong>sorted</strong>.</p>\n<p>Here, we see how consistency exists in Python, and definitely we can write more elegant and pythonic code by implementing these special methods.</p>\n<p>However, our cards still cannot be shuffled so far. We&#39;ll not talk about it now, although it&#39;s easy enough to be implemented by a single line of code in <strong>__setitem__</strong>, it influences more important things and we&#39;ll talk about them together.</p>\n"},{"title":"东京码农求职记","date":"2019-05-06T09:47:03.000Z","_content":"\n## Before Reading\n本文仅通过作者经历和个人看法对于东京计算机/互联网学生应届求职给出一些经验性描述和包含个人感情色彩的建议和评论，希望读者结合自身和环境的实际情况进行批判性思考。在此抛砖引玉，欢迎读者在下方评论添加更多地信息，或发布自身的经验。After all, community is you and me and everyone.\n\n## Why Write This\n> 要恰饭的嘛！              —— yyf\n\n对于大部分在东京读计算机硕士的小码农来说，找工作几乎是每个人毕业前最头疼的事。东京又是个非常奇特的城市，同样是东大码农，收入低起年收400万，高至超越1200万，一切皆有可能。但是东京的许多大学，据我所知，学校就业处的信息可以说是一无是处，无法对小码农就职提供足够的帮助（主要还是因为学校一般把情报理工算在工学部里，和工学部一起提供信息，而忽视了计算机行业近几年翻天覆地的变化）。\n\n同时，东京的码农职位又处于一个十分奇妙的环境下，年功序列的百年老店，咨询服务，金融技术，硅谷互联网，同时存在于东京码农的招聘市场，而且分别有一套互不兼容的招聘流程。在这篇博客中，读者很容易就会发现，我自己也并没有（也实在做不到）参与所有类型的公司招聘，仅仅能对博主自身经历过的一些求职活动进行详细的论述（并包含强烈的个人感情色彩，希望读者可以自行甄别），对于博主没有亲身经历的部分，只能通过资料和道听途说（主要来源于和其他认识的求职学生谈天说地）进行论述，对于观点的客观性，资料的准确性和时效性都不作保证。\n\n不过由于 1.大数定律，足够多的样本中的噪声服从正态分布。 2.大多数的超线性回归模型都可以对包含正态分布噪声的样本进行无偏预测。 因此写这篇博客并非毫无意义，希望读者可以多多寻找其他资料，理性分析理性看待，数据越多，预测越准。\n\n这篇博文将结合我自身经历，概述日本东京应届毕业生在计算机领域的求职情况，以及对如何做准备做一些微小的建议。\n\n同时希望读者可以理解，找工作本身是一个主观性极强的小马过河式的问题，有的技巧对我来说和吃饭一样自然，但是对一些朋友来说可能是需要艰苦训练才能获得。同时对于有的朋友来说易如反掌的事情，我本人怎么都做不好。这是十分正常且普遍存在的现象，希望读者能够充分发挥主观能动性，对自己进行切实的分析。\n\n## About Me\n正如前文所言，找工作本身是一个小马过河的问题，我只能尽可能地量化我自己能量化的指标，以期读者可以尽可能获得一个客观的自我评估体系。但是出于隐私考虑，依旧有一些信息我无法公布，还请谅解。\n\n我的教育经历为：北京航空航天大学本科软件工程专业，东京大学大学院情报理工学系研究科Computer Science(CS)专攻修士（硕士）。\n\n我有两段国内创业公司的实习经历，总时长2年。来东京之后打了一段时间的Kaggle，拿了两块铜牌，达到了Kaggle Expert。目前没有论文发表。\n\n我的语言能力是：中文（Native Speaker(废话)），英语（托福ibt 103），日语（N1 合格），俄语（看过书听过歌，别问，问就是до свидания）。\n\n在这一就职季中，我侥幸获得了Amazon.co.jp的 SDE offer，薪资水平高的一度让我乐得合不拢嘴。从前文可以看出，我本人算不上大神，也算不得弱鸡。这应该就是一个普通人稍作准备就能获得的offer水平。\n## About Some Rumors\n几经思考，我决定把这一段写在最前面，因为我发现在日本计算机求职这件事情上，中文互联网的消息几乎都包含几个十分错误，甚至会对不了解的人有毁灭性误导的谣言。因此我想先把这几个很常见的谣言拿出来单独说一下，希望大家仔细辨别，好好斟酌。\n\n### 文科生也能写代码\n从逻辑的角度上来讲，这句话毫无问题。但是在中文互联网常见的语境下，这一句话指日本码农求职市场普遍不要求计算机专业知识，公司包培训包工作。这一点即使不能算完全错误，也与事实，或者说人们的期望相去甚远。事实上，不要求专业知识的日本企业大多数本质上和国内的外包公司没有区别，只是把自己报培训班的工夫挪到了公司里而已。但是其背后的高强度，低价值劳动的本质，通常恶劣而没有尊严的工作环境，看不到出路的职业生涯发展是如出一辙的，希望各位同学谨慎谨慎再谨慎，牢记天上没有免费的馅饼这一基本事实。\n\n### 日本写代码工资就那样，和所有行业都差不多\n日本应届生薪资是有名的平均主义，似乎只有在商、法、医、税这几个传统贵族行业才能免俗。然而近年来，随着日本经济和社会的改革，尤其是就职市场的改革，再加上美国互联网公司的疯狂冲击（中国带来的冲击也有一些，但不明显），码农的薪资水平开始逐年甩开其他行业，逐渐向贵族行业靠拢，因此一些努力，一些聪明的选择，还有成吨的运气，码农是能够达到让其他人瞠目结舌的应届生收入的，切不可自暴自弃。\n\n## Les Trois Mousquetaires (《三个火枪手》)\n码农们的就职去向可以说很宽，也可以说很窄，取决于个人对于职业的挑剔程度。如果完全不挑剔的话，总计有四个可能的公司去向：传统日企，日本新兴互联网，外资互联网，咨询、金融的技术部。\n### 传统日企\n传统日企的IT就职和其他专业的就职没有任何不同，典型的日式平均主义。\n\nPros:不太可能被裁员。\n\nCons:其他所有。\n### 日本新兴互联网\n其实这一类才是在日本做码农的主要去向，从小一点的各类中型企业（Fixstars, mixi），到日本的大型互联网企业（LINE，DeNA，Yahoo! Japan），还有明星独角兽（Preferred Networks, Mercari)，应有尽有。待遇水平也是从低到高一应俱全。\n\nPros:   收入普遍高于传统日企。\n        有一定的技术水平和技术积累。\n        相对健全的职业体系。\n\nCons:   主要面试、工作语言是日语。有的公司有英语招聘项目，但是不会日语总的来说会是减分项。\n        虽然在日本算是大型公司，但是和全球巨头比起来各方面差距相当大。差距从薪酬到职业生涯发展存在于几乎所有方面内。\n\n### 外资互联网\n在日本招聘的外资互联网少得可怜，例如Google最大的对手Facebook在日本就不招聘技术岗位。在日本进行校招的外资公司有：Google, Microsoft, Amazon, Indeed. Apple在日本主要招硬件，不怎么招软件。\n\nPros:   在日本打工族里算最高一级的收入水平。全球领先的技术。完善、健全、全球一流的人才培养方案和职业体系。纯英语的招聘流程和英语为主的工作环境。Transfer去其他国家、地区的机会。\n\nCons:   和湾区或者西雅图总部的人比起来，你的钱是比较少的，容易吃柠檬。日本分部组、话语权都有限，这些都有能制约你的职业发展。每年招聘人数很少，因此竞争很激烈（也很玄学）。\n\n### 咨询、金融\n包括埃森哲，高盛在内的一些咨询、金融企业。这里列出来仅仅是为了说明有这些公司在招聘，但是具体如何我完全不知道，因为我一不做咨询（不能写代码），二不去金融（就是不喜欢）。读者要想了解这方面的信息只能自己想想法。。。\n## What to Expect\n可能是由于中文互联网上对于日本IT业界的信息普遍滞后，许多朋友对于在日本做IT的正常收入、福利水平不甚了解。正所谓知己知彼，百战不殆，博主在这里粗浅的列出一些大概的数据，同时推荐一个日本网站，叫[Vokers](https://www.vorkers.com/)，类似于日本的[glassdoor](https://www.glassdoor.com/)，是雇员对于雇主的评价网站，可以在找工作和评价收入的时候进行参考。\n### 年收\n>柠檬树上柠檬果，柠檬树下你和我。\n\n以下所列薪资均为应届毕业生税前收入。\n\n普通日企：300~400w\n\n互联网日企：\n\n公司名  |   年收\n-------- |-----\nYahoo! Japan |  400~500w\nLine | 550~600w\nDeNA | 500w\nCyberAgent| 500w\nPreferred Networks| 800~1200w\nMercari | 700 ~ 900w\nMixi | 400w\n\n以上数据来源模糊（样本数量太少），是我个人的印象数据。具体情况还请谨慎参考。\n\n外资巨头：\n\n公司名  |   年收\n-------- |-----\nGoogle | 900w ~ 1500w\nMicrosoft | 700w ~ 900w\nAmazon | 800w ~ 900w\nIndeed | 1000w ~ 1200w\n### Work-Life Balance\n总体来说，外资企业比日企要良心许多，得益于其全球统一的福利政策和科学高效的管理模式，很少能找到比外资巨头更有work-life balance的公司（除了Amazon，Oncall减分很多）。\n\n日系企业各有各的不同。基本遵循给钱多的事儿也多的模式，但是还是不敢像国内996那样折腾，各个公司的加班时间依旧可以在[Vokers](https://www.vorkers.com/)上查到。需要指出的是，月均加班在40小时以上的公司已经相当高的加班度了，但是也很少有在20小时以内的公司，所以工作强度差别也并不是很大。\n\n对于一些不太了解码农就职行情的同学，这里需要指出一个常见误区：许多人会说，薪酬不重要，重要的是学到东西和发展空间。这里把薪酬和发展对立起来，就是和现实不太符合的说法。在计算机行业，普遍而言，你最能学到东西的地方，就是那些给你钱给的最多的地方。所谓的在收入和发展中斟酌，也是指FLAANG(+Microsoft)和独角兽创业公司/即将上市的新兴巨头（Uber, Airbnb, Pinterest）中斟酌，而上述所有公司，给钱都很大方，区别只在于股票能不能发财。然而在日本，几乎没有后者可选，所以能去Microsoft, Apple, Google, Amazon, Indeed，实在是想不出不去的理由。\n\n## 最后\n这一篇主要对于日本IT就职进行了客观和主观的综述，希望能够对于大家了解日本IT就职有所帮助。在下一篇博客中，我会详细的叙述我个人对于如何具体准备日企就职的一些建议的和看法。但是需要提出的是，因为我个人完全偏向于美国互联网公司的就职，因此对于其他公司的就职准备可能（几乎肯定）有不了解的地方，希望读者能独立思考，积极沟通。","source":"_posts/job-hunting-Tokyo.md","raw":"---\ntitle: 东京码农求职记\ntags:\n  - Chinese\n  - Job Hunting\n  - Leetcode\ncategories:\n  - Engineer\ndate: 2019-05-06 18:47:03\n---\n\n## Before Reading\n本文仅通过作者经历和个人看法对于东京计算机/互联网学生应届求职给出一些经验性描述和包含个人感情色彩的建议和评论，希望读者结合自身和环境的实际情况进行批判性思考。在此抛砖引玉，欢迎读者在下方评论添加更多地信息，或发布自身的经验。After all, community is you and me and everyone.\n\n## Why Write This\n> 要恰饭的嘛！              —— yyf\n\n对于大部分在东京读计算机硕士的小码农来说，找工作几乎是每个人毕业前最头疼的事。东京又是个非常奇特的城市，同样是东大码农，收入低起年收400万，高至超越1200万，一切皆有可能。但是东京的许多大学，据我所知，学校就业处的信息可以说是一无是处，无法对小码农就职提供足够的帮助（主要还是因为学校一般把情报理工算在工学部里，和工学部一起提供信息，而忽视了计算机行业近几年翻天覆地的变化）。\n\n同时，东京的码农职位又处于一个十分奇妙的环境下，年功序列的百年老店，咨询服务，金融技术，硅谷互联网，同时存在于东京码农的招聘市场，而且分别有一套互不兼容的招聘流程。在这篇博客中，读者很容易就会发现，我自己也并没有（也实在做不到）参与所有类型的公司招聘，仅仅能对博主自身经历过的一些求职活动进行详细的论述（并包含强烈的个人感情色彩，希望读者可以自行甄别），对于博主没有亲身经历的部分，只能通过资料和道听途说（主要来源于和其他认识的求职学生谈天说地）进行论述，对于观点的客观性，资料的准确性和时效性都不作保证。\n\n不过由于 1.大数定律，足够多的样本中的噪声服从正态分布。 2.大多数的超线性回归模型都可以对包含正态分布噪声的样本进行无偏预测。 因此写这篇博客并非毫无意义，希望读者可以多多寻找其他资料，理性分析理性看待，数据越多，预测越准。\n\n这篇博文将结合我自身经历，概述日本东京应届毕业生在计算机领域的求职情况，以及对如何做准备做一些微小的建议。\n\n同时希望读者可以理解，找工作本身是一个主观性极强的小马过河式的问题，有的技巧对我来说和吃饭一样自然，但是对一些朋友来说可能是需要艰苦训练才能获得。同时对于有的朋友来说易如反掌的事情，我本人怎么都做不好。这是十分正常且普遍存在的现象，希望读者能够充分发挥主观能动性，对自己进行切实的分析。\n\n## About Me\n正如前文所言，找工作本身是一个小马过河的问题，我只能尽可能地量化我自己能量化的指标，以期读者可以尽可能获得一个客观的自我评估体系。但是出于隐私考虑，依旧有一些信息我无法公布，还请谅解。\n\n我的教育经历为：北京航空航天大学本科软件工程专业，东京大学大学院情报理工学系研究科Computer Science(CS)专攻修士（硕士）。\n\n我有两段国内创业公司的实习经历，总时长2年。来东京之后打了一段时间的Kaggle，拿了两块铜牌，达到了Kaggle Expert。目前没有论文发表。\n\n我的语言能力是：中文（Native Speaker(废话)），英语（托福ibt 103），日语（N1 合格），俄语（看过书听过歌，别问，问就是до свидания）。\n\n在这一就职季中，我侥幸获得了Amazon.co.jp的 SDE offer，薪资水平高的一度让我乐得合不拢嘴。从前文可以看出，我本人算不上大神，也算不得弱鸡。这应该就是一个普通人稍作准备就能获得的offer水平。\n## About Some Rumors\n几经思考，我决定把这一段写在最前面，因为我发现在日本计算机求职这件事情上，中文互联网的消息几乎都包含几个十分错误，甚至会对不了解的人有毁灭性误导的谣言。因此我想先把这几个很常见的谣言拿出来单独说一下，希望大家仔细辨别，好好斟酌。\n\n### 文科生也能写代码\n从逻辑的角度上来讲，这句话毫无问题。但是在中文互联网常见的语境下，这一句话指日本码农求职市场普遍不要求计算机专业知识，公司包培训包工作。这一点即使不能算完全错误，也与事实，或者说人们的期望相去甚远。事实上，不要求专业知识的日本企业大多数本质上和国内的外包公司没有区别，只是把自己报培训班的工夫挪到了公司里而已。但是其背后的高强度，低价值劳动的本质，通常恶劣而没有尊严的工作环境，看不到出路的职业生涯发展是如出一辙的，希望各位同学谨慎谨慎再谨慎，牢记天上没有免费的馅饼这一基本事实。\n\n### 日本写代码工资就那样，和所有行业都差不多\n日本应届生薪资是有名的平均主义，似乎只有在商、法、医、税这几个传统贵族行业才能免俗。然而近年来，随着日本经济和社会的改革，尤其是就职市场的改革，再加上美国互联网公司的疯狂冲击（中国带来的冲击也有一些，但不明显），码农的薪资水平开始逐年甩开其他行业，逐渐向贵族行业靠拢，因此一些努力，一些聪明的选择，还有成吨的运气，码农是能够达到让其他人瞠目结舌的应届生收入的，切不可自暴自弃。\n\n## Les Trois Mousquetaires (《三个火枪手》)\n码农们的就职去向可以说很宽，也可以说很窄，取决于个人对于职业的挑剔程度。如果完全不挑剔的话，总计有四个可能的公司去向：传统日企，日本新兴互联网，外资互联网，咨询、金融的技术部。\n### 传统日企\n传统日企的IT就职和其他专业的就职没有任何不同，典型的日式平均主义。\n\nPros:不太可能被裁员。\n\nCons:其他所有。\n### 日本新兴互联网\n其实这一类才是在日本做码农的主要去向，从小一点的各类中型企业（Fixstars, mixi），到日本的大型互联网企业（LINE，DeNA，Yahoo! Japan），还有明星独角兽（Preferred Networks, Mercari)，应有尽有。待遇水平也是从低到高一应俱全。\n\nPros:   收入普遍高于传统日企。\n        有一定的技术水平和技术积累。\n        相对健全的职业体系。\n\nCons:   主要面试、工作语言是日语。有的公司有英语招聘项目，但是不会日语总的来说会是减分项。\n        虽然在日本算是大型公司，但是和全球巨头比起来各方面差距相当大。差距从薪酬到职业生涯发展存在于几乎所有方面内。\n\n### 外资互联网\n在日本招聘的外资互联网少得可怜，例如Google最大的对手Facebook在日本就不招聘技术岗位。在日本进行校招的外资公司有：Google, Microsoft, Amazon, Indeed. Apple在日本主要招硬件，不怎么招软件。\n\nPros:   在日本打工族里算最高一级的收入水平。全球领先的技术。完善、健全、全球一流的人才培养方案和职业体系。纯英语的招聘流程和英语为主的工作环境。Transfer去其他国家、地区的机会。\n\nCons:   和湾区或者西雅图总部的人比起来，你的钱是比较少的，容易吃柠檬。日本分部组、话语权都有限，这些都有能制约你的职业发展。每年招聘人数很少，因此竞争很激烈（也很玄学）。\n\n### 咨询、金融\n包括埃森哲，高盛在内的一些咨询、金融企业。这里列出来仅仅是为了说明有这些公司在招聘，但是具体如何我完全不知道，因为我一不做咨询（不能写代码），二不去金融（就是不喜欢）。读者要想了解这方面的信息只能自己想想法。。。\n## What to Expect\n可能是由于中文互联网上对于日本IT业界的信息普遍滞后，许多朋友对于在日本做IT的正常收入、福利水平不甚了解。正所谓知己知彼，百战不殆，博主在这里粗浅的列出一些大概的数据，同时推荐一个日本网站，叫[Vokers](https://www.vorkers.com/)，类似于日本的[glassdoor](https://www.glassdoor.com/)，是雇员对于雇主的评价网站，可以在找工作和评价收入的时候进行参考。\n### 年收\n>柠檬树上柠檬果，柠檬树下你和我。\n\n以下所列薪资均为应届毕业生税前收入。\n\n普通日企：300~400w\n\n互联网日企：\n\n公司名  |   年收\n-------- |-----\nYahoo! Japan |  400~500w\nLine | 550~600w\nDeNA | 500w\nCyberAgent| 500w\nPreferred Networks| 800~1200w\nMercari | 700 ~ 900w\nMixi | 400w\n\n以上数据来源模糊（样本数量太少），是我个人的印象数据。具体情况还请谨慎参考。\n\n外资巨头：\n\n公司名  |   年收\n-------- |-----\nGoogle | 900w ~ 1500w\nMicrosoft | 700w ~ 900w\nAmazon | 800w ~ 900w\nIndeed | 1000w ~ 1200w\n### Work-Life Balance\n总体来说，外资企业比日企要良心许多，得益于其全球统一的福利政策和科学高效的管理模式，很少能找到比外资巨头更有work-life balance的公司（除了Amazon，Oncall减分很多）。\n\n日系企业各有各的不同。基本遵循给钱多的事儿也多的模式，但是还是不敢像国内996那样折腾，各个公司的加班时间依旧可以在[Vokers](https://www.vorkers.com/)上查到。需要指出的是，月均加班在40小时以上的公司已经相当高的加班度了，但是也很少有在20小时以内的公司，所以工作强度差别也并不是很大。\n\n对于一些不太了解码农就职行情的同学，这里需要指出一个常见误区：许多人会说，薪酬不重要，重要的是学到东西和发展空间。这里把薪酬和发展对立起来，就是和现实不太符合的说法。在计算机行业，普遍而言，你最能学到东西的地方，就是那些给你钱给的最多的地方。所谓的在收入和发展中斟酌，也是指FLAANG(+Microsoft)和独角兽创业公司/即将上市的新兴巨头（Uber, Airbnb, Pinterest）中斟酌，而上述所有公司，给钱都很大方，区别只在于股票能不能发财。然而在日本，几乎没有后者可选，所以能去Microsoft, Apple, Google, Amazon, Indeed，实在是想不出不去的理由。\n\n## 最后\n这一篇主要对于日本IT就职进行了客观和主观的综述，希望能够对于大家了解日本IT就职有所帮助。在下一篇博客中，我会详细的叙述我个人对于如何具体准备日企就职的一些建议的和看法。但是需要提出的是，因为我个人完全偏向于美国互联网公司的就职，因此对于其他公司的就职准备可能（几乎肯定）有不了解的地方，希望读者能独立思考，积极沟通。","slug":"job-hunting-Tokyo","published":1,"updated":"2019-05-06T15:52:00.685Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxqr0025ia116n2pvstn","content":"<h2 id=\"before-reading\"><a href=\"#Before-Reading\" class=\"headerlink\" title=\"Before Reading\"></a>Before Reading</h2><p>本文仅通过作者经历和个人看法对于东京计算机/互联网学生应届求职给出一些经验性描述和包含个人感情色彩的建议和评论，希望读者结合自身和环境的实际情况进行批判性思考。在此抛砖引玉，欢迎读者在下方评论添加更多地信息，或发布自身的经验。After all, community is you and me and everyone.</p>\n<h2 id=\"why-write-this\"><a href=\"#Why-Write-This\" class=\"headerlink\" title=\"Why Write This\"></a>Why Write This</h2><blockquote>\n<p>要恰饭的嘛！              —— yyf</p>\n</blockquote>\n<p>对于大部分在东京读计算机硕士的小码农来说，找工作几乎是每个人毕业前最头疼的事。东京又是个非常奇特的城市，同样是东大码农，收入低起年收400万，高至超越1200万，一切皆有可能。但是东京的许多大学，据我所知，学校就业处的信息可以说是一无是处，无法对小码农就职提供足够的帮助（主要还是因为学校一般把情报理工算在工学部里，和工学部一起提供信息，而忽视了计算机行业近几年翻天覆地的变化）。</p>\n<p>同时，东京的码农职位又处于一个十分奇妙的环境下，年功序列的百年老店，咨询服务，金融技术，硅谷互联网，同时存在于东京码农的招聘市场，而且分别有一套互不兼容的招聘流程。在这篇博客中，读者很容易就会发现，我自己也并没有（也实在做不到）参与所有类型的公司招聘，仅仅能对博主自身经历过的一些求职活动进行详细的论述（并包含强烈的个人感情色彩，希望读者可以自行甄别），对于博主没有亲身经历的部分，只能通过资料和道听途说（主要来源于和其他认识的求职学生谈天说地）进行论述，对于观点的客观性，资料的准确性和时效性都不作保证。</p>\n<p>不过由于 1.大数定律，足够多的样本中的噪声服从正态分布。 2.大多数的超线性回归模型都可以对包含正态分布噪声的样本进行无偏预测。 因此写这篇博客并非毫无意义，希望读者可以多多寻找其他资料，理性分析理性看待，数据越多，预测越准。</p>\n<p>这篇博文将结合我自身经历，概述日本东京应届毕业生在计算机领域的求职情况，以及对如何做准备做一些微小的建议。</p>\n<p>同时希望读者可以理解，找工作本身是一个主观性极强的小马过河式的问题，有的技巧对我来说和吃饭一样自然，但是对一些朋友来说可能是需要艰苦训练才能获得。同时对于有的朋友来说易如反掌的事情，我本人怎么都做不好。这是十分正常且普遍存在的现象，希望读者能够充分发挥主观能动性，对自己进行切实的分析。</p>\n<h2 id=\"about-me\"><a href=\"#About-Me\" class=\"headerlink\" title=\"About Me\"></a>About Me</h2><p>正如前文所言，找工作本身是一个小马过河的问题，我只能尽可能地量化我自己能量化的指标，以期读者可以尽可能获得一个客观的自我评估体系。但是出于隐私考虑，依旧有一些信息我无法公布，还请谅解。</p>\n<p>我的教育经历为：北京航空航天大学本科软件工程专业，东京大学大学院情报理工学系研究科Computer Science(CS)专攻修士（硕士）。</p>\n<p>我有两段国内创业公司的实习经历，总时长2年。来东京之后打了一段时间的Kaggle，拿了两块铜牌，达到了Kaggle Expert。目前没有论文发表。</p>\n<p>我的语言能力是：中文（Native Speaker(废话)），英语（托福ibt 103），日语（N1 合格），俄语（看过书听过歌，别问，问就是до свидания）。</p>\n<p>在这一就职季中，我侥幸获得了Amazon.co.jp的 SDE offer，薪资水平高的一度让我乐得合不拢嘴。从前文可以看出，我本人算不上大神，也算不得弱鸡。这应该就是一个普通人稍作准备就能获得的offer水平。</p>\n<h2 id=\"about-some-rumors\"><a href=\"#About-Some-Rumors\" class=\"headerlink\" title=\"About Some Rumors\"></a>About Some Rumors</h2><p>几经思考，我决定把这一段写在最前面，因为我发现在日本计算机求职这件事情上，中文互联网的消息几乎都包含几个十分错误，甚至会对不了解的人有毁灭性误导的谣言。因此我想先把这几个很常见的谣言拿出来单独说一下，希望大家仔细辨别，好好斟酌。</p>\n<h3 id=\"文科生也能写代码\"><a href=\"#文科生也能写代码\" class=\"headerlink\" title=\"文科生也能写代码\"></a>文科生也能写代码</h3><p>从逻辑的角度上来讲，这句话毫无问题。但是在中文互联网常见的语境下，这一句话指日本码农求职市场普遍不要求计算机专业知识，公司包培训包工作。这一点即使不能算完全错误，也与事实，或者说人们的期望相去甚远。事实上，不要求专业知识的日本企业大多数本质上和国内的外包公司没有区别，只是把自己报培训班的工夫挪到了公司里而已。但是其背后的高强度，低价值劳动的本质，通常恶劣而没有尊严的工作环境，看不到出路的职业生涯发展是如出一辙的，希望各位同学谨慎谨慎再谨慎，牢记天上没有免费的馅饼这一基本事实。</p>\n<h3 id=\"日本写代码工资就那样和所有行业都差不多\"><a href=\"#日本写代码工资就那样，和所有行业都差不多\" class=\"headerlink\" title=\"日本写代码工资就那样，和所有行业都差不多\"></a>日本写代码工资就那样，和所有行业都差不多</h3><p>日本应届生薪资是有名的平均主义，似乎只有在商、法、医、税这几个传统贵族行业才能免俗。然而近年来，随着日本经济和社会的改革，尤其是就职市场的改革，再加上美国互联网公司的疯狂冲击（中国带来的冲击也有一些，但不明显），码农的薪资水平开始逐年甩开其他行业，逐渐向贵族行业靠拢，因此一些努力，一些聪明的选择，还有成吨的运气，码农是能够达到让其他人瞠目结舌的应届生收入的，切不可自暴自弃。</p>\n<h2 id=\"les-trois-mousquetaires-三个火枪手\"><a href=\"#Les-Trois-Mousquetaires-《三个火枪手》\" class=\"headerlink\" title=\"Les Trois Mousquetaires (《三个火枪手》)\"></a>Les Trois Mousquetaires (《三个火枪手》)</h2><p>码农们的就职去向可以说很宽，也可以说很窄，取决于个人对于职业的挑剔程度。如果完全不挑剔的话，总计有四个可能的公司去向：传统日企，日本新兴互联网，外资互联网，咨询、金融的技术部。</p>\n<h3 id=\"传统日企\"><a href=\"#传统日企\" class=\"headerlink\" title=\"传统日企\"></a>传统日企</h3><p>传统日企的IT就职和其他专业的就职没有任何不同，典型的日式平均主义。</p>\n<p>Pros:不太可能被裁员。</p>\n<p>Cons:其他所有。</p>\n<h3 id=\"日本新兴互联网\"><a href=\"#日本新兴互联网\" class=\"headerlink\" title=\"日本新兴互联网\"></a>日本新兴互联网</h3><p>其实这一类才是在日本做码农的主要去向，从小一点的各类中型企业（Fixstars, mixi），到日本的大型互联网企业（LINE，DeNA，Yahoo! Japan），还有明星独角兽（Preferred Networks, Mercari)，应有尽有。待遇水平也是从低到高一应俱全。</p>\n<p>Pros:   收入普遍高于传统日企。<br>        有一定的技术水平和技术积累。<br>        相对健全的职业体系。</p>\n<p>Cons:   主要面试、工作语言是日语。有的公司有英语招聘项目，但是不会日语总的来说会是减分项。<br>        虽然在日本算是大型公司，但是和全球巨头比起来各方面差距相当大。差距从薪酬到职业生涯发展存在于几乎所有方面内。</p>\n<h3 id=\"外资互联网\"><a href=\"#外资互联网\" class=\"headerlink\" title=\"外资互联网\"></a>外资互联网</h3><p>在日本招聘的外资互联网少得可怜，例如Google最大的对手Facebook在日本就不招聘技术岗位。在日本进行校招的外资公司有：Google, Microsoft, Amazon, Indeed. Apple在日本主要招硬件，不怎么招软件。</p>\n<p>Pros:   在日本打工族里算最高一级的收入水平。全球领先的技术。完善、健全、全球一流的人才培养方案和职业体系。纯英语的招聘流程和英语为主的工作环境。Transfer去其他国家、地区的机会。</p>\n<p>Cons:   和湾区或者西雅图总部的人比起来，你的钱是比较少的，容易吃柠檬。日本分部组、话语权都有限，这些都有能制约你的职业发展。每年招聘人数很少，因此竞争很激烈（也很玄学）。</p>\n<h3 id=\"咨询-金融\"><a href=\"#咨询、金融\" class=\"headerlink\" title=\"咨询、金融\"></a>咨询、金融</h3><p>包括埃森哲，高盛在内的一些咨询、金融企业。这里列出来仅仅是为了说明有这些公司在招聘，但是具体如何我完全不知道，因为我一不做咨询（不能写代码），二不去金融（就是不喜欢）。读者要想了解这方面的信息只能自己想想法。。。</p>\n<h2 id=\"what-to-expect\"><a href=\"#What-to-Expect\" class=\"headerlink\" title=\"What to Expect\"></a>What to Expect</h2><p>可能是由于中文互联网上对于日本IT业界的信息普遍滞后，许多朋友对于在日本做IT的正常收入、福利水平不甚了解。正所谓知己知彼，百战不殆，博主在这里粗浅的列出一些大概的数据，同时推荐一个日本网站，叫<a href=\"https://www.vorkers.com/\" target=\"_blank\" rel=\"noopener\">Vokers</a>，类似于日本的<a href=\"https://www.glassdoor.com/\" target=\"_blank\" rel=\"noopener\">glassdoor</a>，是雇员对于雇主的评价网站，可以在找工作和评价收入的时候进行参考。</p>\n<h3 id=\"年收\"><a href=\"#年收\" class=\"headerlink\" title=\"年收\"></a>年收</h3><blockquote>\n<p>柠檬树上柠檬果，柠檬树下你和我。</p>\n</blockquote>\n<p>以下所列薪资均为应届毕业生税前收入。</p>\n<p>普通日企：300~400w</p>\n<p>互联网日企：</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>公司名</th>\n<th>年收</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Yahoo! Japan</td>\n<td>400~500w</td>\n</tr>\n<tr>\n<td>Line</td>\n<td>550~600w</td>\n</tr>\n<tr>\n<td>DeNA</td>\n<td>500w</td>\n</tr>\n<tr>\n<td>CyberAgent</td>\n<td>500w</td>\n</tr>\n<tr>\n<td>Preferred Networks</td>\n<td>800~1200w</td>\n</tr>\n<tr>\n<td>Mercari</td>\n<td>700 ~ 900w</td>\n</tr>\n<tr>\n<td>Mixi</td>\n<td>400w</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>以上数据来源模糊（样本数量太少），是我个人的印象数据。具体情况还请谨慎参考。</p>\n<p>外资巨头：</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>公司名</th>\n<th>年收</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Google</td>\n<td>900w ~ 1500w</td>\n</tr>\n<tr>\n<td>Microsoft</td>\n<td>700w ~ 900w</td>\n</tr>\n<tr>\n<td>Amazon</td>\n<td>800w ~ 900w</td>\n</tr>\n<tr>\n<td>Indeed</td>\n<td>1000w ~ 1200w</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h3 id=\"work-life-balance\"><a href=\"#Work-Life-Balance\" class=\"headerlink\" title=\"Work-Life Balance\"></a>Work-Life Balance</h3><p>总体来说，外资企业比日企要良心许多，得益于其全球统一的福利政策和科学高效的管理模式，很少能找到比外资巨头更有work-life balance的公司（除了Amazon，Oncall减分很多）。</p>\n<p>日系企业各有各的不同。基本遵循给钱多的事儿也多的模式，但是还是不敢像国内996那样折腾，各个公司的加班时间依旧可以在<a href=\"https://www.vorkers.com/\" target=\"_blank\" rel=\"noopener\">Vokers</a>上查到。需要指出的是，月均加班在40小时以上的公司已经相当高的加班度了，但是也很少有在20小时以内的公司，所以工作强度差别也并不是很大。</p>\n<p>对于一些不太了解码农就职行情的同学，这里需要指出一个常见误区：许多人会说，薪酬不重要，重要的是学到东西和发展空间。这里把薪酬和发展对立起来，就是和现实不太符合的说法。在计算机行业，普遍而言，你最能学到东西的地方，就是那些给你钱给的最多的地方。所谓的在收入和发展中斟酌，也是指FLAANG(+Microsoft)和独角兽创业公司/即将上市的新兴巨头（Uber, Airbnb, Pinterest）中斟酌，而上述所有公司，给钱都很大方，区别只在于股票能不能发财。然而在日本，几乎没有后者可选，所以能去Microsoft, Apple, Google, Amazon, Indeed，实在是想不出不去的理由。</p>\n<h2 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h2><p>这一篇主要对于日本IT就职进行了客观和主观的综述，希望能够对于大家了解日本IT就职有所帮助。在下一篇博客中，我会详细的叙述我个人对于如何具体准备日企就职的一些建议的和看法。但是需要提出的是，因为我个人完全偏向于美国互联网公司的就职，因此对于其他公司的就职准备可能（几乎肯定）有不了解的地方，希望读者能独立思考，积极沟通。</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Before-Reading\"><a href=\"#Before-Reading\" class=\"headerlink\" title=\"Before Reading\"></a>Before Reading</h2><p>本文仅通过作者经历和个人看法对于东京计算机/互联网学生应届求职给出一些经验性描述和包含个人感情色彩的建议和评论，希望读者结合自身和环境的实际情况进行批判性思考。在此抛砖引玉，欢迎读者在下方评论添加更多地信息，或发布自身的经验。After all, community is you and me and everyone.</p>\n<h2 id=\"Why-Write-This\"><a href=\"#Why-Write-This\" class=\"headerlink\" title=\"Why Write This\"></a>Why Write This</h2><blockquote>\n<p>要恰饭的嘛！              —— yyf</p>\n</blockquote>\n<p>对于大部分在东京读计算机硕士的小码农来说，找工作几乎是每个人毕业前最头疼的事。东京又是个非常奇特的城市，同样是东大码农，收入低起年收400万，高至超越1200万，一切皆有可能。但是东京的许多大学，据我所知，学校就业处的信息可以说是一无是处，无法对小码农就职提供足够的帮助（主要还是因为学校一般把情报理工算在工学部里，和工学部一起提供信息，而忽视了计算机行业近几年翻天覆地的变化）。</p>\n<p>同时，东京的码农职位又处于一个十分奇妙的环境下，年功序列的百年老店，咨询服务，金融技术，硅谷互联网，同时存在于东京码农的招聘市场，而且分别有一套互不兼容的招聘流程。在这篇博客中，读者很容易就会发现，我自己也并没有（也实在做不到）参与所有类型的公司招聘，仅仅能对博主自身经历过的一些求职活动进行详细的论述（并包含强烈的个人感情色彩，希望读者可以自行甄别），对于博主没有亲身经历的部分，只能通过资料和道听途说（主要来源于和其他认识的求职学生谈天说地）进行论述，对于观点的客观性，资料的准确性和时效性都不作保证。</p>\n<p>不过由于 1.大数定律，足够多的样本中的噪声服从正态分布。 2.大多数的超线性回归模型都可以对包含正态分布噪声的样本进行无偏预测。 因此写这篇博客并非毫无意义，希望读者可以多多寻找其他资料，理性分析理性看待，数据越多，预测越准。</p>\n<p>这篇博文将结合我自身经历，概述日本东京应届毕业生在计算机领域的求职情况，以及对如何做准备做一些微小的建议。</p>\n<p>同时希望读者可以理解，找工作本身是一个主观性极强的小马过河式的问题，有的技巧对我来说和吃饭一样自然，但是对一些朋友来说可能是需要艰苦训练才能获得。同时对于有的朋友来说易如反掌的事情，我本人怎么都做不好。这是十分正常且普遍存在的现象，希望读者能够充分发挥主观能动性，对自己进行切实的分析。</p>\n<h2 id=\"About-Me\"><a href=\"#About-Me\" class=\"headerlink\" title=\"About Me\"></a>About Me</h2><p>正如前文所言，找工作本身是一个小马过河的问题，我只能尽可能地量化我自己能量化的指标，以期读者可以尽可能获得一个客观的自我评估体系。但是出于隐私考虑，依旧有一些信息我无法公布，还请谅解。</p>\n<p>我的教育经历为：北京航空航天大学本科软件工程专业，东京大学大学院情报理工学系研究科Computer Science(CS)专攻修士（硕士）。</p>\n<p>我有两段国内创业公司的实习经历，总时长2年。来东京之后打了一段时间的Kaggle，拿了两块铜牌，达到了Kaggle Expert。目前没有论文发表。</p>\n<p>我的语言能力是：中文（Native Speaker(废话)），英语（托福ibt 103），日语（N1 合格），俄语（看过书听过歌，别问，问就是до свидания）。</p>\n<p>在这一就职季中，我侥幸获得了Amazon.co.jp的 SDE offer，薪资水平高的一度让我乐得合不拢嘴。从前文可以看出，我本人算不上大神，也算不得弱鸡。这应该就是一个普通人稍作准备就能获得的offer水平。</p>\n<h2 id=\"About-Some-Rumors\"><a href=\"#About-Some-Rumors\" class=\"headerlink\" title=\"About Some Rumors\"></a>About Some Rumors</h2><p>几经思考，我决定把这一段写在最前面，因为我发现在日本计算机求职这件事情上，中文互联网的消息几乎都包含几个十分错误，甚至会对不了解的人有毁灭性误导的谣言。因此我想先把这几个很常见的谣言拿出来单独说一下，希望大家仔细辨别，好好斟酌。</p>\n<h3 id=\"文科生也能写代码\"><a href=\"#文科生也能写代码\" class=\"headerlink\" title=\"文科生也能写代码\"></a>文科生也能写代码</h3><p>从逻辑的角度上来讲，这句话毫无问题。但是在中文互联网常见的语境下，这一句话指日本码农求职市场普遍不要求计算机专业知识，公司包培训包工作。这一点即使不能算完全错误，也与事实，或者说人们的期望相去甚远。事实上，不要求专业知识的日本企业大多数本质上和国内的外包公司没有区别，只是把自己报培训班的工夫挪到了公司里而已。但是其背后的高强度，低价值劳动的本质，通常恶劣而没有尊严的工作环境，看不到出路的职业生涯发展是如出一辙的，希望各位同学谨慎谨慎再谨慎，牢记天上没有免费的馅饼这一基本事实。</p>\n<h3 id=\"日本写代码工资就那样，和所有行业都差不多\"><a href=\"#日本写代码工资就那样，和所有行业都差不多\" class=\"headerlink\" title=\"日本写代码工资就那样，和所有行业都差不多\"></a>日本写代码工资就那样，和所有行业都差不多</h3><p>日本应届生薪资是有名的平均主义，似乎只有在商、法、医、税这几个传统贵族行业才能免俗。然而近年来，随着日本经济和社会的改革，尤其是就职市场的改革，再加上美国互联网公司的疯狂冲击（中国带来的冲击也有一些，但不明显），码农的薪资水平开始逐年甩开其他行业，逐渐向贵族行业靠拢，因此一些努力，一些聪明的选择，还有成吨的运气，码农是能够达到让其他人瞠目结舌的应届生收入的，切不可自暴自弃。</p>\n<h2 id=\"Les-Trois-Mousquetaires-《三个火枪手》\"><a href=\"#Les-Trois-Mousquetaires-《三个火枪手》\" class=\"headerlink\" title=\"Les Trois Mousquetaires (《三个火枪手》)\"></a>Les Trois Mousquetaires (《三个火枪手》)</h2><p>码农们的就职去向可以说很宽，也可以说很窄，取决于个人对于职业的挑剔程度。如果完全不挑剔的话，总计有四个可能的公司去向：传统日企，日本新兴互联网，外资互联网，咨询、金融的技术部。</p>\n<h3 id=\"传统日企\"><a href=\"#传统日企\" class=\"headerlink\" title=\"传统日企\"></a>传统日企</h3><p>传统日企的IT就职和其他专业的就职没有任何不同，典型的日式平均主义。</p>\n<p>Pros:不太可能被裁员。</p>\n<p>Cons:其他所有。</p>\n<h3 id=\"日本新兴互联网\"><a href=\"#日本新兴互联网\" class=\"headerlink\" title=\"日本新兴互联网\"></a>日本新兴互联网</h3><p>其实这一类才是在日本做码农的主要去向，从小一点的各类中型企业（Fixstars, mixi），到日本的大型互联网企业（LINE，DeNA，Yahoo! Japan），还有明星独角兽（Preferred Networks, Mercari)，应有尽有。待遇水平也是从低到高一应俱全。</p>\n<p>Pros:   收入普遍高于传统日企。<br>        有一定的技术水平和技术积累。<br>        相对健全的职业体系。</p>\n<p>Cons:   主要面试、工作语言是日语。有的公司有英语招聘项目，但是不会日语总的来说会是减分项。<br>        虽然在日本算是大型公司，但是和全球巨头比起来各方面差距相当大。差距从薪酬到职业生涯发展存在于几乎所有方面内。</p>\n<h3 id=\"外资互联网\"><a href=\"#外资互联网\" class=\"headerlink\" title=\"外资互联网\"></a>外资互联网</h3><p>在日本招聘的外资互联网少得可怜，例如Google最大的对手Facebook在日本就不招聘技术岗位。在日本进行校招的外资公司有：Google, Microsoft, Amazon, Indeed. Apple在日本主要招硬件，不怎么招软件。</p>\n<p>Pros:   在日本打工族里算最高一级的收入水平。全球领先的技术。完善、健全、全球一流的人才培养方案和职业体系。纯英语的招聘流程和英语为主的工作环境。Transfer去其他国家、地区的机会。</p>\n<p>Cons:   和湾区或者西雅图总部的人比起来，你的钱是比较少的，容易吃柠檬。日本分部组、话语权都有限，这些都有能制约你的职业发展。每年招聘人数很少，因此竞争很激烈（也很玄学）。</p>\n<h3 id=\"咨询、金融\"><a href=\"#咨询、金融\" class=\"headerlink\" title=\"咨询、金融\"></a>咨询、金融</h3><p>包括埃森哲，高盛在内的一些咨询、金融企业。这里列出来仅仅是为了说明有这些公司在招聘，但是具体如何我完全不知道，因为我一不做咨询（不能写代码），二不去金融（就是不喜欢）。读者要想了解这方面的信息只能自己想想法。。。</p>\n<h2 id=\"What-to-Expect\"><a href=\"#What-to-Expect\" class=\"headerlink\" title=\"What to Expect\"></a>What to Expect</h2><p>可能是由于中文互联网上对于日本IT业界的信息普遍滞后，许多朋友对于在日本做IT的正常收入、福利水平不甚了解。正所谓知己知彼，百战不殆，博主在这里粗浅的列出一些大概的数据，同时推荐一个日本网站，叫<a href=\"https://www.vorkers.com/\" target=\"_blank\" rel=\"noopener\">Vokers</a>，类似于日本的<a href=\"https://www.glassdoor.com/\" target=\"_blank\" rel=\"noopener\">glassdoor</a>，是雇员对于雇主的评价网站，可以在找工作和评价收入的时候进行参考。</p>\n<h3 id=\"年收\"><a href=\"#年收\" class=\"headerlink\" title=\"年收\"></a>年收</h3><blockquote>\n<p>柠檬树上柠檬果，柠檬树下你和我。</p>\n</blockquote>\n<p>以下所列薪资均为应届毕业生税前收入。</p>\n<p>普通日企：300~400w</p>\n<p>互联网日企：</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>公司名</th>\n<th>年收</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Yahoo! Japan</td>\n<td>400~500w</td>\n</tr>\n<tr>\n<td>Line</td>\n<td>550~600w</td>\n</tr>\n<tr>\n<td>DeNA</td>\n<td>500w</td>\n</tr>\n<tr>\n<td>CyberAgent</td>\n<td>500w</td>\n</tr>\n<tr>\n<td>Preferred Networks</td>\n<td>800~1200w</td>\n</tr>\n<tr>\n<td>Mercari</td>\n<td>700 ~ 900w</td>\n</tr>\n<tr>\n<td>Mixi</td>\n<td>400w</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>以上数据来源模糊（样本数量太少），是我个人的印象数据。具体情况还请谨慎参考。</p>\n<p>外资巨头：</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>公司名</th>\n<th>年收</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Google</td>\n<td>900w ~ 1500w</td>\n</tr>\n<tr>\n<td>Microsoft</td>\n<td>700w ~ 900w</td>\n</tr>\n<tr>\n<td>Amazon</td>\n<td>800w ~ 900w</td>\n</tr>\n<tr>\n<td>Indeed</td>\n<td>1000w ~ 1200w</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h3 id=\"Work-Life-Balance\"><a href=\"#Work-Life-Balance\" class=\"headerlink\" title=\"Work-Life Balance\"></a>Work-Life Balance</h3><p>总体来说，外资企业比日企要良心许多，得益于其全球统一的福利政策和科学高效的管理模式，很少能找到比外资巨头更有work-life balance的公司（除了Amazon，Oncall减分很多）。</p>\n<p>日系企业各有各的不同。基本遵循给钱多的事儿也多的模式，但是还是不敢像国内996那样折腾，各个公司的加班时间依旧可以在<a href=\"https://www.vorkers.com/\" target=\"_blank\" rel=\"noopener\">Vokers</a>上查到。需要指出的是，月均加班在40小时以上的公司已经相当高的加班度了，但是也很少有在20小时以内的公司，所以工作强度差别也并不是很大。</p>\n<p>对于一些不太了解码农就职行情的同学，这里需要指出一个常见误区：许多人会说，薪酬不重要，重要的是学到东西和发展空间。这里把薪酬和发展对立起来，就是和现实不太符合的说法。在计算机行业，普遍而言，你最能学到东西的地方，就是那些给你钱给的最多的地方。所谓的在收入和发展中斟酌，也是指FLAANG(+Microsoft)和独角兽创业公司/即将上市的新兴巨头（Uber, Airbnb, Pinterest）中斟酌，而上述所有公司，给钱都很大方，区别只在于股票能不能发财。然而在日本，几乎没有后者可选，所以能去Microsoft, Apple, Google, Amazon, Indeed，实在是想不出不去的理由。</p>\n<h2 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h2><p>这一篇主要对于日本IT就职进行了客观和主观的综述，希望能够对于大家了解日本IT就职有所帮助。在下一篇博客中，我会详细的叙述我个人对于如何具体准备日企就职的一些建议的和看法。但是需要提出的是，因为我个人完全偏向于美国互联网公司的就职，因此对于其他公司的就职准备可能（几乎肯定）有不了解的地方，希望读者能独立思考，积极沟通。</p>\n"},{"title":"KickStart 2019 Round D Question A. X or What","date":"2019-08-01T07:04:05.000Z","_content":"\n## Problem Link\nSee [hear](https://codingcompetitions.withgoogle.com/kickstart/round/0000000000051061/0000000000161426).\n\n## Problem\nSteven has an array of N non-negative integers. The i-th integer (indexed starting from 0) in the array is Ai.\n\nSteven really likes sub-intervals of A that are xor-even. Formally, a sub-interval of A is a pair of indices (L, R), denoting the elements $$A_L, A_{L+1}, ..., A_{R-1}, A_R$$ . The xor-sum of this sub-interval is $$A_L$$ xor $$A_{L+1}$$ xor ... xor $$A_{R-1}$$ xor $$A_R$$, where xor is the bitwise exclusive or.\n\nA sub-interval is xor-even if its xor-sum has an even number of set bits in its binary representation.\n\nSteven would like to make Q modifications to the array. The i-th modification changes the $P_i$-th (indexed from 0) element to $V_i$. Steven would like to know, what is the size of the xor-even sub-interval of A with the most elements after each modification?\n\n## Input\nThe first line of the input gives the number of test cases, T. T test cases follow.\n\nEach test case starts with a line containing two integers N and Q, denoting the number of elements in Steven's array and the number of modifications, respectively.\n\nThe second line contains N integers. The i-th of them gives $A_i$ indicating the i-th integer in Steven's array.\n\nThen, Q lines follow, describing the modifications. The i-th line contains $P_i$ and $V_i$, The i-th modification changes the $P_i$-th element to $V_i$. indicating that the i-th modification changes the $P_i$-th (indexed from 0) element to $V_i$.\n\n## Output\nFor each test case, output one line containing Case #x: y_1 y_2 ... y_Q, where x is the test case number (starting from 1) and y_i is the number of elements in the largest xor-even sub-interval of A after the i-th modification. If there are no xor-even sub-intervals, then output 0.\n\n## Sample Input and Output\nInput\n```\n2\n4 3\n10 21 3 7\n1 13\n0 32\n2 22\n5 1\n14 1 15 20 26\n4 26\n```\n\nOutput\n```\nCase #1: 4 3 4\nCase #2: 4\n```\n\n## Solution\nThis is a problem that we can tear it apart into two sub-problems, how to determine if a number has even or odd 1s in its bits, and how to find the longest subarray. Let's do it one by one.\n\n### How to determine if a number has even or odd 1s in its bits?\nThis one looks simple, while it can also be pretty tricky. Let's start from the most naive one.\n\n#### Naive\nNaively compare every bits and count them, see if there's even of them.\n```Java\nboolean evenOnes(int n) {\n  int count = 0;\n  while (n != 0) {\n    if ((n & 1) == 1) {\n      count++;\n    }\n    n >>= 1;\n  }\n  return (count & 1) == 0;\n}\n```\n\n#### A small improve\nWe have noticed that this require $k$ times of comparisons, while $k$ denotes the number of bits of the integer. In Java 8, $k = 32$.\n\nCan we improve it a little bit? Here a method that allow us to compare exactly $a$ times, while $a$ denotes the total number of 1 in $n$'s bits presentation. Here's how we do it:\n\n```Java\nboolean evenOnes(int n) {\n  int count = 0;\n  while (n!=0) {\n    n &= n-1;\n    count++;\n  }\n  return (count & 1) == 0;\n}\n```\n\nHow did this work? Take a look at the figure.\n\n![Figure 1](/images/kick2019roundD/1.png)\n\nSay we split the binary representation of the integer n into two parts, **b** denotes from the first **1** to the lowest bit, and **a** for the rest.\n\nFor $n-1$, we can see that **a** part stayed the same and every bits get flipped in **b** part, thus the & operation between will keep everything in **a** the same, and turn every bits in **b** into **0**. As a result, we erased the first **1** in $n$, from the lowest bit to highest. The loop terminates until $n = 0$, which indicates that all **1** have been erased from $n$. Counting the time of the loop, would be the number of **1**s in n.\n\n#### Can we do even better?\nYes we can, but to be strictly correct, we cannot actually call this better under all circumstance (Imagine if the n is 0, can we actually do it any better?). The fact is we can do this by do five comparison under all circumstance, thus for any $n$ that has more than five **1**s, it's better, other than that, it's actually worse.\n\nBut we're presenting the method anyway, because, firstly, the method is tricky and interesting, and secondly, in practice, this method is stable, especially for input that has a lot of **1**, it's much faster.\n\nHere's the code, and it's pretty simple.\n\n```Java\nboolean evenOnes(int x) {\n  x ^= x >> 1;\n  x ^= x >> 2;\n  x ^= x >> 4;\n  x ^= x >> 8;\n  x ^= x >> 16;\n  return (x&1) == 0;\n}\n```\n\nNow, here's the tricky part, let's start from the first comparison: `x ^= x >> 1`\n\n![Figure 2](/images/kick2019roundD/2.png)\n\nSee from the figure, and concentrate on the i-th bit. Under what circumstance would the i-th bit be **1** ? The answer is there's only one **1** at the i-th and (i+1)-th bit in x. Which means, if the result bit at the i-th bit is **1**, that indicates there are **odd** number of **1**s between the i-th and the (i+1)-th bits, and vice versa.\n\nNow let's take a look at the second comparison: `x ^= x >> 2;`, which can be indicated by the figure below:\n\n![Figure 2](/images/kick2019roundD/3.png)\n\nNow remember the `x` is the `x` after the first comparison, which means the i-th bit, **a** indicates whether there're odd number of **1** in the i-th and (i+1)-th bits in the original input, and for **b**, it indicates whether there're odd number of **1** in the (i+2)-th and (i+3)-th bits.\n\nNow let's see what would happen after this comparison. Consider this: What would **a** and **b** like, if we want the i-th bit is **1** after the operation? The only answer is that, only one out of **a** and **b** is **1**. Recall that **a** and **b** indicates the oddness of the original input on there representing range, and only one of them have odd **1**s. So if we merge the two ranges, the new range would have odd **1**s in it. Thus we could say, the bit on i-th position indicates the oddness of **1**s from i-th position to (i+3)-th position in the original input.\n\nThe same things goes all the way to the range is length 32, the number of bits of an integer in Java 8. Then we can say: The bit at the 0-th position indicates the oddness of **1** for the range from 0 to 31, which is the total input.\n\nNow we have solved our first problem, let's see the second.\n\n### Find the Longest Sub-array that Every Element Has Even 1's.\n\n>Here, ***Even*** means odd-even even, not an \"equal\" even.\n\nThe brute-force way, of course, it after each modification, go through all the sub-arrays and record the longest one. This is a $O(n^2)$ algorithms and too trivial that we don't actually need to discuss more about it.\n\nIn order to improve it, we have noticed an interesting fact: For any `a & b = x`, the `x` would have odd 1's if and only if one of `a` and `b` have odd 1's. Prove it as an exercise, it's not hard!\n\nSo here are two conditions: the number of odd-1's element in the array is even, and the number is odd. Things are pretty easy for the even situation: the longest sub-array is the whole array. For the odd situation, the longest sub-array is one of the following sub-arrays: the subarray right after the first odd-1's element to the end, and the subarray from the beginning to the element right before the last odd-1's element.\n\nTo avoid looking for the first and last odd-1's element after every modifications, we can use a sorted set to record the positions of them, thus we only need to add or remove one element to the set, or do nothing in each modification. The time complexity is $O(log(k))$ for each modification, where $k$ indicates the size of the set.\n\nHere's an implementation of it:\n\n```Java\npublic List<Integer> solve(int n, int q, int[] nums, int[][] modis) {\n  List<Integer> ans = new ArrayList<>();\n  TreeSet<Integer> positions = new TreeSet<>();\n  for (int i=0; i<n; i++) {\n      if (!evenOnes(nums[i])) {\n          positions.add(i);\n      }\n  }\n\n  for (int[] modi: modis) {\n      int pos = modi[0];\n      int val = modi[1];\n      if (evenOnes(val)) {\n          if (positions.contains(pos)) {\n              positions.remove(pos);\n          }\n      } else {\n          if (!positions.contains(pos)) {\n              positions.add(pos);\n          }\n      }\n\n      if ((positions.size() & 1) == 0) {\n          ans.add(n);\n      } else {\n          ans.add(Math.max(n - positions.first() - 1, positions.last()));\n      }\n  }\n\n  return ans;\n}\n```\n\nIn total, the time complexity of the algorithm is $O((k+q)log(k))$, where $k$ denotes the size of the set, and $q$ is the number of queries.\n\nIt's also mentioned that van Emde Boas trees can solve this problem, but I'll leave it to another separate article to talk about it, for this one is already long enough.","source":"_posts/kickstart-D-1.md","raw":"---\ntitle: KickStart 2019 Round D Question A. X or What\ntags:\n  - Computer Science\n  - Algorithm\ncategories: Computer Science\ndate: 2019-08-01 16:04:05\n---\n\n## Problem Link\nSee [hear](https://codingcompetitions.withgoogle.com/kickstart/round/0000000000051061/0000000000161426).\n\n## Problem\nSteven has an array of N non-negative integers. The i-th integer (indexed starting from 0) in the array is Ai.\n\nSteven really likes sub-intervals of A that are xor-even. Formally, a sub-interval of A is a pair of indices (L, R), denoting the elements $$A_L, A_{L+1}, ..., A_{R-1}, A_R$$ . The xor-sum of this sub-interval is $$A_L$$ xor $$A_{L+1}$$ xor ... xor $$A_{R-1}$$ xor $$A_R$$, where xor is the bitwise exclusive or.\n\nA sub-interval is xor-even if its xor-sum has an even number of set bits in its binary representation.\n\nSteven would like to make Q modifications to the array. The i-th modification changes the $P_i$-th (indexed from 0) element to $V_i$. Steven would like to know, what is the size of the xor-even sub-interval of A with the most elements after each modification?\n\n## Input\nThe first line of the input gives the number of test cases, T. T test cases follow.\n\nEach test case starts with a line containing two integers N and Q, denoting the number of elements in Steven's array and the number of modifications, respectively.\n\nThe second line contains N integers. The i-th of them gives $A_i$ indicating the i-th integer in Steven's array.\n\nThen, Q lines follow, describing the modifications. The i-th line contains $P_i$ and $V_i$, The i-th modification changes the $P_i$-th element to $V_i$. indicating that the i-th modification changes the $P_i$-th (indexed from 0) element to $V_i$.\n\n## Output\nFor each test case, output one line containing Case #x: y_1 y_2 ... y_Q, where x is the test case number (starting from 1) and y_i is the number of elements in the largest xor-even sub-interval of A after the i-th modification. If there are no xor-even sub-intervals, then output 0.\n\n## Sample Input and Output\nInput\n```\n2\n4 3\n10 21 3 7\n1 13\n0 32\n2 22\n5 1\n14 1 15 20 26\n4 26\n```\n\nOutput\n```\nCase #1: 4 3 4\nCase #2: 4\n```\n\n## Solution\nThis is a problem that we can tear it apart into two sub-problems, how to determine if a number has even or odd 1s in its bits, and how to find the longest subarray. Let's do it one by one.\n\n### How to determine if a number has even or odd 1s in its bits?\nThis one looks simple, while it can also be pretty tricky. Let's start from the most naive one.\n\n#### Naive\nNaively compare every bits and count them, see if there's even of them.\n```Java\nboolean evenOnes(int n) {\n  int count = 0;\n  while (n != 0) {\n    if ((n & 1) == 1) {\n      count++;\n    }\n    n >>= 1;\n  }\n  return (count & 1) == 0;\n}\n```\n\n#### A small improve\nWe have noticed that this require $k$ times of comparisons, while $k$ denotes the number of bits of the integer. In Java 8, $k = 32$.\n\nCan we improve it a little bit? Here a method that allow us to compare exactly $a$ times, while $a$ denotes the total number of 1 in $n$'s bits presentation. Here's how we do it:\n\n```Java\nboolean evenOnes(int n) {\n  int count = 0;\n  while (n!=0) {\n    n &= n-1;\n    count++;\n  }\n  return (count & 1) == 0;\n}\n```\n\nHow did this work? Take a look at the figure.\n\n![Figure 1](/images/kick2019roundD/1.png)\n\nSay we split the binary representation of the integer n into two parts, **b** denotes from the first **1** to the lowest bit, and **a** for the rest.\n\nFor $n-1$, we can see that **a** part stayed the same and every bits get flipped in **b** part, thus the & operation between will keep everything in **a** the same, and turn every bits in **b** into **0**. As a result, we erased the first **1** in $n$, from the lowest bit to highest. The loop terminates until $n = 0$, which indicates that all **1** have been erased from $n$. Counting the time of the loop, would be the number of **1**s in n.\n\n#### Can we do even better?\nYes we can, but to be strictly correct, we cannot actually call this better under all circumstance (Imagine if the n is 0, can we actually do it any better?). The fact is we can do this by do five comparison under all circumstance, thus for any $n$ that has more than five **1**s, it's better, other than that, it's actually worse.\n\nBut we're presenting the method anyway, because, firstly, the method is tricky and interesting, and secondly, in practice, this method is stable, especially for input that has a lot of **1**, it's much faster.\n\nHere's the code, and it's pretty simple.\n\n```Java\nboolean evenOnes(int x) {\n  x ^= x >> 1;\n  x ^= x >> 2;\n  x ^= x >> 4;\n  x ^= x >> 8;\n  x ^= x >> 16;\n  return (x&1) == 0;\n}\n```\n\nNow, here's the tricky part, let's start from the first comparison: `x ^= x >> 1`\n\n![Figure 2](/images/kick2019roundD/2.png)\n\nSee from the figure, and concentrate on the i-th bit. Under what circumstance would the i-th bit be **1** ? The answer is there's only one **1** at the i-th and (i+1)-th bit in x. Which means, if the result bit at the i-th bit is **1**, that indicates there are **odd** number of **1**s between the i-th and the (i+1)-th bits, and vice versa.\n\nNow let's take a look at the second comparison: `x ^= x >> 2;`, which can be indicated by the figure below:\n\n![Figure 2](/images/kick2019roundD/3.png)\n\nNow remember the `x` is the `x` after the first comparison, which means the i-th bit, **a** indicates whether there're odd number of **1** in the i-th and (i+1)-th bits in the original input, and for **b**, it indicates whether there're odd number of **1** in the (i+2)-th and (i+3)-th bits.\n\nNow let's see what would happen after this comparison. Consider this: What would **a** and **b** like, if we want the i-th bit is **1** after the operation? The only answer is that, only one out of **a** and **b** is **1**. Recall that **a** and **b** indicates the oddness of the original input on there representing range, and only one of them have odd **1**s. So if we merge the two ranges, the new range would have odd **1**s in it. Thus we could say, the bit on i-th position indicates the oddness of **1**s from i-th position to (i+3)-th position in the original input.\n\nThe same things goes all the way to the range is length 32, the number of bits of an integer in Java 8. Then we can say: The bit at the 0-th position indicates the oddness of **1** for the range from 0 to 31, which is the total input.\n\nNow we have solved our first problem, let's see the second.\n\n### Find the Longest Sub-array that Every Element Has Even 1's.\n\n>Here, ***Even*** means odd-even even, not an \"equal\" even.\n\nThe brute-force way, of course, it after each modification, go through all the sub-arrays and record the longest one. This is a $O(n^2)$ algorithms and too trivial that we don't actually need to discuss more about it.\n\nIn order to improve it, we have noticed an interesting fact: For any `a & b = x`, the `x` would have odd 1's if and only if one of `a` and `b` have odd 1's. Prove it as an exercise, it's not hard!\n\nSo here are two conditions: the number of odd-1's element in the array is even, and the number is odd. Things are pretty easy for the even situation: the longest sub-array is the whole array. For the odd situation, the longest sub-array is one of the following sub-arrays: the subarray right after the first odd-1's element to the end, and the subarray from the beginning to the element right before the last odd-1's element.\n\nTo avoid looking for the first and last odd-1's element after every modifications, we can use a sorted set to record the positions of them, thus we only need to add or remove one element to the set, or do nothing in each modification. The time complexity is $O(log(k))$ for each modification, where $k$ indicates the size of the set.\n\nHere's an implementation of it:\n\n```Java\npublic List<Integer> solve(int n, int q, int[] nums, int[][] modis) {\n  List<Integer> ans = new ArrayList<>();\n  TreeSet<Integer> positions = new TreeSet<>();\n  for (int i=0; i<n; i++) {\n      if (!evenOnes(nums[i])) {\n          positions.add(i);\n      }\n  }\n\n  for (int[] modi: modis) {\n      int pos = modi[0];\n      int val = modi[1];\n      if (evenOnes(val)) {\n          if (positions.contains(pos)) {\n              positions.remove(pos);\n          }\n      } else {\n          if (!positions.contains(pos)) {\n              positions.add(pos);\n          }\n      }\n\n      if ((positions.size() & 1) == 0) {\n          ans.add(n);\n      } else {\n          ans.add(Math.max(n - positions.first() - 1, positions.last()));\n      }\n  }\n\n  return ans;\n}\n```\n\nIn total, the time complexity of the algorithm is $O((k+q)log(k))$, where $k$ denotes the size of the set, and $q$ is the number of queries.\n\nIt's also mentioned that van Emde Boas trees can solve this problem, but I'll leave it to another separate article to talk about it, for this one is already long enough.","slug":"kickstart-D-1","published":1,"updated":"2019-08-01T13:05:52.726Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxqs0026ia11u8tyfblj","content":"<h2 id=\"problem-link\"><a href=\"#Problem-Link\" class=\"headerlink\" title=\"Problem Link\"></a>Problem Link</h2><p>See <a href=\"https://codingcompetitions.withgoogle.com/kickstart/round/0000000000051061/0000000000161426\" target=\"_blank\" rel=\"noopener\">hear</a>.</p>\n<h2 id=\"problem\"><a href=\"#Problem\" class=\"headerlink\" title=\"Problem\"></a>Problem</h2><p>Steven has an array of N non-negative integers. The i-th integer (indexed starting from 0) in the array is Ai.</p>\n<p>Steven really likes sub-intervals of A that are xor-even. Formally, a sub-interval of A is a pair of indices (L, R), denoting the elements <script type=\"math/tex\">A_L, A_{L+1}, ..., A_{R-1}, A_R</script> . The xor-sum of this sub-interval is <script type=\"math/tex\">A_L</script> xor <script type=\"math/tex\">A_{L+1}</script> xor ... xor <script type=\"math/tex\">A_{R-1}</script> xor <script type=\"math/tex\">A_R</script>, where xor is the bitwise exclusive or.</p>\n<p>A sub-interval is xor-even if its xor-sum has an even number of set bits in its binary representation.</p>\n<p>Steven would like to make Q modifications to the array. The i-th modification changes the $P_i$-th (indexed from 0) element to $V_i$. Steven would like to know, what is the size of the xor-even sub-interval of A with the most elements after each modification?</p>\n<h2 id=\"input\"><a href=\"#Input\" class=\"headerlink\" title=\"Input\"></a>Input</h2><p>The first line of the input gives the number of test cases, T. T test cases follow.</p>\n<p>Each test case starts with a line containing two integers N and Q, denoting the number of elements in Steven&#39;s array and the number of modifications, respectively.</p>\n<p>The second line contains N integers. The i-th of them gives $A_i$ indicating the i-th integer in Steven&#39;s array.</p>\n<p>Then, Q lines follow, describing the modifications. The i-th line contains $P_i$ and $V_i$, The i-th modification changes the $P_i$-th element to $V_i$. indicating that the i-th modification changes the $P_i$-th (indexed from 0) element to $V_i$.</p>\n<h2 id=\"output\"><a href=\"#Output\" class=\"headerlink\" title=\"Output\"></a>Output</h2><p>For each test case, output one line containing Case #x: y_1 y_2 ... y_Q, where x is the test case number (starting from 1) and y_i is the number of elements in the largest xor-even sub-interval of A after the i-th modification. If there are no xor-even sub-intervals, then output 0.</p>\n<h2 id=\"sample-input-and-output\"><a href=\"#Sample-Input-and-Output\" class=\"headerlink\" title=\"Sample Input and Output\"></a>Sample Input and Output</h2><p>Input<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2</span><br><span class=\"line\">4 3</span><br><span class=\"line\">10 21 3 7</span><br><span class=\"line\">1 13</span><br><span class=\"line\">0 32</span><br><span class=\"line\">2 22</span><br><span class=\"line\">5 1</span><br><span class=\"line\">14 1 15 20 26</span><br><span class=\"line\">4 26</span><br></pre></td></tr></table></figure></p>\n<p>Output<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Case #1: 4 3 4</span><br><span class=\"line\">Case #2: 4</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"solution\"><a href=\"#Solution\" class=\"headerlink\" title=\"Solution\"></a>Solution</h2><p>This is a problem that we can tear it apart into two sub-problems, how to determine if a number has even or odd 1s in its bits, and how to find the longest subarray. Let&#39;s do it one by one.</p>\n<h3 id=\"how-to-determine-if-a-number-has-even-or-odd-1s-in-its-bits\"><a href=\"#How-to-determine-if-a-number-has-even-or-odd-1s-in-its-bits\" class=\"headerlink\" title=\"How to determine if a number has even or odd 1s in its bits?\"></a>How to determine if a number has even or odd 1s in its bits?</h3><p>This one looks simple, while it can also be pretty tricky. Let&#39;s start from the most naive one.</p>\n<h4 id=\"naive\"><a href=\"#Naive\" class=\"headerlink\" title=\"Naive\"></a>Naive</h4><p>Naively compare every bits and count them, see if there&#39;s even of them.<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">evenOnes</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (n != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> ((n &amp; <span class=\"number\">1</span>) == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      count++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    n &gt;&gt;= <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (count &amp; <span class=\"number\">1</span>) == <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"a-small-improve\"><a href=\"#A-small-improve\" class=\"headerlink\" title=\"A small improve\"></a>A small improve</h4><p>We have noticed that this require $k$ times of comparisons, while $k$ denotes the number of bits of the integer. In Java 8, $k = 32$.</p>\n<p>Can we improve it a little bit? Here a method that allow us to compare exactly $a$ times, while $a$ denotes the total number of 1 in $n$&#39;s bits presentation. Here&#39;s how we do it:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">evenOnes</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (n!=<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    n &amp;= n-<span class=\"number\">1</span>;</span><br><span class=\"line\">    count++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (count &amp; <span class=\"number\">1</span>) == <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>How did this work? Take a look at the figure.</p>\n<p><img src=\"/images/kick2019roundD/1.png\" alt=\"Figure 1\"></p>\n<p>Say we split the binary representation of the integer n into two parts, <strong>b</strong> denotes from the first <strong>1</strong> to the lowest bit, and <strong>a</strong> for the rest.</p>\n<p>For $n-1$, we can see that <strong>a</strong> part stayed the same and every bits get flipped in <strong>b</strong> part, thus the &amp; operation between will keep everything in <strong>a</strong> the same, and turn every bits in <strong>b</strong> into <strong>0</strong>. As a result, we erased the first <strong>1</strong> in $n$, from the lowest bit to highest. The loop terminates until $n = 0$, which indicates that all <strong>1</strong> have been erased from $n$. Counting the time of the loop, would be the number of <strong>1</strong>s in n.</p>\n<h4 id=\"can-we-do-even-better\"><a href=\"#Can-we-do-even-better\" class=\"headerlink\" title=\"Can we do even better?\"></a>Can we do even better?</h4><p>Yes we can, but to be strictly correct, we cannot actually call this better under all circumstance (Imagine if the n is 0, can we actually do it any better?). The fact is we can do this by do five comparison under all circumstance, thus for any $n$ that has more than five <strong>1</strong>s, it&#39;s better, other than that, it&#39;s actually worse.</p>\n<p>But we&#39;re presenting the method anyway, because, firstly, the method is tricky and interesting, and secondly, in practice, this method is stable, especially for input that has a lot of <strong>1</strong>, it&#39;s much faster.</p>\n<p>Here&#39;s the code, and it&#39;s pretty simple.</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">evenOnes</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  x ^= x &gt;&gt; <span class=\"number\">1</span>;</span><br><span class=\"line\">  x ^= x &gt;&gt; <span class=\"number\">2</span>;</span><br><span class=\"line\">  x ^= x &gt;&gt; <span class=\"number\">4</span>;</span><br><span class=\"line\">  x ^= x &gt;&gt; <span class=\"number\">8</span>;</span><br><span class=\"line\">  x ^= x &gt;&gt; <span class=\"number\">16</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (x&amp;<span class=\"number\">1</span>) == <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Now, here&#39;s the tricky part, let&#39;s start from the first comparison: <code>x ^= x &gt;&gt; 1</code></p>\n<p><img src=\"/images/kick2019roundD/2.png\" alt=\"Figure 2\"></p>\n<p>See from the figure, and concentrate on the i-th bit. Under what circumstance would the i-th bit be <strong>1</strong> ? The answer is there&#39;s only one <strong>1</strong> at the i-th and (i+1)-th bit in x. Which means, if the result bit at the i-th bit is <strong>1</strong>, that indicates there are <strong>odd</strong> number of <strong>1</strong>s between the i-th and the (i+1)-th bits, and vice versa.</p>\n<p>Now let&#39;s take a look at the second comparison: <code>x ^= x &gt;&gt; 2;</code>, which can be indicated by the figure below:</p>\n<p><img src=\"/images/kick2019roundD/3.png\" alt=\"Figure 2\"></p>\n<p>Now remember the <code>x</code> is the <code>x</code> after the first comparison, which means the i-th bit, <strong>a</strong> indicates whether there&#39;re odd number of <strong>1</strong> in the i-th and (i+1)-th bits in the original input, and for <strong>b</strong>, it indicates whether there&#39;re odd number of <strong>1</strong> in the (i+2)-th and (i+3)-th bits.</p>\n<p>Now let&#39;s see what would happen after this comparison. Consider this: What would <strong>a</strong> and <strong>b</strong> like, if we want the i-th bit is <strong>1</strong> after the operation? The only answer is that, only one out of <strong>a</strong> and <strong>b</strong> is <strong>1</strong>. Recall that <strong>a</strong> and <strong>b</strong> indicates the oddness of the original input on there representing range, and only one of them have odd <strong>1</strong>s. So if we merge the two ranges, the new range would have odd <strong>1</strong>s in it. Thus we could say, the bit on i-th position indicates the oddness of <strong>1</strong>s from i-th position to (i+3)-th position in the original input.</p>\n<p>The same things goes all the way to the range is length 32, the number of bits of an integer in Java 8. Then we can say: The bit at the 0-th position indicates the oddness of <strong>1</strong> for the range from 0 to 31, which is the total input.</p>\n<p>Now we have solved our first problem, let&#39;s see the second.</p>\n<h3 id=\"find-the-longest-sub-array-that-every-element-has-even-139s\"><a href=\"#Find-the-Longest-Sub-array-that-Every-Element-Has-Even-1-39-s\" class=\"headerlink\" title=\"Find the Longest Sub-array that Every Element Has Even 1&#39;s.\"></a>Find the Longest Sub-array that Every Element Has Even 1&#39;s.</h3><blockquote>\n<p>Here, <strong><em>Even</em></strong> means odd-even even, not an &quot;equal&quot; even.</p>\n</blockquote>\n<p>The brute-force way, of course, it after each modification, go through all the sub-arrays and record the longest one. This is a $O(n^2)$ algorithms and too trivial that we don&#39;t actually need to discuss more about it.</p>\n<p>In order to improve it, we have noticed an interesting fact: For any <code>a &amp; b = x</code>, the <code>x</code> would have odd 1&#39;s if and only if one of <code>a</code> and <code>b</code> have odd 1&#39;s. Prove it as an exercise, it&#39;s not hard!</p>\n<p>So here are two conditions: the number of odd-1&#39;s element in the array is even, and the number is odd. Things are pretty easy for the even situation: the longest sub-array is the whole array. For the odd situation, the longest sub-array is one of the following sub-arrays: the subarray right after the first odd-1&#39;s element to the end, and the subarray from the beginning to the element right before the last odd-1&#39;s element.</p>\n<p>To avoid looking for the first and last odd-1&#39;s element after every modifications, we can use a sorted set to record the positions of them, thus we only need to add or remove one element to the set, or do nothing in each modification. The time complexity is $O(log(k))$ for each modification, where $k$ indicates the size of the set.</p>\n<p>Here&#39;s an implementation of it:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> List&lt;Integer&gt; <span class=\"title\">solve</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> q, <span class=\"keyword\">int</span>[] nums, <span class=\"keyword\">int</span>[][] modis)</span> </span>&#123;</span><br><span class=\"line\">  List&lt;Integer&gt; ans = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">  TreeSet&lt;Integer&gt; positions = <span class=\"keyword\">new</span> TreeSet&lt;&gt;();</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>; i&lt;n; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!evenOnes(nums[i])) &#123;</span><br><span class=\"line\">          positions.add(i);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span>[] modi: modis) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">int</span> pos = modi[<span class=\"number\">0</span>];</span><br><span class=\"line\">      <span class=\"keyword\">int</span> val = modi[<span class=\"number\">1</span>];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (evenOnes(val)) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (positions.contains(pos)) &#123;</span><br><span class=\"line\">              positions.remove(pos);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (!positions.contains(pos)) &#123;</span><br><span class=\"line\">              positions.add(pos);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> ((positions.size() &amp; <span class=\"number\">1</span>) == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">          ans.add(n);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          ans.add(Math.max(n - positions.first() - <span class=\"number\">1</span>, positions.last()));</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>In total, the time complexity of the algorithm is $O((k+q)log(k))$, where $k$ denotes the size of the set, and $q$ is the number of queries.</p>\n<p>It&#39;s also mentioned that van Emde Boas trees can solve this problem, but I&#39;ll leave it to another separate article to talk about it, for this one is already long enough.</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Problem-Link\"><a href=\"#Problem-Link\" class=\"headerlink\" title=\"Problem Link\"></a>Problem Link</h2><p>See <a href=\"https://codingcompetitions.withgoogle.com/kickstart/round/0000000000051061/0000000000161426\" target=\"_blank\" rel=\"noopener\">hear</a>.</p>\n<h2 id=\"Problem\"><a href=\"#Problem\" class=\"headerlink\" title=\"Problem\"></a>Problem</h2><p>Steven has an array of N non-negative integers. The i-th integer (indexed starting from 0) in the array is Ai.</p>\n<p>Steven really likes sub-intervals of A that are xor-even. Formally, a sub-interval of A is a pair of indices (L, R), denoting the elements <script type=\"math/tex\">A_L, A_{L+1}, ..., A_{R-1}, A_R</script> . The xor-sum of this sub-interval is <script type=\"math/tex\">A_L</script> xor <script type=\"math/tex\">A_{L+1}</script> xor ... xor <script type=\"math/tex\">A_{R-1}</script> xor <script type=\"math/tex\">A_R</script>, where xor is the bitwise exclusive or.</p>\n<p>A sub-interval is xor-even if its xor-sum has an even number of set bits in its binary representation.</p>\n<p>Steven would like to make Q modifications to the array. The i-th modification changes the $P_i$-th (indexed from 0) element to $V_i$. Steven would like to know, what is the size of the xor-even sub-interval of A with the most elements after each modification?</p>\n<h2 id=\"Input\"><a href=\"#Input\" class=\"headerlink\" title=\"Input\"></a>Input</h2><p>The first line of the input gives the number of test cases, T. T test cases follow.</p>\n<p>Each test case starts with a line containing two integers N and Q, denoting the number of elements in Steven&#39;s array and the number of modifications, respectively.</p>\n<p>The second line contains N integers. The i-th of them gives $A_i$ indicating the i-th integer in Steven&#39;s array.</p>\n<p>Then, Q lines follow, describing the modifications. The i-th line contains $P_i$ and $V_i$, The i-th modification changes the $P_i$-th element to $V_i$. indicating that the i-th modification changes the $P_i$-th (indexed from 0) element to $V_i$.</p>\n<h2 id=\"Output\"><a href=\"#Output\" class=\"headerlink\" title=\"Output\"></a>Output</h2><p>For each test case, output one line containing Case #x: y_1 y_2 ... y_Q, where x is the test case number (starting from 1) and y_i is the number of elements in the largest xor-even sub-interval of A after the i-th modification. If there are no xor-even sub-intervals, then output 0.</p>\n<h2 id=\"Sample-Input-and-Output\"><a href=\"#Sample-Input-and-Output\" class=\"headerlink\" title=\"Sample Input and Output\"></a>Sample Input and Output</h2><p>Input<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2</span><br><span class=\"line\">4 3</span><br><span class=\"line\">10 21 3 7</span><br><span class=\"line\">1 13</span><br><span class=\"line\">0 32</span><br><span class=\"line\">2 22</span><br><span class=\"line\">5 1</span><br><span class=\"line\">14 1 15 20 26</span><br><span class=\"line\">4 26</span><br></pre></td></tr></table></figure></p>\n<p>Output<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Case #1: 4 3 4</span><br><span class=\"line\">Case #2: 4</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"Solution\"><a href=\"#Solution\" class=\"headerlink\" title=\"Solution\"></a>Solution</h2><p>This is a problem that we can tear it apart into two sub-problems, how to determine if a number has even or odd 1s in its bits, and how to find the longest subarray. Let&#39;s do it one by one.</p>\n<h3 id=\"How-to-determine-if-a-number-has-even-or-odd-1s-in-its-bits\"><a href=\"#How-to-determine-if-a-number-has-even-or-odd-1s-in-its-bits\" class=\"headerlink\" title=\"How to determine if a number has even or odd 1s in its bits?\"></a>How to determine if a number has even or odd 1s in its bits?</h3><p>This one looks simple, while it can also be pretty tricky. Let&#39;s start from the most naive one.</p>\n<h4 id=\"Naive\"><a href=\"#Naive\" class=\"headerlink\" title=\"Naive\"></a>Naive</h4><p>Naively compare every bits and count them, see if there&#39;s even of them.<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">evenOnes</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (n != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> ((n &amp; <span class=\"number\">1</span>) == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      count++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    n &gt;&gt;= <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (count &amp; <span class=\"number\">1</span>) == <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"A-small-improve\"><a href=\"#A-small-improve\" class=\"headerlink\" title=\"A small improve\"></a>A small improve</h4><p>We have noticed that this require $k$ times of comparisons, while $k$ denotes the number of bits of the integer. In Java 8, $k = 32$.</p>\n<p>Can we improve it a little bit? Here a method that allow us to compare exactly $a$ times, while $a$ denotes the total number of 1 in $n$&#39;s bits presentation. Here&#39;s how we do it:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">evenOnes</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (n!=<span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    n &amp;= n-<span class=\"number\">1</span>;</span><br><span class=\"line\">    count++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (count &amp; <span class=\"number\">1</span>) == <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>How did this work? Take a look at the figure.</p>\n<p><img src=\"/images/kick2019roundD/1.png\" alt=\"Figure 1\"></p>\n<p>Say we split the binary representation of the integer n into two parts, <strong>b</strong> denotes from the first <strong>1</strong> to the lowest bit, and <strong>a</strong> for the rest.</p>\n<p>For $n-1$, we can see that <strong>a</strong> part stayed the same and every bits get flipped in <strong>b</strong> part, thus the &amp; operation between will keep everything in <strong>a</strong> the same, and turn every bits in <strong>b</strong> into <strong>0</strong>. As a result, we erased the first <strong>1</strong> in $n$, from the lowest bit to highest. The loop terminates until $n = 0$, which indicates that all <strong>1</strong> have been erased from $n$. Counting the time of the loop, would be the number of <strong>1</strong>s in n.</p>\n<h4 id=\"Can-we-do-even-better\"><a href=\"#Can-we-do-even-better\" class=\"headerlink\" title=\"Can we do even better?\"></a>Can we do even better?</h4><p>Yes we can, but to be strictly correct, we cannot actually call this better under all circumstance (Imagine if the n is 0, can we actually do it any better?). The fact is we can do this by do five comparison under all circumstance, thus for any $n$ that has more than five <strong>1</strong>s, it&#39;s better, other than that, it&#39;s actually worse.</p>\n<p>But we&#39;re presenting the method anyway, because, firstly, the method is tricky and interesting, and secondly, in practice, this method is stable, especially for input that has a lot of <strong>1</strong>, it&#39;s much faster.</p>\n<p>Here&#39;s the code, and it&#39;s pretty simple.</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">evenOnes</span><span class=\"params\">(<span class=\"keyword\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  x ^= x &gt;&gt; <span class=\"number\">1</span>;</span><br><span class=\"line\">  x ^= x &gt;&gt; <span class=\"number\">2</span>;</span><br><span class=\"line\">  x ^= x &gt;&gt; <span class=\"number\">4</span>;</span><br><span class=\"line\">  x ^= x &gt;&gt; <span class=\"number\">8</span>;</span><br><span class=\"line\">  x ^= x &gt;&gt; <span class=\"number\">16</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (x&amp;<span class=\"number\">1</span>) == <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Now, here&#39;s the tricky part, let&#39;s start from the first comparison: <code>x ^= x &gt;&gt; 1</code></p>\n<p><img src=\"/images/kick2019roundD/2.png\" alt=\"Figure 2\"></p>\n<p>See from the figure, and concentrate on the i-th bit. Under what circumstance would the i-th bit be <strong>1</strong> ? The answer is there&#39;s only one <strong>1</strong> at the i-th and (i+1)-th bit in x. Which means, if the result bit at the i-th bit is <strong>1</strong>, that indicates there are <strong>odd</strong> number of <strong>1</strong>s between the i-th and the (i+1)-th bits, and vice versa.</p>\n<p>Now let&#39;s take a look at the second comparison: <code>x ^= x &gt;&gt; 2;</code>, which can be indicated by the figure below:</p>\n<p><img src=\"/images/kick2019roundD/3.png\" alt=\"Figure 2\"></p>\n<p>Now remember the <code>x</code> is the <code>x</code> after the first comparison, which means the i-th bit, <strong>a</strong> indicates whether there&#39;re odd number of <strong>1</strong> in the i-th and (i+1)-th bits in the original input, and for <strong>b</strong>, it indicates whether there&#39;re odd number of <strong>1</strong> in the (i+2)-th and (i+3)-th bits.</p>\n<p>Now let&#39;s see what would happen after this comparison. Consider this: What would <strong>a</strong> and <strong>b</strong> like, if we want the i-th bit is <strong>1</strong> after the operation? The only answer is that, only one out of <strong>a</strong> and <strong>b</strong> is <strong>1</strong>. Recall that <strong>a</strong> and <strong>b</strong> indicates the oddness of the original input on there representing range, and only one of them have odd <strong>1</strong>s. So if we merge the two ranges, the new range would have odd <strong>1</strong>s in it. Thus we could say, the bit on i-th position indicates the oddness of <strong>1</strong>s from i-th position to (i+3)-th position in the original input.</p>\n<p>The same things goes all the way to the range is length 32, the number of bits of an integer in Java 8. Then we can say: The bit at the 0-th position indicates the oddness of <strong>1</strong> for the range from 0 to 31, which is the total input.</p>\n<p>Now we have solved our first problem, let&#39;s see the second.</p>\n<h3 id=\"Find-the-Longest-Sub-array-that-Every-Element-Has-Even-1-39-s\"><a href=\"#Find-the-Longest-Sub-array-that-Every-Element-Has-Even-1-39-s\" class=\"headerlink\" title=\"Find the Longest Sub-array that Every Element Has Even 1&#39;s.\"></a>Find the Longest Sub-array that Every Element Has Even 1&#39;s.</h3><blockquote>\n<p>Here, <strong><em>Even</em></strong> means odd-even even, not an &quot;equal&quot; even.</p>\n</blockquote>\n<p>The brute-force way, of course, it after each modification, go through all the sub-arrays and record the longest one. This is a $O(n^2)$ algorithms and too trivial that we don&#39;t actually need to discuss more about it.</p>\n<p>In order to improve it, we have noticed an interesting fact: For any <code>a &amp; b = x</code>, the <code>x</code> would have odd 1&#39;s if and only if one of <code>a</code> and <code>b</code> have odd 1&#39;s. Prove it as an exercise, it&#39;s not hard!</p>\n<p>So here are two conditions: the number of odd-1&#39;s element in the array is even, and the number is odd. Things are pretty easy for the even situation: the longest sub-array is the whole array. For the odd situation, the longest sub-array is one of the following sub-arrays: the subarray right after the first odd-1&#39;s element to the end, and the subarray from the beginning to the element right before the last odd-1&#39;s element.</p>\n<p>To avoid looking for the first and last odd-1&#39;s element after every modifications, we can use a sorted set to record the positions of them, thus we only need to add or remove one element to the set, or do nothing in each modification. The time complexity is $O(log(k))$ for each modification, where $k$ indicates the size of the set.</p>\n<p>Here&#39;s an implementation of it:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> List&lt;Integer&gt; <span class=\"title\">solve</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> q, <span class=\"keyword\">int</span>[] nums, <span class=\"keyword\">int</span>[][] modis)</span> </span>&#123;</span><br><span class=\"line\">  List&lt;Integer&gt; ans = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">  TreeSet&lt;Integer&gt; positions = <span class=\"keyword\">new</span> TreeSet&lt;&gt;();</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>; i&lt;n; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!evenOnes(nums[i])) &#123;</span><br><span class=\"line\">          positions.add(i);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span>[] modi: modis) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">int</span> pos = modi[<span class=\"number\">0</span>];</span><br><span class=\"line\">      <span class=\"keyword\">int</span> val = modi[<span class=\"number\">1</span>];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (evenOnes(val)) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (positions.contains(pos)) &#123;</span><br><span class=\"line\">              positions.remove(pos);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (!positions.contains(pos)) &#123;</span><br><span class=\"line\">              positions.add(pos);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> ((positions.size() &amp; <span class=\"number\">1</span>) == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">          ans.add(n);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          ans.add(Math.max(n - positions.first() - <span class=\"number\">1</span>, positions.last()));</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>In total, the time complexity of the algorithm is $O((k+q)log(k))$, where $k$ denotes the size of the set, and $q$ is the number of queries.</p>\n<p>It&#39;s also mentioned that van Emde Boas trees can solve this problem, but I&#39;ll leave it to another separate article to talk about it, for this one is already long enough.</p>\n"},{"title":"Leetcode753. Cracking the safe","date":"2018-08-30T13:16:49.000Z","_content":"\nThis is a programming problem on leetcode, and the interesting part is, it can be solved with two different points of\nview. We're going to analyze the problem, prove some properties and lemma before we use them, at last write them into code.\nThe problem is as below:\n\n## Leetcode.753. Cracking the Safe\n\nThere is a box protected by a password. The password is **n** digits, where each letter can be one of the first **k** digits **0, 1, ..., k-1**.\n\nYou can keep inputting the password, the password will automatically be matched against the last **n** digits entered.\n\nFor example, assuming the password is **\"345\"**, I can open it when I type **\"012345\"**, but I enter a total of 6 digits.\n\nPlease return any string of minimum length that is guaranteed to open the box after the entire string is inputted.\n\n## Approach \\#1: Graph Theory.\nIt's easy to take this problem as a graph theory, \bLet's take any number with **n-1** digits as a vertex, to form a single and unique trial of the password, we extend a edge from this node, forming a **n** digits number. It also leads to the new node that was indicated by it's [1:n] digits. So this problem is turned in to a graph problem defined as below:\n\n*Given a directed graph with $k^{n-1}$ nodes, each nodes has $k$ edges, pointed to another node. Find a path that visits every edges exactly once.*\n\nSounds familiar, right? This is a very classic question in graph theory, called [Eulerian path](https://en.wikipedia.org/wiki/Eulerian_path). By definition, a Eulerian path is a trail in a finite graph which visits every edges exactly once. Eulerian cycle is an Eulerian path that starts and ends at the same vertex. Eulerian path and Eulerian cycle have following properties:\n- An undirected graph has an Eulerian cycle if and only if every vertex has even degree, and all of its vertices with nonzero degree belong to a single connected component.\n- A directed graph has an Eulerian cycle if and only if every vertex has equal in degree and out degree, and all of its vertices with nonzero degree belong to a single strongly connected component.\n  \nBoth properties are easy to prove: For the first property, for each node, it must have an edge in and an edge out, to form a Eulerian path. For the second property, it's still the same: for each node, one in, one out.\n\nTo solve this problem, we have a theory called *Hierholzer's Algorithm*. The algorithm goes as follows:\n- Starting from a vertex u, we walk through (unvisited) edges until we get stuck. Because the in-degrees and out-degrees of each node are equal, we can only get stuck at u, which forms a cycle.\n- Now, for any node v we had visited that has unvisited edges, we start a new cycle from v with the same procedure as above, and then merge the cycles together to form a new cycle.\n  \nAn figure below may helps you to understand the procedure.\n![](/images/leetcode753_1.png)\n\nNow the problem seems easy to solve. All we need to do is track every edge and mark them as visited. To prevent us from getting stuck (So we don't need extra memory to store unvisited edges), we start from 000...0, and go to the next node from k-1 to 0. The code is as followed:\n\n*java*\n\n```java\nclass Solution {\n    Set<String> seen;\n    StringBuilder ans;\n\n    public String crackSafe(int n, int k) {\n        if (n == 1 && k == 1) return \"0\";\n        seen = new HashSet();\n        ans = new StringBuilder();\n\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i < n-1; ++i)\n            sb.append(\"0\");\n        String start = sb.toString();\n\n        dfs(start, k);\n        ans.append(start);\n        return new String(ans);\n    }\n\n    public void dfs(String node, int k) {\n        for (int x = 0; x < k; ++x) {\n            String nei = node + x;\n            if (!seen.contains(nei)) {\n                seen.add(nei);\n                dfs(nei.substring(1), k);\n                ans.append(x);\n            }\n        }\n    }\n}\n```\n\n## Approach \\#2: Inverse Burrows-Wheeler Transform\b\nIf we are familiar with the theory of combinatorics on words, recall that a Lyndon Word L is a word that is the unique minimum of it's rotations.\n\nOne important mathematical result (due to Fredericksen and Maiorana), is that the concatenation in lexicographic order of Lyndon words with length dividing n, forms a de Bruijin sequence: a sequence where every every word (from the $k^n$​​ available) appears as a substring of length n (where we are allowed to wrap around.)\n\nFor example, when n = 6, k = 2, all the Lyndon words with length dividing n in lexicographic order are (spaces for convenience): 0 000001 000011 000101 000111 001 001011 001101 001111 01 010111 011 011111 1. It turns out this is the smallest de Bruijin sequence.\n\nWe can construct a de Bruijin sequence by Inverse Burrows-Wheeler Transform. Mathematically, an inverse Burrows—Wheeler transform on a word w generates a multi-set of equivalence classes consisting of strings and their rotations. These equivalence classes of strings each contain a Lyndon word as a unique minimum element, so the inverse Burrows—Wheeler transform can be considered to generate a set of Lyndon words. It can be shown that if we perform the inverse Burrows—Wheeler transform on a word w consisting of the size-k alphabet repeated $k^{n-1}$ times (so that it will produce a word the same length as the desired de Bruijn sequence), then the result will be the set of all Lyndon words whose length divides n. It follows that arranging these Lyndon words in lexicographic order will yield a de Bruijn sequence B(k,n), and that this will be the first de Bruijn sequence in lexicographic order. The following method can be used to perform the inverse Burrows—Wheeler transform, using its standard permutation:\n- Sort the characters in the string w, yielding a new string w'\n- Position the string w' above the string w, and map each letter's position in w' to its position in w while preserving order. This process defines the standard permutation.\n- Write this permutation in cycle notation with the smallest position in each cycle first, and the cycles sorted in increasing order.\n- For each cycle, replace each number with the corresponding letter from string w' in that position.\n- Each cycle has now become a Lyndon word, and they are arranged in lexicographic order, so dropping the parentheses yields the first de Bruijn sequence.\n\nFor example, to construct the smallest B(2,4) de Bruijn sequence of length 24 = 16, repeat the alphabet (ab) 8 times yielding w=abababababababab. Sort the characters in w, yielding w'=aaaaaaaabbbbbbbb. Position w' above w as shown, and map each element in w' to the corresponding element in w by drawing a line. Number the columns as shown so we can read the cycles of the permutation:\n![](/images/leetcode753_2.png)\n\nStarting from the left, the cycles are: (1) (2 3 5 9) (4 7 13 10) (6 11) (8 15 14 12) (16).\n\nThen, replacing each number by the corresponding letter in w' from that column yields: (a)(aaab)(aabb)(ab)(abbb)(b).\n\nThese are all of the Lyndon words whose length divides 4, in lexicographic order, so dropping the parentheses gives B(2,4) = aaaabaabbababbbb.\n\nThe code is as followed:\n```java\nclass Solution {\n    public String crackSafe(int n, int k) {\n        int M = (int) Math.pow(k, n-1);\n        int[] P = new int[M * k];\n        for (int i = 0; i < k; ++i)\n            for (int q = 0; q < M; ++q)\n                P[i*M + q] = q*k + i;\n\n        StringBuilder ans = new StringBuilder();\n        for (int i = 0; i < M*k; ++i) {\n            int j = i;\n            while (P[j] >= 0) {\n                ans.append(String.valueOf(j / M));\n                int v = P[j];\n                P[j] = -1;\n                j = v;\n            }\n        }\n\n        for (int i = 0; i < n-1; ++i)\n            ans.append(\"0\");\n        return new String(ans);\n    }\n}\n```\n-------\nThe most attractive part is that, at the first look into this problem, this does not look like a graph problem or a description problem. However, we can use the method from two different aspect to help us understand the problem in different point of view. If we look deeper into it, we can even found that, description, text problems and graph theories are closely related to each other, which showed the beauty of math and computer science.","source":"_posts/leetcode753.md","raw":"---\ntitle: Leetcode753. Cracking the safe\ntags:\n  - Leetcode\n  - Algorithm\n  - Graph Theory\n  - Sequence Algorithm\ncategories:\n  - Leetcode\ndate: 2018-08-30 22:16:49\n---\n\nThis is a programming problem on leetcode, and the interesting part is, it can be solved with two different points of\nview. We're going to analyze the problem, prove some properties and lemma before we use them, at last write them into code.\nThe problem is as below:\n\n## Leetcode.753. Cracking the Safe\n\nThere is a box protected by a password. The password is **n** digits, where each letter can be one of the first **k** digits **0, 1, ..., k-1**.\n\nYou can keep inputting the password, the password will automatically be matched against the last **n** digits entered.\n\nFor example, assuming the password is **\"345\"**, I can open it when I type **\"012345\"**, but I enter a total of 6 digits.\n\nPlease return any string of minimum length that is guaranteed to open the box after the entire string is inputted.\n\n## Approach \\#1: Graph Theory.\nIt's easy to take this problem as a graph theory, \bLet's take any number with **n-1** digits as a vertex, to form a single and unique trial of the password, we extend a edge from this node, forming a **n** digits number. It also leads to the new node that was indicated by it's [1:n] digits. So this problem is turned in to a graph problem defined as below:\n\n*Given a directed graph with $k^{n-1}$ nodes, each nodes has $k$ edges, pointed to another node. Find a path that visits every edges exactly once.*\n\nSounds familiar, right? This is a very classic question in graph theory, called [Eulerian path](https://en.wikipedia.org/wiki/Eulerian_path). By definition, a Eulerian path is a trail in a finite graph which visits every edges exactly once. Eulerian cycle is an Eulerian path that starts and ends at the same vertex. Eulerian path and Eulerian cycle have following properties:\n- An undirected graph has an Eulerian cycle if and only if every vertex has even degree, and all of its vertices with nonzero degree belong to a single connected component.\n- A directed graph has an Eulerian cycle if and only if every vertex has equal in degree and out degree, and all of its vertices with nonzero degree belong to a single strongly connected component.\n  \nBoth properties are easy to prove: For the first property, for each node, it must have an edge in and an edge out, to form a Eulerian path. For the second property, it's still the same: for each node, one in, one out.\n\nTo solve this problem, we have a theory called *Hierholzer's Algorithm*. The algorithm goes as follows:\n- Starting from a vertex u, we walk through (unvisited) edges until we get stuck. Because the in-degrees and out-degrees of each node are equal, we can only get stuck at u, which forms a cycle.\n- Now, for any node v we had visited that has unvisited edges, we start a new cycle from v with the same procedure as above, and then merge the cycles together to form a new cycle.\n  \nAn figure below may helps you to understand the procedure.\n![](/images/leetcode753_1.png)\n\nNow the problem seems easy to solve. All we need to do is track every edge and mark them as visited. To prevent us from getting stuck (So we don't need extra memory to store unvisited edges), we start from 000...0, and go to the next node from k-1 to 0. The code is as followed:\n\n*java*\n\n```java\nclass Solution {\n    Set<String> seen;\n    StringBuilder ans;\n\n    public String crackSafe(int n, int k) {\n        if (n == 1 && k == 1) return \"0\";\n        seen = new HashSet();\n        ans = new StringBuilder();\n\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i < n-1; ++i)\n            sb.append(\"0\");\n        String start = sb.toString();\n\n        dfs(start, k);\n        ans.append(start);\n        return new String(ans);\n    }\n\n    public void dfs(String node, int k) {\n        for (int x = 0; x < k; ++x) {\n            String nei = node + x;\n            if (!seen.contains(nei)) {\n                seen.add(nei);\n                dfs(nei.substring(1), k);\n                ans.append(x);\n            }\n        }\n    }\n}\n```\n\n## Approach \\#2: Inverse Burrows-Wheeler Transform\b\nIf we are familiar with the theory of combinatorics on words, recall that a Lyndon Word L is a word that is the unique minimum of it's rotations.\n\nOne important mathematical result (due to Fredericksen and Maiorana), is that the concatenation in lexicographic order of Lyndon words with length dividing n, forms a de Bruijin sequence: a sequence where every every word (from the $k^n$​​ available) appears as a substring of length n (where we are allowed to wrap around.)\n\nFor example, when n = 6, k = 2, all the Lyndon words with length dividing n in lexicographic order are (spaces for convenience): 0 000001 000011 000101 000111 001 001011 001101 001111 01 010111 011 011111 1. It turns out this is the smallest de Bruijin sequence.\n\nWe can construct a de Bruijin sequence by Inverse Burrows-Wheeler Transform. Mathematically, an inverse Burrows—Wheeler transform on a word w generates a multi-set of equivalence classes consisting of strings and their rotations. These equivalence classes of strings each contain a Lyndon word as a unique minimum element, so the inverse Burrows—Wheeler transform can be considered to generate a set of Lyndon words. It can be shown that if we perform the inverse Burrows—Wheeler transform on a word w consisting of the size-k alphabet repeated $k^{n-1}$ times (so that it will produce a word the same length as the desired de Bruijn sequence), then the result will be the set of all Lyndon words whose length divides n. It follows that arranging these Lyndon words in lexicographic order will yield a de Bruijn sequence B(k,n), and that this will be the first de Bruijn sequence in lexicographic order. The following method can be used to perform the inverse Burrows—Wheeler transform, using its standard permutation:\n- Sort the characters in the string w, yielding a new string w'\n- Position the string w' above the string w, and map each letter's position in w' to its position in w while preserving order. This process defines the standard permutation.\n- Write this permutation in cycle notation with the smallest position in each cycle first, and the cycles sorted in increasing order.\n- For each cycle, replace each number with the corresponding letter from string w' in that position.\n- Each cycle has now become a Lyndon word, and they are arranged in lexicographic order, so dropping the parentheses yields the first de Bruijn sequence.\n\nFor example, to construct the smallest B(2,4) de Bruijn sequence of length 24 = 16, repeat the alphabet (ab) 8 times yielding w=abababababababab. Sort the characters in w, yielding w'=aaaaaaaabbbbbbbb. Position w' above w as shown, and map each element in w' to the corresponding element in w by drawing a line. Number the columns as shown so we can read the cycles of the permutation:\n![](/images/leetcode753_2.png)\n\nStarting from the left, the cycles are: (1) (2 3 5 9) (4 7 13 10) (6 11) (8 15 14 12) (16).\n\nThen, replacing each number by the corresponding letter in w' from that column yields: (a)(aaab)(aabb)(ab)(abbb)(b).\n\nThese are all of the Lyndon words whose length divides 4, in lexicographic order, so dropping the parentheses gives B(2,4) = aaaabaabbababbbb.\n\nThe code is as followed:\n```java\nclass Solution {\n    public String crackSafe(int n, int k) {\n        int M = (int) Math.pow(k, n-1);\n        int[] P = new int[M * k];\n        for (int i = 0; i < k; ++i)\n            for (int q = 0; q < M; ++q)\n                P[i*M + q] = q*k + i;\n\n        StringBuilder ans = new StringBuilder();\n        for (int i = 0; i < M*k; ++i) {\n            int j = i;\n            while (P[j] >= 0) {\n                ans.append(String.valueOf(j / M));\n                int v = P[j];\n                P[j] = -1;\n                j = v;\n            }\n        }\n\n        for (int i = 0; i < n-1; ++i)\n            ans.append(\"0\");\n        return new String(ans);\n    }\n}\n```\n-------\nThe most attractive part is that, at the first look into this problem, this does not look like a graph problem or a description problem. However, we can use the method from two different aspect to help us understand the problem in different point of view. If we look deeper into it, we can even found that, description, text problems and graph theories are closely related to each other, which showed the beauty of math and computer science.","slug":"leetcode753","published":1,"updated":"2018-08-30T13:20:18.084Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxqt0028ia11z348ig1s","content":"<p>This is a programming problem on leetcode, and the interesting part is, it can be solved with two different points of<br>view. We&#39;re going to analyze the problem, prove some properties and lemma before we use them, at last write them into code.<br>The problem is as below:</p>\n<h2 id=\"leetcode753-cracking-the-safe\"><a href=\"#Leetcode-753-Cracking-the-Safe\" class=\"headerlink\" title=\"Leetcode.753. Cracking the Safe\"></a>Leetcode.753. Cracking the Safe</h2><p>There is a box protected by a password. The password is <strong>n</strong> digits, where each letter can be one of the first <strong>k</strong> digits <strong>0, 1, ..., k-1</strong>.</p>\n<p>You can keep inputting the password, the password will automatically be matched against the last <strong>n</strong> digits entered.</p>\n<p>For example, assuming the password is <strong>&quot;345&quot;</strong>, I can open it when I type <strong>&quot;012345&quot;</strong>, but I enter a total of 6 digits.</p>\n<p>Please return any string of minimum length that is guaranteed to open the box after the entire string is inputted.</p>\n<h2 id=\"approach-1-graph-theory\"><a href=\"#Approach-1-Graph-Theory\" class=\"headerlink\" title=\"Approach #1: Graph Theory.\"></a>Approach #1: Graph Theory.</h2><p>It&#39;s easy to take this problem as a graph theory, \bLet&#39;s take any number with <strong>n-1</strong> digits as a vertex, to form a single and unique trial of the password, we extend a edge from this node, forming a <strong>n</strong> digits number. It also leads to the new node that was indicated by it&#39;s [1:n] digits. So this problem is turned in to a graph problem defined as below:</p>\n<p><em>Given a directed graph with $k^{n-1}$ nodes, each nodes has $k$ edges, pointed to another node. Find a path that visits every edges exactly once.</em></p>\n<p>Sounds familiar, right? This is a very classic question in graph theory, called <a href=\"https://en.wikipedia.org/wiki/Eulerian_path\" target=\"_blank\" rel=\"noopener\">Eulerian path</a>. By definition, a Eulerian path is a trail in a finite graph which visits every edges exactly once. Eulerian cycle is an Eulerian path that starts and ends at the same vertex. Eulerian path and Eulerian cycle have following properties:</p>\n<ul>\n<li>An undirected graph has an Eulerian cycle if and only if every vertex has even degree, and all of its vertices with nonzero degree belong to a single connected component.</li>\n<li>A directed graph has an Eulerian cycle if and only if every vertex has equal in degree and out degree, and all of its vertices with nonzero degree belong to a single strongly connected component.</li>\n</ul>\n<p>Both properties are easy to prove: For the first property, for each node, it must have an edge in and an edge out, to form a Eulerian path. For the second property, it&#39;s still the same: for each node, one in, one out.</p>\n<p>To solve this problem, we have a theory called <em>Hierholzer&#39;s Algorithm</em>. The algorithm goes as follows:</p>\n<ul>\n<li>Starting from a vertex u, we walk through (unvisited) edges until we get stuck. Because the in-degrees and out-degrees of each node are equal, we can only get stuck at u, which forms a cycle.</li>\n<li>Now, for any node v we had visited that has unvisited edges, we start a new cycle from v with the same procedure as above, and then merge the cycles together to form a new cycle.</li>\n</ul>\n<p>An figure below may helps you to understand the procedure.<br><img src=\"/images/leetcode753_1.png\" alt=\"\"></p>\n<p>Now the problem seems easy to solve. All we need to do is track every edge and mark them as visited. To prevent us from getting stuck (So we don&#39;t need extra memory to store unvisited edges), we start from 000...0, and go to the next node from k-1 to 0. The code is as followed:</p>\n<p><em>java</em></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    Set&lt;String&gt; seen;</span><br><span class=\"line\">    StringBuilder ans;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">crackSafe</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (n == <span class=\"number\">1</span> &amp;&amp; k == <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"string\">\"0\"</span>;</span><br><span class=\"line\">        seen = <span class=\"keyword\">new</span> HashSet();</span><br><span class=\"line\">        ans = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\"></span><br><span class=\"line\">        StringBuilder sb = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; n-<span class=\"number\">1</span>; ++i)</span><br><span class=\"line\">            sb.append(<span class=\"string\">\"0\"</span>);</span><br><span class=\"line\">        String start = sb.toString();</span><br><span class=\"line\"></span><br><span class=\"line\">        dfs(start, k);</span><br><span class=\"line\">        ans.append(start);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> String(ans);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">dfs</span><span class=\"params\">(String node, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> x = <span class=\"number\">0</span>; x &lt; k; ++x) &#123;</span><br><span class=\"line\">            String nei = node + x;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!seen.contains(nei)) &#123;</span><br><span class=\"line\">                seen.add(nei);</span><br><span class=\"line\">                dfs(nei.substring(<span class=\"number\">1</span>), k);</span><br><span class=\"line\">                ans.append(x);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"approach-2-inverse-burrows-wheeler-transform\"><a href=\"#Approach-2-Inverse-Burrows-Wheeler-Transform\" class=\"headerlink\" title=\"Approach #2: Inverse Burrows-Wheeler Transform\b\"></a>Approach #2: Inverse Burrows-Wheeler Transform\b</h2><p>If we are familiar with the theory of combinatorics on words, recall that a Lyndon Word L is a word that is the unique minimum of it&#39;s rotations.</p>\n<p>One important mathematical result (due to Fredericksen and Maiorana), is that the concatenation in lexicographic order of Lyndon words with length dividing n, forms a de Bruijin sequence: a sequence where every every word (from the $k^n$​​ available) appears as a substring of length n (where we are allowed to wrap around.)</p>\n<p>For example, when n = 6, k = 2, all the Lyndon words with length dividing n in lexicographic order are (spaces for convenience): 0 000001 000011 000101 000111 001 001011 001101 001111 01 010111 011 011111 1. It turns out this is the smallest de Bruijin sequence.</p>\n<p>We can construct a de Bruijin sequence by Inverse Burrows-Wheeler Transform. Mathematically, an inverse Burrows—Wheeler transform on a word w generates a multi-set of equivalence classes consisting of strings and their rotations. These equivalence classes of strings each contain a Lyndon word as a unique minimum element, so the inverse Burrows—Wheeler transform can be considered to generate a set of Lyndon words. It can be shown that if we perform the inverse Burrows—Wheeler transform on a word w consisting of the size-k alphabet repeated $k^{n-1}$ times (so that it will produce a word the same length as the desired de Bruijn sequence), then the result will be the set of all Lyndon words whose length divides n. It follows that arranging these Lyndon words in lexicographic order will yield a de Bruijn sequence B(k,n), and that this will be the first de Bruijn sequence in lexicographic order. The following method can be used to perform the inverse Burrows—Wheeler transform, using its standard permutation:</p>\n<ul>\n<li>Sort the characters in the string w, yielding a new string w&#39;</li>\n<li>Position the string w&#39; above the string w, and map each letter&#39;s position in w&#39; to its position in w while preserving order. This process defines the standard permutation.</li>\n<li>Write this permutation in cycle notation with the smallest position in each cycle first, and the cycles sorted in increasing order.</li>\n<li>For each cycle, replace each number with the corresponding letter from string w&#39; in that position.</li>\n<li>Each cycle has now become a Lyndon word, and they are arranged in lexicographic order, so dropping the parentheses yields the first de Bruijn sequence.</li>\n</ul>\n<p>For example, to construct the smallest B(2,4) de Bruijn sequence of length 24 = 16, repeat the alphabet (ab) 8 times yielding w=abababababababab. Sort the characters in w, yielding w&#39;=aaaaaaaabbbbbbbb. Position w&#39; above w as shown, and map each element in w&#39; to the corresponding element in w by drawing a line. Number the columns as shown so we can read the cycles of the permutation:<br><img src=\"/images/leetcode753_2.png\" alt=\"\"></p>\n<p>Starting from the left, the cycles are: (1) (2 3 5 9) (4 7 13 10) (6 11) (8 15 14 12) (16).</p>\n<p>Then, replacing each number by the corresponding letter in w&#39; from that column yields: (a)(aaab)(aabb)(ab)(abbb)(b).</p>\n<p>These are all of the Lyndon words whose length divides 4, in lexicographic order, so dropping the parentheses gives B(2,4) = aaaabaabbababbbb.</p>\n<p>The code is as followed:<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">crackSafe</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> M = (<span class=\"keyword\">int</span>) Math.pow(k, n-<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] P = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[M * k];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; k; ++i)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> q = <span class=\"number\">0</span>; q &lt; M; ++q)</span><br><span class=\"line\">                P[i*M + q] = q*k + i;</span><br><span class=\"line\"></span><br><span class=\"line\">        StringBuilder ans = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; M*k; ++i) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> j = i;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (P[j] &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                ans.append(String.valueOf(j / M));</span><br><span class=\"line\">                <span class=\"keyword\">int</span> v = P[j];</span><br><span class=\"line\">                P[j] = -<span class=\"number\">1</span>;</span><br><span class=\"line\">                j = v;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; n-<span class=\"number\">1</span>; ++i)</span><br><span class=\"line\">            ans.append(<span class=\"string\">\"0\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> String(ans);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<hr>\n<p>The most attractive part is that, at the first look into this problem, this does not look like a graph problem or a description problem. However, we can use the method from two different aspect to help us understand the problem in different point of view. If we look deeper into it, we can even found that, description, text problems and graph theories are closely related to each other, which showed the beauty of math and computer science.</p>\n","site":{"data":{}},"excerpt":"","more":"<p>This is a programming problem on leetcode, and the interesting part is, it can be solved with two different points of<br>view. We&#39;re going to analyze the problem, prove some properties and lemma before we use them, at last write them into code.<br>The problem is as below:</p>\n<h2 id=\"Leetcode-753-Cracking-the-Safe\"><a href=\"#Leetcode-753-Cracking-the-Safe\" class=\"headerlink\" title=\"Leetcode.753. Cracking the Safe\"></a>Leetcode.753. Cracking the Safe</h2><p>There is a box protected by a password. The password is <strong>n</strong> digits, where each letter can be one of the first <strong>k</strong> digits <strong>0, 1, ..., k-1</strong>.</p>\n<p>You can keep inputting the password, the password will automatically be matched against the last <strong>n</strong> digits entered.</p>\n<p>For example, assuming the password is <strong>&quot;345&quot;</strong>, I can open it when I type <strong>&quot;012345&quot;</strong>, but I enter a total of 6 digits.</p>\n<p>Please return any string of minimum length that is guaranteed to open the box after the entire string is inputted.</p>\n<h2 id=\"Approach-1-Graph-Theory\"><a href=\"#Approach-1-Graph-Theory\" class=\"headerlink\" title=\"Approach #1: Graph Theory.\"></a>Approach #1: Graph Theory.</h2><p>It&#39;s easy to take this problem as a graph theory, \bLet&#39;s take any number with <strong>n-1</strong> digits as a vertex, to form a single and unique trial of the password, we extend a edge from this node, forming a <strong>n</strong> digits number. It also leads to the new node that was indicated by it&#39;s [1:n] digits. So this problem is turned in to a graph problem defined as below:</p>\n<p><em>Given a directed graph with $k^{n-1}$ nodes, each nodes has $k$ edges, pointed to another node. Find a path that visits every edges exactly once.</em></p>\n<p>Sounds familiar, right? This is a very classic question in graph theory, called <a href=\"https://en.wikipedia.org/wiki/Eulerian_path\" target=\"_blank\" rel=\"noopener\">Eulerian path</a>. By definition, a Eulerian path is a trail in a finite graph which visits every edges exactly once. Eulerian cycle is an Eulerian path that starts and ends at the same vertex. Eulerian path and Eulerian cycle have following properties:</p>\n<ul>\n<li>An undirected graph has an Eulerian cycle if and only if every vertex has even degree, and all of its vertices with nonzero degree belong to a single connected component.</li>\n<li>A directed graph has an Eulerian cycle if and only if every vertex has equal in degree and out degree, and all of its vertices with nonzero degree belong to a single strongly connected component.</li>\n</ul>\n<p>Both properties are easy to prove: For the first property, for each node, it must have an edge in and an edge out, to form a Eulerian path. For the second property, it&#39;s still the same: for each node, one in, one out.</p>\n<p>To solve this problem, we have a theory called <em>Hierholzer&#39;s Algorithm</em>. The algorithm goes as follows:</p>\n<ul>\n<li>Starting from a vertex u, we walk through (unvisited) edges until we get stuck. Because the in-degrees and out-degrees of each node are equal, we can only get stuck at u, which forms a cycle.</li>\n<li>Now, for any node v we had visited that has unvisited edges, we start a new cycle from v with the same procedure as above, and then merge the cycles together to form a new cycle.</li>\n</ul>\n<p>An figure below may helps you to understand the procedure.<br><img src=\"/images/leetcode753_1.png\" alt=\"\"></p>\n<p>Now the problem seems easy to solve. All we need to do is track every edge and mark them as visited. To prevent us from getting stuck (So we don&#39;t need extra memory to store unvisited edges), we start from 000...0, and go to the next node from k-1 to 0. The code is as followed:</p>\n<p><em>java</em></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    Set&lt;String&gt; seen;</span><br><span class=\"line\">    StringBuilder ans;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">crackSafe</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (n == <span class=\"number\">1</span> &amp;&amp; k == <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"string\">\"0\"</span>;</span><br><span class=\"line\">        seen = <span class=\"keyword\">new</span> HashSet();</span><br><span class=\"line\">        ans = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\"></span><br><span class=\"line\">        StringBuilder sb = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; n-<span class=\"number\">1</span>; ++i)</span><br><span class=\"line\">            sb.append(<span class=\"string\">\"0\"</span>);</span><br><span class=\"line\">        String start = sb.toString();</span><br><span class=\"line\"></span><br><span class=\"line\">        dfs(start, k);</span><br><span class=\"line\">        ans.append(start);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> String(ans);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">dfs</span><span class=\"params\">(String node, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> x = <span class=\"number\">0</span>; x &lt; k; ++x) &#123;</span><br><span class=\"line\">            String nei = node + x;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!seen.contains(nei)) &#123;</span><br><span class=\"line\">                seen.add(nei);</span><br><span class=\"line\">                dfs(nei.substring(<span class=\"number\">1</span>), k);</span><br><span class=\"line\">                ans.append(x);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Approach-2-Inverse-Burrows-Wheeler-Transform\"><a href=\"#Approach-2-Inverse-Burrows-Wheeler-Transform\" class=\"headerlink\" title=\"Approach #2: Inverse Burrows-Wheeler Transform\b\"></a>Approach #2: Inverse Burrows-Wheeler Transform\b</h2><p>If we are familiar with the theory of combinatorics on words, recall that a Lyndon Word L is a word that is the unique minimum of it&#39;s rotations.</p>\n<p>One important mathematical result (due to Fredericksen and Maiorana), is that the concatenation in lexicographic order of Lyndon words with length dividing n, forms a de Bruijin sequence: a sequence where every every word (from the $k^n$​​ available) appears as a substring of length n (where we are allowed to wrap around.)</p>\n<p>For example, when n = 6, k = 2, all the Lyndon words with length dividing n in lexicographic order are (spaces for convenience): 0 000001 000011 000101 000111 001 001011 001101 001111 01 010111 011 011111 1. It turns out this is the smallest de Bruijin sequence.</p>\n<p>We can construct a de Bruijin sequence by Inverse Burrows-Wheeler Transform. Mathematically, an inverse Burrows—Wheeler transform on a word w generates a multi-set of equivalence classes consisting of strings and their rotations. These equivalence classes of strings each contain a Lyndon word as a unique minimum element, so the inverse Burrows—Wheeler transform can be considered to generate a set of Lyndon words. It can be shown that if we perform the inverse Burrows—Wheeler transform on a word w consisting of the size-k alphabet repeated $k^{n-1}$ times (so that it will produce a word the same length as the desired de Bruijn sequence), then the result will be the set of all Lyndon words whose length divides n. It follows that arranging these Lyndon words in lexicographic order will yield a de Bruijn sequence B(k,n), and that this will be the first de Bruijn sequence in lexicographic order. The following method can be used to perform the inverse Burrows—Wheeler transform, using its standard permutation:</p>\n<ul>\n<li>Sort the characters in the string w, yielding a new string w&#39;</li>\n<li>Position the string w&#39; above the string w, and map each letter&#39;s position in w&#39; to its position in w while preserving order. This process defines the standard permutation.</li>\n<li>Write this permutation in cycle notation with the smallest position in each cycle first, and the cycles sorted in increasing order.</li>\n<li>For each cycle, replace each number with the corresponding letter from string w&#39; in that position.</li>\n<li>Each cycle has now become a Lyndon word, and they are arranged in lexicographic order, so dropping the parentheses yields the first de Bruijn sequence.</li>\n</ul>\n<p>For example, to construct the smallest B(2,4) de Bruijn sequence of length 24 = 16, repeat the alphabet (ab) 8 times yielding w=abababababababab. Sort the characters in w, yielding w&#39;=aaaaaaaabbbbbbbb. Position w&#39; above w as shown, and map each element in w&#39; to the corresponding element in w by drawing a line. Number the columns as shown so we can read the cycles of the permutation:<br><img src=\"/images/leetcode753_2.png\" alt=\"\"></p>\n<p>Starting from the left, the cycles are: (1) (2 3 5 9) (4 7 13 10) (6 11) (8 15 14 12) (16).</p>\n<p>Then, replacing each number by the corresponding letter in w&#39; from that column yields: (a)(aaab)(aabb)(ab)(abbb)(b).</p>\n<p>These are all of the Lyndon words whose length divides 4, in lexicographic order, so dropping the parentheses gives B(2,4) = aaaabaabbababbbb.</p>\n<p>The code is as followed:<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">crackSafe</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> M = (<span class=\"keyword\">int</span>) Math.pow(k, n-<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">int</span>[] P = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[M * k];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; k; ++i)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> q = <span class=\"number\">0</span>; q &lt; M; ++q)</span><br><span class=\"line\">                P[i*M + q] = q*k + i;</span><br><span class=\"line\"></span><br><span class=\"line\">        StringBuilder ans = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; M*k; ++i) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> j = i;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (P[j] &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                ans.append(String.valueOf(j / M));</span><br><span class=\"line\">                <span class=\"keyword\">int</span> v = P[j];</span><br><span class=\"line\">                P[j] = -<span class=\"number\">1</span>;</span><br><span class=\"line\">                j = v;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; n-<span class=\"number\">1</span>; ++i)</span><br><span class=\"line\">            ans.append(<span class=\"string\">\"0\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> String(ans);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<hr>\n<p>The most attractive part is that, at the first look into this problem, this does not look like a graph problem or a description problem. However, we can use the method from two different aspect to help us understand the problem in different point of view. If we look deeper into it, we can even found that, description, text problems and graph theories are closely related to each other, which showed the beauty of math and computer science.</p>\n"},{"title":"东京码农求职记(准备与面试)","date":"2019-05-10T15:39:45.000Z","_content":"\n## Before Reading\n这篇文章紧跟上一篇文章，主要通过作者自身经历和理解，论述如何进行求职的前期准备和实战。同样，此文将包含极强的采样误差和主观感情色彩，希望读者理解。\n\n## Hard Skill, Soft Skill\n此文的每一章节都将分为两个部分叙述，分别是Hard Skill（可以量化的部分）和Soft Skill(无法量化或很难量化的部分)。\n\n虽然因为大多数公司都把公司文化拔高到了一个不应该的高度，甚至有把公司文化道德化的倾向，导致我非常反感宣传公司文化的行为。但是我也不得不承认，有的公司文化，如果你抛却它忽悠员工的部分，它可以是非常有用的尺子，用来指导你和他人的工作。这里我推荐Amazon的[Leadership Principles](https://www.amazon.jobs/en/principles)。这里面有一些莫名其妙的自大狂玩意儿（比如Are Right, A Lot)，但是其他可以主观实施和控制的部分，是许多顶级公司对员工共同的要求，可以用来指导自己准备求职过程的方方面面。\n\n举个小例子，许多人提到了日本总体环境佛系，想准备什么东西都没有人做。其他人都不做，你觉得这是对的，你去做了，这就是\"Have backbones\"，\"Bias for Action\"和\"Think Big\"。如果你能够影响、组织起其他人跟你一起做，这就是\"Earn Trust\", \"Ownership\"和\"Hire and Develop the Best\"。听起来很傻，但是这是一个优秀的码农应有的素质，也是你在简历中可以，甚至说是应该体现的素质，在面试的时候，这也是非常好的话题。\n\n## Information Hunter\n> Drowning in information, starving for knowledge.\n\n就职的第一步，是获得信息，包括招聘信息，宣讲会，招聘时间表，过去问，具体公司的招聘流程，招聘时间线，招聘流程。虽然大多数日企都服从经团联的安排，一般从毕业前一年的3月开始招聘，但是码农的Dream Company普遍是不管的。这也导致码农就活的战线会拉的非常的长，以我个人的经验而言，我从投出第一份简历到拿到目前最好的offer (Amazon SDE)，中间间隔了8个月，而Indeed 和Google都还在流程中。在如此长期的战线中，如何尽可能及时准确地获得信息就成了一大难题。\n\n### Hard\n招聘信息最直接、及时、准确的来源肯定是各大公司官网。提前锁定自己心仪公司的网站，设置Job Alert，并且定期查看是最万无一失的方法（点名批评Microsoft, college 招聘页面曾经完全down掉了两个月之久）。\n\n除了各大公司的招聘官网，一下这些网站都有能够较为即使准确地获得招聘信息(包括招聘会和招聘投递信息)：\n[アカリク](https://acaric.jp/);\n[リクナビ](https://job.rikunabi.com/2020/)(注意这个网站是分年度的，要选择自己对应的毕业年度);\n[外資就活](https://gaishishukatsu.com/);\n[CareerCross](https://www.careercross.com/en);\n[LinkedIn](https://www.linkedin.com/)\n\n### Soft\n建立你的信息网络。找到那些和你想法类似的人，主动和他们建立联系和共享信息。(Tip:收获信息的最好方式是主动提供信息)\n\n如何找到这些人？上同一门课认识的人，留学生群，参加招聘会结识的人。只要你主动地说Hi,主动地分享你有的信息，那么信息网络的建成只不过是水到渠成了。\n\n## Resumes\n了解到了招聘岗位之后，我们就要开始投递了。投递的第一步就是准备自己的简历。不要等到临投前一天才开始写简历，今天就开始写。写简历是一个不停地改进的过程，也是审视自己的不足的过程。日本留学一个不太好的部分就是，因为实习机会太少，而周围很多人都是每天吃喝玩乐，很多学生凑不出一整页的简历。如果你也是其中一员，那么抓紧时间，多做一些项目，做一些实习，打一些比赛，发一些论文，无论如何也要凑出一整页简历来。\n\n虽然许多日企是给一个entry sheet让你填，但是填的内容和你的简历内容大同小异。而且top tier 的公司基本都是要直接收CV。\n\n建议去[一亩三分地](https://www.1point3acres.com/bbs/)看看如何准备和写简历。\n\n### Hard\n哪些东西可以写进简历：教育经历，实习项目，开源项目，自己的side project，比赛项目，等等。\n\n简历最好用中英日文各写一份，这样在复制粘贴到entry sheet的时候不用重复写（很多公司的ES在提交之后就不能看到了，我一开始不知道，至少写了3遍实习项目的日文版）。\n\n虽说每份简历在投递前最好是有针对性的修改，但是对于大部分根本写不满一页的学生来说，有时间想简历怎么编，不如赶紧再去做个项目。对于能够写出一页半简历的同学来说，可以在每次投递前针对自己投递的岗位删掉一些不太契合这一岗位的项目的细节，始终保持简历上有所有的项目，重点项目重点说，而且简历长度刚好一页。\n\n推荐通过[LinkedIn](https://www.linkedin.com/)初步编写自己的简历，还可以在LinkedIn上查看、学习其他人是如何编写自己的项目经历的。在出最终简历的时候，推荐使用[超级简历](https://www.wondercv.com/?locale=zh-CN)，跟着它的引导调整自己简历的内容和排版。\n### Soft\n同一个项目用不同的说法写出来，效果是完全不一样的。要针对性的表达你在项目中的作用。同时，为了能够在项目中有东西可说，应当在做项目之前和做项目中就想好它会在我的简历中怎样展现出来，一边意识到简历一边推进项目有奇效。\n\n同时我发现有的转行的同学，误认为项目就是在GitHub 上找个开源项目实现一下，或者就是上了某个网课，做了课设作业。不是说这些就不行，而是这些项目缺乏区分度，不能体现你作为candidate拥有的竞争力。\n\n相对于课设，实习经历，比赛经历和对开源社区的贡献就明显有更强的竞争力，这些经历可以说是实际工作的预演，是采用了某种技术解决了某个实际问题的过程。好消息是日本有这些经历的人真的不多，坏消息是还是比好的岗位数量多得多的。\n\n\n## Online Assessment\n### Hard\n普遍是编码测试，建议在C++, Java和 Python中至少弄懂一门语言。如果你只会Python，那建议还是要学一学C++或者Java，因为Amazon东京 OA 只许用C++或者Java。\n\n### Soft\n没有，即使有，也很弱智。我还没见过招码农还要求做SPI的公司。\n\n## Interviews\n面试是整个招聘流程中最大的大头，而且top tier的面试强度是非常高的，Amazon一上午面4轮，Google听说也是一天面4轮。虽然一般认为面试并不能在如此短的时间里体现一个人的水平和性格，但是面试总归是比简历靠谱的。准备美资互联网公司的方法也十分简单和直接，相当多早就有志于此的朋友可能对于他们考察方法早已烂熟于胸，但是也要考虑到很多日本的留学生根本没有关注过这方面的情况，我还是决定写一写具体的面试内容和准备方法。\n\n推荐参考书目：《剑指offer》和《Cracking the Coding Interview》。前者是中文编写，篇幅更短小，适合完全没有外企面试经验的同学熟悉面试流程和面试重点。后者是英文编写，更详细，篇幅更长，适合有一定准备的同学阅读，熟悉一些术语的英语说法和更多面试中的细节。\n\n推荐论坛：[一亩三分地](https://www.1point3acres.com/bbs/)。不仅有最新最全面经，还有装逼，打脸，互怼，感情生活，北美猥琐男等愉悦身心的顶级资讯，实乃居家旅行，刷题拿offer必备网站。\n\n建议找一两个朋友定期互相做mock interview,可以习惯一边说话一边写代码，同时习惯在白板上写代码，还可以互相给feedback来提升面试过程的表现。\n### Hard Skill\nTop tier公司都是要白板编程的，有的公司除了白板编程之外还有一些Behavior Question(BQ).白板编程主要考察算法和数据结构，new grad偶尔会问一些简单的 OOD(Object Oriented Design)问题。\n#### 算法和数据结构\n> 究竟是我刷了题，还是题刷了我？\n\n刷题进公司一直是一个充满争议的话题，但是不得不承认，想要进top tier公司，对于大部分人来说，刷题是最有效的途径。这里给出我的刷题记录以供参考（我本人没有任何算法竞赛的经验）。\n\n![刷题提交记录](/images/jobhunt/leetcode0.png)\n<center>刷题提交记录</center>\n\n![总题数](/images/jobhunt/leetcode3.png)\n<center>总题数</center>\n\n![周赛全球排名](/images/jobhunt/leetcode1.png)\n<center>周赛全球排名</center>\n\n![Amazon面试前一周的周赛排名](/images/jobhunt/leetcode2.png)\n<center>Amazon面试前一周的周赛排名</center>\n\n对于没有竞赛基础的同学来说，在刚开始刷题的时候会感受到痛苦，这是十分正常的，事实上，大部分人在做到150题左右，就会开始量变到质变。\n\n在刷了一定数量的题之后，如果想要知道自己大概是个什么水平，可以参加 Leetcode 每周的周赛，日本时间周日早上11：30至13：00。周赛是个很好的检验自己水平的地方，同时也是个获得自信的好地方，因为大多数参赛选手实在是菜的可怕。\n\n注意：并不是说刷到这个数才能进这些公司，实际上我是刷了大量的无用功的，因为我刷到一半有点刷上瘾了，觉得做这些算法题是一件很快乐的事，没事干做两道，还因此荒废了研究。。。现在我觉得 leetcode 没太大意思，又跑去做 Hackerrank 玩，纯粹是出于个人兴趣才做了这么多。\n#### OOD\n《Cracking the Coding Interview》和[一亩三分地](https://www.1point3acres.com/bbs/)里有很多OOD的例子，但是实话实说，遇到做过的才会，遇到没做过的还是挺蒙的。。。好在OOD并没有一个标准答案，你只要和面试官探讨出一个make sense的方案就行了。\n#### Behavior Questions\nAmazon一定会有BQ，面试之前照着[Leadership Principles](https://www.amazon.jobs/en/principles)准备一些小故事。Google有可能有BQ，但是概率实在是很低。\n\n### Soft Skill\n不同公司会对面试官进行不同的训练，要求他们重视候选人的某些方面。但是总的来说，大多数面试官评价候选者的一个很重要标准是，他是否愿意和候选者作为同事共事。因此面试很大程度上，是模拟你和面试官在工作中共同解决一个问题，想象他是你的一个同事，抱着和同事交流的心态和态度去沟通，比较容易做到不卑不亢。\n#### 自信\n我自己有幸有过当面试官的经验，后来和许多其他的工程师聊的时候，发现大多数工程师都或多或少当过面试官。所以面试官其实很有可能就是一个普通的码农，面试的时候完全没有害怕的必要。\n\n其次，不自信在面试的时候绝对是红灯信号，背后的理由也很简单：如果你自己都不相信自己可以胜任这份工作，那么你如何说服你的面试官相信你？\n\n当然也要注意分清自信和自负的区别。你可以是一个geek，对自己的技术充满自信，但你不能是一个jerk，目空一切，一碰就炸，没人想要和jerk共事。如果你可以笑着和面试官讲一个你以前的经历中犯过的错，就像谈论自己小时候的一段逸闻一样，那么你已经展露出了充分的自信。当然，你也要记得讲自己是如何处理这个错的，获得了怎样的效果，毕竟这还是在面试中。\n\n#### 交流能力\n许多面试题都是模糊的，不明确的，并不是因为这个题有问题，而是面试官有意考察你在工作中的沟通能力。在听到一个问题之后，尽可能的问出一切你认为可能的问题，包括但不限于：输入是否遵循某种pattern(例如一个数组是否是排好序的数组)，如何处理非法的输入(包括空的输入和会overflow的输入)，如果要实现多个互相影响的功能，那么他们被调用的次数分别是怎样的（这会严重影响你对于整个类的设计）。\n\n同时，在整个思考过程中，尽量做到think aloud,把你的任何一点想法都说出来和面试官讨论，如果面试官没有提出异议，那说明你的思路是没有大的问题。同样，如果面试官明确表达了不同意，不要在自己的思路上纠结。谁对谁错不一定，但是面试官会认为你不能听取他人意见，沟通能力差。\n\n有些朋友表达了对自己语言能力的担忧，我认为其实对于大部分人来说，对英语水平的担忧完全是杞人忧天。语言只是交流的工具，只要达到了可以沟通的水平就可以了。Google Tokyo Search Team在 tech talk上开玩笑地说\"The official language here is non-native English\"。如果在沟通过程中有没听明白的部分，完全可以\"I beg your pardon\"或者自己复述一遍面试官的话，询问自己是否理解正确了。\n#### 与公司文化的契合程度\n许多公司会挑选契合公司文化的雇员，有的公司明确的给出了公司文化的要求，而有的公司隐藏的很深。面试的时候，面试者可以大概感受到公司的氛围。\n\n我个人的建议是，不要在面试的时候过度的伪装自己，因为求职是一个双向选择的过程，如果你去到了一个你无法适应的工作环境中，你的接下来几年都会相当的痛苦：你清醒的时间里大约有一半都在工作上，而你却不喜欢它。\n\n但是也有一些技巧可以帮助你扬长避短，体现你符合公司文化，或者说展现你的优势。例如，大多数情况下，合作项目中总会有那么几个摸鱼侠。如果你是个好好先生，容忍了摸鱼侠的存在，那么你就可以着重表达自己“Earn Trust”的部分，你的组员都相信你，或者说，至少你们没有撕破脸。如果你无法忍受摸鱼侠，和他们大吵一架并且把他们赶走了，你可以着重表达自己“Hire and Develop the Best”和“Insist on the Highest Standard”。当然你要注意自己的表达，不要让自己听起来像个自负的jerk。\n\n## 最后\n找工作是一个小马过河的问题，最后的最后，我依旧想要强调，这两篇文章仅仅代表我个人的经验和看法，完全不保证客观性，准确性和及时性。这两篇文章仅作抛砖引玉，希望能给各位学弟学妹提供一点点微小的帮助，同时也希望其他看到这篇博客，有自己想法的朋友，也能够通过各种渠道发声。After all, the community is you and me and everyone.","source":"_posts/job-hunting-Tokyo2.md","raw":"---\ntitle: 东京码农求职记(准备与面试)\ntags:\n  - Chinese\n  - Job Hunting\n  - Leetcode\ncategories:\n  - Engineer\ndate: 2019-05-11 00:39:45\n---\n\n## Before Reading\n这篇文章紧跟上一篇文章，主要通过作者自身经历和理解，论述如何进行求职的前期准备和实战。同样，此文将包含极强的采样误差和主观感情色彩，希望读者理解。\n\n## Hard Skill, Soft Skill\n此文的每一章节都将分为两个部分叙述，分别是Hard Skill（可以量化的部分）和Soft Skill(无法量化或很难量化的部分)。\n\n虽然因为大多数公司都把公司文化拔高到了一个不应该的高度，甚至有把公司文化道德化的倾向，导致我非常反感宣传公司文化的行为。但是我也不得不承认，有的公司文化，如果你抛却它忽悠员工的部分，它可以是非常有用的尺子，用来指导你和他人的工作。这里我推荐Amazon的[Leadership Principles](https://www.amazon.jobs/en/principles)。这里面有一些莫名其妙的自大狂玩意儿（比如Are Right, A Lot)，但是其他可以主观实施和控制的部分，是许多顶级公司对员工共同的要求，可以用来指导自己准备求职过程的方方面面。\n\n举个小例子，许多人提到了日本总体环境佛系，想准备什么东西都没有人做。其他人都不做，你觉得这是对的，你去做了，这就是\"Have backbones\"，\"Bias for Action\"和\"Think Big\"。如果你能够影响、组织起其他人跟你一起做，这就是\"Earn Trust\", \"Ownership\"和\"Hire and Develop the Best\"。听起来很傻，但是这是一个优秀的码农应有的素质，也是你在简历中可以，甚至说是应该体现的素质，在面试的时候，这也是非常好的话题。\n\n## Information Hunter\n> Drowning in information, starving for knowledge.\n\n就职的第一步，是获得信息，包括招聘信息，宣讲会，招聘时间表，过去问，具体公司的招聘流程，招聘时间线，招聘流程。虽然大多数日企都服从经团联的安排，一般从毕业前一年的3月开始招聘，但是码农的Dream Company普遍是不管的。这也导致码农就活的战线会拉的非常的长，以我个人的经验而言，我从投出第一份简历到拿到目前最好的offer (Amazon SDE)，中间间隔了8个月，而Indeed 和Google都还在流程中。在如此长期的战线中，如何尽可能及时准确地获得信息就成了一大难题。\n\n### Hard\n招聘信息最直接、及时、准确的来源肯定是各大公司官网。提前锁定自己心仪公司的网站，设置Job Alert，并且定期查看是最万无一失的方法（点名批评Microsoft, college 招聘页面曾经完全down掉了两个月之久）。\n\n除了各大公司的招聘官网，一下这些网站都有能够较为即使准确地获得招聘信息(包括招聘会和招聘投递信息)：\n[アカリク](https://acaric.jp/);\n[リクナビ](https://job.rikunabi.com/2020/)(注意这个网站是分年度的，要选择自己对应的毕业年度);\n[外資就活](https://gaishishukatsu.com/);\n[CareerCross](https://www.careercross.com/en);\n[LinkedIn](https://www.linkedin.com/)\n\n### Soft\n建立你的信息网络。找到那些和你想法类似的人，主动和他们建立联系和共享信息。(Tip:收获信息的最好方式是主动提供信息)\n\n如何找到这些人？上同一门课认识的人，留学生群，参加招聘会结识的人。只要你主动地说Hi,主动地分享你有的信息，那么信息网络的建成只不过是水到渠成了。\n\n## Resumes\n了解到了招聘岗位之后，我们就要开始投递了。投递的第一步就是准备自己的简历。不要等到临投前一天才开始写简历，今天就开始写。写简历是一个不停地改进的过程，也是审视自己的不足的过程。日本留学一个不太好的部分就是，因为实习机会太少，而周围很多人都是每天吃喝玩乐，很多学生凑不出一整页的简历。如果你也是其中一员，那么抓紧时间，多做一些项目，做一些实习，打一些比赛，发一些论文，无论如何也要凑出一整页简历来。\n\n虽然许多日企是给一个entry sheet让你填，但是填的内容和你的简历内容大同小异。而且top tier 的公司基本都是要直接收CV。\n\n建议去[一亩三分地](https://www.1point3acres.com/bbs/)看看如何准备和写简历。\n\n### Hard\n哪些东西可以写进简历：教育经历，实习项目，开源项目，自己的side project，比赛项目，等等。\n\n简历最好用中英日文各写一份，这样在复制粘贴到entry sheet的时候不用重复写（很多公司的ES在提交之后就不能看到了，我一开始不知道，至少写了3遍实习项目的日文版）。\n\n虽说每份简历在投递前最好是有针对性的修改，但是对于大部分根本写不满一页的学生来说，有时间想简历怎么编，不如赶紧再去做个项目。对于能够写出一页半简历的同学来说，可以在每次投递前针对自己投递的岗位删掉一些不太契合这一岗位的项目的细节，始终保持简历上有所有的项目，重点项目重点说，而且简历长度刚好一页。\n\n推荐通过[LinkedIn](https://www.linkedin.com/)初步编写自己的简历，还可以在LinkedIn上查看、学习其他人是如何编写自己的项目经历的。在出最终简历的时候，推荐使用[超级简历](https://www.wondercv.com/?locale=zh-CN)，跟着它的引导调整自己简历的内容和排版。\n### Soft\n同一个项目用不同的说法写出来，效果是完全不一样的。要针对性的表达你在项目中的作用。同时，为了能够在项目中有东西可说，应当在做项目之前和做项目中就想好它会在我的简历中怎样展现出来，一边意识到简历一边推进项目有奇效。\n\n同时我发现有的转行的同学，误认为项目就是在GitHub 上找个开源项目实现一下，或者就是上了某个网课，做了课设作业。不是说这些就不行，而是这些项目缺乏区分度，不能体现你作为candidate拥有的竞争力。\n\n相对于课设，实习经历，比赛经历和对开源社区的贡献就明显有更强的竞争力，这些经历可以说是实际工作的预演，是采用了某种技术解决了某个实际问题的过程。好消息是日本有这些经历的人真的不多，坏消息是还是比好的岗位数量多得多的。\n\n\n## Online Assessment\n### Hard\n普遍是编码测试，建议在C++, Java和 Python中至少弄懂一门语言。如果你只会Python，那建议还是要学一学C++或者Java，因为Amazon东京 OA 只许用C++或者Java。\n\n### Soft\n没有，即使有，也很弱智。我还没见过招码农还要求做SPI的公司。\n\n## Interviews\n面试是整个招聘流程中最大的大头，而且top tier的面试强度是非常高的，Amazon一上午面4轮，Google听说也是一天面4轮。虽然一般认为面试并不能在如此短的时间里体现一个人的水平和性格，但是面试总归是比简历靠谱的。准备美资互联网公司的方法也十分简单和直接，相当多早就有志于此的朋友可能对于他们考察方法早已烂熟于胸，但是也要考虑到很多日本的留学生根本没有关注过这方面的情况，我还是决定写一写具体的面试内容和准备方法。\n\n推荐参考书目：《剑指offer》和《Cracking the Coding Interview》。前者是中文编写，篇幅更短小，适合完全没有外企面试经验的同学熟悉面试流程和面试重点。后者是英文编写，更详细，篇幅更长，适合有一定准备的同学阅读，熟悉一些术语的英语说法和更多面试中的细节。\n\n推荐论坛：[一亩三分地](https://www.1point3acres.com/bbs/)。不仅有最新最全面经，还有装逼，打脸，互怼，感情生活，北美猥琐男等愉悦身心的顶级资讯，实乃居家旅行，刷题拿offer必备网站。\n\n建议找一两个朋友定期互相做mock interview,可以习惯一边说话一边写代码，同时习惯在白板上写代码，还可以互相给feedback来提升面试过程的表现。\n### Hard Skill\nTop tier公司都是要白板编程的，有的公司除了白板编程之外还有一些Behavior Question(BQ).白板编程主要考察算法和数据结构，new grad偶尔会问一些简单的 OOD(Object Oriented Design)问题。\n#### 算法和数据结构\n> 究竟是我刷了题，还是题刷了我？\n\n刷题进公司一直是一个充满争议的话题，但是不得不承认，想要进top tier公司，对于大部分人来说，刷题是最有效的途径。这里给出我的刷题记录以供参考（我本人没有任何算法竞赛的经验）。\n\n![刷题提交记录](/images/jobhunt/leetcode0.png)\n<center>刷题提交记录</center>\n\n![总题数](/images/jobhunt/leetcode3.png)\n<center>总题数</center>\n\n![周赛全球排名](/images/jobhunt/leetcode1.png)\n<center>周赛全球排名</center>\n\n![Amazon面试前一周的周赛排名](/images/jobhunt/leetcode2.png)\n<center>Amazon面试前一周的周赛排名</center>\n\n对于没有竞赛基础的同学来说，在刚开始刷题的时候会感受到痛苦，这是十分正常的，事实上，大部分人在做到150题左右，就会开始量变到质变。\n\n在刷了一定数量的题之后，如果想要知道自己大概是个什么水平，可以参加 Leetcode 每周的周赛，日本时间周日早上11：30至13：00。周赛是个很好的检验自己水平的地方，同时也是个获得自信的好地方，因为大多数参赛选手实在是菜的可怕。\n\n注意：并不是说刷到这个数才能进这些公司，实际上我是刷了大量的无用功的，因为我刷到一半有点刷上瘾了，觉得做这些算法题是一件很快乐的事，没事干做两道，还因此荒废了研究。。。现在我觉得 leetcode 没太大意思，又跑去做 Hackerrank 玩，纯粹是出于个人兴趣才做了这么多。\n#### OOD\n《Cracking the Coding Interview》和[一亩三分地](https://www.1point3acres.com/bbs/)里有很多OOD的例子，但是实话实说，遇到做过的才会，遇到没做过的还是挺蒙的。。。好在OOD并没有一个标准答案，你只要和面试官探讨出一个make sense的方案就行了。\n#### Behavior Questions\nAmazon一定会有BQ，面试之前照着[Leadership Principles](https://www.amazon.jobs/en/principles)准备一些小故事。Google有可能有BQ，但是概率实在是很低。\n\n### Soft Skill\n不同公司会对面试官进行不同的训练，要求他们重视候选人的某些方面。但是总的来说，大多数面试官评价候选者的一个很重要标准是，他是否愿意和候选者作为同事共事。因此面试很大程度上，是模拟你和面试官在工作中共同解决一个问题，想象他是你的一个同事，抱着和同事交流的心态和态度去沟通，比较容易做到不卑不亢。\n#### 自信\n我自己有幸有过当面试官的经验，后来和许多其他的工程师聊的时候，发现大多数工程师都或多或少当过面试官。所以面试官其实很有可能就是一个普通的码农，面试的时候完全没有害怕的必要。\n\n其次，不自信在面试的时候绝对是红灯信号，背后的理由也很简单：如果你自己都不相信自己可以胜任这份工作，那么你如何说服你的面试官相信你？\n\n当然也要注意分清自信和自负的区别。你可以是一个geek，对自己的技术充满自信，但你不能是一个jerk，目空一切，一碰就炸，没人想要和jerk共事。如果你可以笑着和面试官讲一个你以前的经历中犯过的错，就像谈论自己小时候的一段逸闻一样，那么你已经展露出了充分的自信。当然，你也要记得讲自己是如何处理这个错的，获得了怎样的效果，毕竟这还是在面试中。\n\n#### 交流能力\n许多面试题都是模糊的，不明确的，并不是因为这个题有问题，而是面试官有意考察你在工作中的沟通能力。在听到一个问题之后，尽可能的问出一切你认为可能的问题，包括但不限于：输入是否遵循某种pattern(例如一个数组是否是排好序的数组)，如何处理非法的输入(包括空的输入和会overflow的输入)，如果要实现多个互相影响的功能，那么他们被调用的次数分别是怎样的（这会严重影响你对于整个类的设计）。\n\n同时，在整个思考过程中，尽量做到think aloud,把你的任何一点想法都说出来和面试官讨论，如果面试官没有提出异议，那说明你的思路是没有大的问题。同样，如果面试官明确表达了不同意，不要在自己的思路上纠结。谁对谁错不一定，但是面试官会认为你不能听取他人意见，沟通能力差。\n\n有些朋友表达了对自己语言能力的担忧，我认为其实对于大部分人来说，对英语水平的担忧完全是杞人忧天。语言只是交流的工具，只要达到了可以沟通的水平就可以了。Google Tokyo Search Team在 tech talk上开玩笑地说\"The official language here is non-native English\"。如果在沟通过程中有没听明白的部分，完全可以\"I beg your pardon\"或者自己复述一遍面试官的话，询问自己是否理解正确了。\n#### 与公司文化的契合程度\n许多公司会挑选契合公司文化的雇员，有的公司明确的给出了公司文化的要求，而有的公司隐藏的很深。面试的时候，面试者可以大概感受到公司的氛围。\n\n我个人的建议是，不要在面试的时候过度的伪装自己，因为求职是一个双向选择的过程，如果你去到了一个你无法适应的工作环境中，你的接下来几年都会相当的痛苦：你清醒的时间里大约有一半都在工作上，而你却不喜欢它。\n\n但是也有一些技巧可以帮助你扬长避短，体现你符合公司文化，或者说展现你的优势。例如，大多数情况下，合作项目中总会有那么几个摸鱼侠。如果你是个好好先生，容忍了摸鱼侠的存在，那么你就可以着重表达自己“Earn Trust”的部分，你的组员都相信你，或者说，至少你们没有撕破脸。如果你无法忍受摸鱼侠，和他们大吵一架并且把他们赶走了，你可以着重表达自己“Hire and Develop the Best”和“Insist on the Highest Standard”。当然你要注意自己的表达，不要让自己听起来像个自负的jerk。\n\n## 最后\n找工作是一个小马过河的问题，最后的最后，我依旧想要强调，这两篇文章仅仅代表我个人的经验和看法，完全不保证客观性，准确性和及时性。这两篇文章仅作抛砖引玉，希望能给各位学弟学妹提供一点点微小的帮助，同时也希望其他看到这篇博客，有自己想法的朋友，也能够通过各种渠道发声。After all, the community is you and me and everyone.","slug":"job-hunting-Tokyo2","published":1,"updated":"2019-05-10T16:51:11.619Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjysozxqu002aia11bszo92kt","content":"<h2 id=\"before-reading\"><a href=\"#Before-Reading\" class=\"headerlink\" title=\"Before Reading\"></a>Before Reading</h2><p>这篇文章紧跟上一篇文章，主要通过作者自身经历和理解，论述如何进行求职的前期准备和实战。同样，此文将包含极强的采样误差和主观感情色彩，希望读者理解。</p>\n<h2 id=\"hard-skill-soft-skill\"><a href=\"#Hard-Skill-Soft-Skill\" class=\"headerlink\" title=\"Hard Skill, Soft Skill\"></a>Hard Skill, Soft Skill</h2><p>此文的每一章节都将分为两个部分叙述，分别是Hard Skill（可以量化的部分）和Soft Skill(无法量化或很难量化的部分)。</p>\n<p>虽然因为大多数公司都把公司文化拔高到了一个不应该的高度，甚至有把公司文化道德化的倾向，导致我非常反感宣传公司文化的行为。但是我也不得不承认，有的公司文化，如果你抛却它忽悠员工的部分，它可以是非常有用的尺子，用来指导你和他人的工作。这里我推荐Amazon的<a href=\"https://www.amazon.jobs/en/principles\" target=\"_blank\" rel=\"noopener\">Leadership Principles</a>。这里面有一些莫名其妙的自大狂玩意儿（比如Are Right, A Lot)，但是其他可以主观实施和控制的部分，是许多顶级公司对员工共同的要求，可以用来指导自己准备求职过程的方方面面。</p>\n<p>举个小例子，许多人提到了日本总体环境佛系，想准备什么东西都没有人做。其他人都不做，你觉得这是对的，你去做了，这就是&quot;Have backbones&quot;，&quot;Bias for Action&quot;和&quot;Think Big&quot;。如果你能够影响、组织起其他人跟你一起做，这就是&quot;Earn Trust&quot;, &quot;Ownership&quot;和&quot;Hire and Develop the Best&quot;。听起来很傻，但是这是一个优秀的码农应有的素质，也是你在简历中可以，甚至说是应该体现的素质，在面试的时候，这也是非常好的话题。</p>\n<h2 id=\"information-hunter\"><a href=\"#Information-Hunter\" class=\"headerlink\" title=\"Information Hunter\"></a>Information Hunter</h2><blockquote>\n<p>Drowning in information, starving for knowledge.</p>\n</blockquote>\n<p>就职的第一步，是获得信息，包括招聘信息，宣讲会，招聘时间表，过去问，具体公司的招聘流程，招聘时间线，招聘流程。虽然大多数日企都服从经团联的安排，一般从毕业前一年的3月开始招聘，但是码农的Dream Company普遍是不管的。这也导致码农就活的战线会拉的非常的长，以我个人的经验而言，我从投出第一份简历到拿到目前最好的offer (Amazon SDE)，中间间隔了8个月，而Indeed 和Google都还在流程中。在如此长期的战线中，如何尽可能及时准确地获得信息就成了一大难题。</p>\n<h3 id=\"hard\"><a href=\"#Hard\" class=\"headerlink\" title=\"Hard\"></a>Hard</h3><p>招聘信息最直接、及时、准确的来源肯定是各大公司官网。提前锁定自己心仪公司的网站，设置Job Alert，并且定期查看是最万无一失的方法（点名批评Microsoft, college 招聘页面曾经完全down掉了两个月之久）。</p>\n<p>除了各大公司的招聘官网，一下这些网站都有能够较为即使准确地获得招聘信息(包括招聘会和招聘投递信息)：<br><a href=\"https://acaric.jp/\" target=\"_blank\" rel=\"noopener\">アカリク</a>;<br><a href=\"https://job.rikunabi.com/2020/\" target=\"_blank\" rel=\"noopener\">リクナビ</a>(注意这个网站是分年度的，要选择自己对应的毕业年度);<br><a href=\"https://gaishishukatsu.com/\" target=\"_blank\" rel=\"noopener\">外資就活</a>;<br><a href=\"https://www.careercross.com/en\" target=\"_blank\" rel=\"noopener\">CareerCross</a>;<br><a href=\"https://www.linkedin.com/\" target=\"_blank\" rel=\"noopener\">LinkedIn</a></p>\n<h3 id=\"soft\"><a href=\"#Soft\" class=\"headerlink\" title=\"Soft\"></a>Soft</h3><p>建立你的信息网络。找到那些和你想法类似的人，主动和他们建立联系和共享信息。(Tip:收获信息的最好方式是主动提供信息)</p>\n<p>如何找到这些人？上同一门课认识的人，留学生群，参加招聘会结识的人。只要你主动地说Hi,主动地分享你有的信息，那么信息网络的建成只不过是水到渠成了。</p>\n<h2 id=\"resumes\"><a href=\"#Resumes\" class=\"headerlink\" title=\"Resumes\"></a>Resumes</h2><p>了解到了招聘岗位之后，我们就要开始投递了。投递的第一步就是准备自己的简历。不要等到临投前一天才开始写简历，今天就开始写。写简历是一个不停地改进的过程，也是审视自己的不足的过程。日本留学一个不太好的部分就是，因为实习机会太少，而周围很多人都是每天吃喝玩乐，很多学生凑不出一整页的简历。如果你也是其中一员，那么抓紧时间，多做一些项目，做一些实习，打一些比赛，发一些论文，无论如何也要凑出一整页简历来。</p>\n<p>虽然许多日企是给一个entry sheet让你填，但是填的内容和你的简历内容大同小异。而且top tier 的公司基本都是要直接收CV。</p>\n<p>建议去<a href=\"https://www.1point3acres.com/bbs/\" target=\"_blank\" rel=\"noopener\">一亩三分地</a>看看如何准备和写简历。</p>\n<h3 id=\"hard\"><a href=\"#Hard-1\" class=\"headerlink\" title=\"Hard\"></a>Hard</h3><p>哪些东西可以写进简历：教育经历，实习项目，开源项目，自己的side project，比赛项目，等等。</p>\n<p>简历最好用中英日文各写一份，这样在复制粘贴到entry sheet的时候不用重复写（很多公司的ES在提交之后就不能看到了，我一开始不知道，至少写了3遍实习项目的日文版）。</p>\n<p>虽说每份简历在投递前最好是有针对性的修改，但是对于大部分根本写不满一页的学生来说，有时间想简历怎么编，不如赶紧再去做个项目。对于能够写出一页半简历的同学来说，可以在每次投递前针对自己投递的岗位删掉一些不太契合这一岗位的项目的细节，始终保持简历上有所有的项目，重点项目重点说，而且简历长度刚好一页。</p>\n<p>推荐通过<a href=\"https://www.linkedin.com/\" target=\"_blank\" rel=\"noopener\">LinkedIn</a>初步编写自己的简历，还可以在LinkedIn上查看、学习其他人是如何编写自己的项目经历的。在出最终简历的时候，推荐使用<a href=\"https://www.wondercv.com/?locale=zh-CN\" target=\"_blank\" rel=\"noopener\">超级简历</a>，跟着它的引导调整自己简历的内容和排版。</p>\n<h3 id=\"soft\"><a href=\"#Soft-1\" class=\"headerlink\" title=\"Soft\"></a>Soft</h3><p>同一个项目用不同的说法写出来，效果是完全不一样的。要针对性的表达你在项目中的作用。同时，为了能够在项目中有东西可说，应当在做项目之前和做项目中就想好它会在我的简历中怎样展现出来，一边意识到简历一边推进项目有奇效。</p>\n<p>同时我发现有的转行的同学，误认为项目就是在GitHub 上找个开源项目实现一下，或者就是上了某个网课，做了课设作业。不是说这些就不行，而是这些项目缺乏区分度，不能体现你作为candidate拥有的竞争力。</p>\n<p>相对于课设，实习经历，比赛经历和对开源社区的贡献就明显有更强的竞争力，这些经历可以说是实际工作的预演，是采用了某种技术解决了某个实际问题的过程。好消息是日本有这些经历的人真的不多，坏消息是还是比好的岗位数量多得多的。</p>\n<h2 id=\"online-assessment\"><a href=\"#Online-Assessment\" class=\"headerlink\" title=\"Online Assessment\"></a>Online Assessment</h2><h3 id=\"hard\"><a href=\"#Hard-2\" class=\"headerlink\" title=\"Hard\"></a>Hard</h3><p>普遍是编码测试，建议在C++, Java和 Python中至少弄懂一门语言。如果你只会Python，那建议还是要学一学C++或者Java，因为Amazon东京 OA 只许用C++或者Java。</p>\n<h3 id=\"soft\"><a href=\"#Soft-2\" class=\"headerlink\" title=\"Soft\"></a>Soft</h3><p>没有，即使有，也很弱智。我还没见过招码农还要求做SPI的公司。</p>\n<h2 id=\"interviews\"><a href=\"#Interviews\" class=\"headerlink\" title=\"Interviews\"></a>Interviews</h2><p>面试是整个招聘流程中最大的大头，而且top tier的面试强度是非常高的，Amazon一上午面4轮，Google听说也是一天面4轮。虽然一般认为面试并不能在如此短的时间里体现一个人的水平和性格，但是面试总归是比简历靠谱的。准备美资互联网公司的方法也十分简单和直接，相当多早就有志于此的朋友可能对于他们考察方法早已烂熟于胸，但是也要考虑到很多日本的留学生根本没有关注过这方面的情况，我还是决定写一写具体的面试内容和准备方法。</p>\n<p>推荐参考书目：《剑指offer》和《Cracking the Coding Interview》。前者是中文编写，篇幅更短小，适合完全没有外企面试经验的同学熟悉面试流程和面试重点。后者是英文编写，更详细，篇幅更长，适合有一定准备的同学阅读，熟悉一些术语的英语说法和更多面试中的细节。</p>\n<p>推荐论坛：<a href=\"https://www.1point3acres.com/bbs/\" target=\"_blank\" rel=\"noopener\">一亩三分地</a>。不仅有最新最全面经，还有装逼，打脸，互怼，感情生活，北美猥琐男等愉悦身心的顶级资讯，实乃居家旅行，刷题拿offer必备网站。</p>\n<p>建议找一两个朋友定期互相做mock interview,可以习惯一边说话一边写代码，同时习惯在白板上写代码，还可以互相给feedback来提升面试过程的表现。</p>\n<h3 id=\"hard-skill\"><a href=\"#Hard-Skill\" class=\"headerlink\" title=\"Hard Skill\"></a>Hard Skill</h3><p>Top tier公司都是要白板编程的，有的公司除了白板编程之外还有一些Behavior Question(BQ).白板编程主要考察算法和数据结构，new grad偶尔会问一些简单的 OOD(Object Oriented Design)问题。</p>\n<h4 id=\"算法和数据结构\"><a href=\"#算法和数据结构\" class=\"headerlink\" title=\"算法和数据结构\"></a>算法和数据结构</h4><blockquote>\n<p>究竟是我刷了题，还是题刷了我？</p>\n</blockquote>\n<p>刷题进公司一直是一个充满争议的话题，但是不得不承认，想要进top tier公司，对于大部分人来说，刷题是最有效的途径。这里给出我的刷题记录以供参考（我本人没有任何算法竞赛的经验）。</p>\n<p><img src=\"/images/jobhunt/leetcode0.png\" alt=\"刷题提交记录\"></p>\n<center>刷题提交记录</center>\n\n<p><img src=\"/images/jobhunt/leetcode3.png\" alt=\"总题数\"></p>\n<center>总题数</center>\n\n<p><img src=\"/images/jobhunt/leetcode1.png\" alt=\"周赛全球排名\"></p>\n<center>周赛全球排名</center>\n\n<p><img src=\"/images/jobhunt/leetcode2.png\" alt=\"Amazon面试前一周的周赛排名\"></p>\n<center>Amazon面试前一周的周赛排名</center>\n\n<p>对于没有竞赛基础的同学来说，在刚开始刷题的时候会感受到痛苦，这是十分正常的，事实上，大部分人在做到150题左右，就会开始量变到质变。</p>\n<p>在刷了一定数量的题之后，如果想要知道自己大概是个什么水平，可以参加 Leetcode 每周的周赛，日本时间周日早上11：30至13：00。周赛是个很好的检验自己水平的地方，同时也是个获得自信的好地方，因为大多数参赛选手实在是菜的可怕。</p>\n<p>注意：并不是说刷到这个数才能进这些公司，实际上我是刷了大量的无用功的，因为我刷到一半有点刷上瘾了，觉得做这些算法题是一件很快乐的事，没事干做两道，还因此荒废了研究。。。现在我觉得 leetcode 没太大意思，又跑去做 Hackerrank 玩，纯粹是出于个人兴趣才做了这么多。</p>\n<h4 id=\"ood\"><a href=\"#OOD\" class=\"headerlink\" title=\"OOD\"></a>OOD</h4><p>《Cracking the Coding Interview》和<a href=\"https://www.1point3acres.com/bbs/\" target=\"_blank\" rel=\"noopener\">一亩三分地</a>里有很多OOD的例子，但是实话实说，遇到做过的才会，遇到没做过的还是挺蒙的。。。好在OOD并没有一个标准答案，你只要和面试官探讨出一个make sense的方案就行了。</p>\n<h4 id=\"behavior-questions\"><a href=\"#Behavior-Questions\" class=\"headerlink\" title=\"Behavior Questions\"></a>Behavior Questions</h4><p>Amazon一定会有BQ，面试之前照着<a href=\"https://www.amazon.jobs/en/principles\" target=\"_blank\" rel=\"noopener\">Leadership Principles</a>准备一些小故事。Google有可能有BQ，但是概率实在是很低。</p>\n<h3 id=\"soft-skill\"><a href=\"#Soft-Skill\" class=\"headerlink\" title=\"Soft Skill\"></a>Soft Skill</h3><p>不同公司会对面试官进行不同的训练，要求他们重视候选人的某些方面。但是总的来说，大多数面试官评价候选者的一个很重要标准是，他是否愿意和候选者作为同事共事。因此面试很大程度上，是模拟你和面试官在工作中共同解决一个问题，想象他是你的一个同事，抱着和同事交流的心态和态度去沟通，比较容易做到不卑不亢。</p>\n<h4 id=\"自信\"><a href=\"#自信\" class=\"headerlink\" title=\"自信\"></a>自信</h4><p>我自己有幸有过当面试官的经验，后来和许多其他的工程师聊的时候，发现大多数工程师都或多或少当过面试官。所以面试官其实很有可能就是一个普通的码农，面试的时候完全没有害怕的必要。</p>\n<p>其次，不自信在面试的时候绝对是红灯信号，背后的理由也很简单：如果你自己都不相信自己可以胜任这份工作，那么你如何说服你的面试官相信你？</p>\n<p>当然也要注意分清自信和自负的区别。你可以是一个geek，对自己的技术充满自信，但你不能是一个jerk，目空一切，一碰就炸，没人想要和jerk共事。如果你可以笑着和面试官讲一个你以前的经历中犯过的错，就像谈论自己小时候的一段逸闻一样，那么你已经展露出了充分的自信。当然，你也要记得讲自己是如何处理这个错的，获得了怎样的效果，毕竟这还是在面试中。</p>\n<h4 id=\"交流能力\"><a href=\"#交流能力\" class=\"headerlink\" title=\"交流能力\"></a>交流能力</h4><p>许多面试题都是模糊的，不明确的，并不是因为这个题有问题，而是面试官有意考察你在工作中的沟通能力。在听到一个问题之后，尽可能的问出一切你认为可能的问题，包括但不限于：输入是否遵循某种pattern(例如一个数组是否是排好序的数组)，如何处理非法的输入(包括空的输入和会overflow的输入)，如果要实现多个互相影响的功能，那么他们被调用的次数分别是怎样的（这会严重影响你对于整个类的设计）。</p>\n<p>同时，在整个思考过程中，尽量做到think aloud,把你的任何一点想法都说出来和面试官讨论，如果面试官没有提出异议，那说明你的思路是没有大的问题。同样，如果面试官明确表达了不同意，不要在自己的思路上纠结。谁对谁错不一定，但是面试官会认为你不能听取他人意见，沟通能力差。</p>\n<p>有些朋友表达了对自己语言能力的担忧，我认为其实对于大部分人来说，对英语水平的担忧完全是杞人忧天。语言只是交流的工具，只要达到了可以沟通的水平就可以了。Google Tokyo Search Team在 tech talk上开玩笑地说&quot;The official language here is non-native English&quot;。如果在沟通过程中有没听明白的部分，完全可以&quot;I beg your pardon&quot;或者自己复述一遍面试官的话，询问自己是否理解正确了。</p>\n<h4 id=\"与公司文化的契合程度\"><a href=\"#与公司文化的契合程度\" class=\"headerlink\" title=\"与公司文化的契合程度\"></a>与公司文化的契合程度</h4><p>许多公司会挑选契合公司文化的雇员，有的公司明确的给出了公司文化的要求，而有的公司隐藏的很深。面试的时候，面试者可以大概感受到公司的氛围。</p>\n<p>我个人的建议是，不要在面试的时候过度的伪装自己，因为求职是一个双向选择的过程，如果你去到了一个你无法适应的工作环境中，你的接下来几年都会相当的痛苦：你清醒的时间里大约有一半都在工作上，而你却不喜欢它。</p>\n<p>但是也有一些技巧可以帮助你扬长避短，体现你符合公司文化，或者说展现你的优势。例如，大多数情况下，合作项目中总会有那么几个摸鱼侠。如果你是个好好先生，容忍了摸鱼侠的存在，那么你就可以着重表达自己“Earn Trust”的部分，你的组员都相信你，或者说，至少你们没有撕破脸。如果你无法忍受摸鱼侠，和他们大吵一架并且把他们赶走了，你可以着重表达自己“Hire and Develop the Best”和“Insist on the Highest Standard”。当然你要注意自己的表达，不要让自己听起来像个自负的jerk。</p>\n<h2 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h2><p>找工作是一个小马过河的问题，最后的最后，我依旧想要强调，这两篇文章仅仅代表我个人的经验和看法，完全不保证客观性，准确性和及时性。这两篇文章仅作抛砖引玉，希望能给各位学弟学妹提供一点点微小的帮助，同时也希望其他看到这篇博客，有自己想法的朋友，也能够通过各种渠道发声。After all, the community is you and me and everyone.</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Before-Reading\"><a href=\"#Before-Reading\" class=\"headerlink\" title=\"Before Reading\"></a>Before Reading</h2><p>这篇文章紧跟上一篇文章，主要通过作者自身经历和理解，论述如何进行求职的前期准备和实战。同样，此文将包含极强的采样误差和主观感情色彩，希望读者理解。</p>\n<h2 id=\"Hard-Skill-Soft-Skill\"><a href=\"#Hard-Skill-Soft-Skill\" class=\"headerlink\" title=\"Hard Skill, Soft Skill\"></a>Hard Skill, Soft Skill</h2><p>此文的每一章节都将分为两个部分叙述，分别是Hard Skill（可以量化的部分）和Soft Skill(无法量化或很难量化的部分)。</p>\n<p>虽然因为大多数公司都把公司文化拔高到了一个不应该的高度，甚至有把公司文化道德化的倾向，导致我非常反感宣传公司文化的行为。但是我也不得不承认，有的公司文化，如果你抛却它忽悠员工的部分，它可以是非常有用的尺子，用来指导你和他人的工作。这里我推荐Amazon的<a href=\"https://www.amazon.jobs/en/principles\" target=\"_blank\" rel=\"noopener\">Leadership Principles</a>。这里面有一些莫名其妙的自大狂玩意儿（比如Are Right, A Lot)，但是其他可以主观实施和控制的部分，是许多顶级公司对员工共同的要求，可以用来指导自己准备求职过程的方方面面。</p>\n<p>举个小例子，许多人提到了日本总体环境佛系，想准备什么东西都没有人做。其他人都不做，你觉得这是对的，你去做了，这就是&quot;Have backbones&quot;，&quot;Bias for Action&quot;和&quot;Think Big&quot;。如果你能够影响、组织起其他人跟你一起做，这就是&quot;Earn Trust&quot;, &quot;Ownership&quot;和&quot;Hire and Develop the Best&quot;。听起来很傻，但是这是一个优秀的码农应有的素质，也是你在简历中可以，甚至说是应该体现的素质，在面试的时候，这也是非常好的话题。</p>\n<h2 id=\"Information-Hunter\"><a href=\"#Information-Hunter\" class=\"headerlink\" title=\"Information Hunter\"></a>Information Hunter</h2><blockquote>\n<p>Drowning in information, starving for knowledge.</p>\n</blockquote>\n<p>就职的第一步，是获得信息，包括招聘信息，宣讲会，招聘时间表，过去问，具体公司的招聘流程，招聘时间线，招聘流程。虽然大多数日企都服从经团联的安排，一般从毕业前一年的3月开始招聘，但是码农的Dream Company普遍是不管的。这也导致码农就活的战线会拉的非常的长，以我个人的经验而言，我从投出第一份简历到拿到目前最好的offer (Amazon SDE)，中间间隔了8个月，而Indeed 和Google都还在流程中。在如此长期的战线中，如何尽可能及时准确地获得信息就成了一大难题。</p>\n<h3 id=\"Hard\"><a href=\"#Hard\" class=\"headerlink\" title=\"Hard\"></a>Hard</h3><p>招聘信息最直接、及时、准确的来源肯定是各大公司官网。提前锁定自己心仪公司的网站，设置Job Alert，并且定期查看是最万无一失的方法（点名批评Microsoft, college 招聘页面曾经完全down掉了两个月之久）。</p>\n<p>除了各大公司的招聘官网，一下这些网站都有能够较为即使准确地获得招聘信息(包括招聘会和招聘投递信息)：<br><a href=\"https://acaric.jp/\" target=\"_blank\" rel=\"noopener\">アカリク</a>;<br><a href=\"https://job.rikunabi.com/2020/\" target=\"_blank\" rel=\"noopener\">リクナビ</a>(注意这个网站是分年度的，要选择自己对应的毕业年度);<br><a href=\"https://gaishishukatsu.com/\" target=\"_blank\" rel=\"noopener\">外資就活</a>;<br><a href=\"https://www.careercross.com/en\" target=\"_blank\" rel=\"noopener\">CareerCross</a>;<br><a href=\"https://www.linkedin.com/\" target=\"_blank\" rel=\"noopener\">LinkedIn</a></p>\n<h3 id=\"Soft\"><a href=\"#Soft\" class=\"headerlink\" title=\"Soft\"></a>Soft</h3><p>建立你的信息网络。找到那些和你想法类似的人，主动和他们建立联系和共享信息。(Tip:收获信息的最好方式是主动提供信息)</p>\n<p>如何找到这些人？上同一门课认识的人，留学生群，参加招聘会结识的人。只要你主动地说Hi,主动地分享你有的信息，那么信息网络的建成只不过是水到渠成了。</p>\n<h2 id=\"Resumes\"><a href=\"#Resumes\" class=\"headerlink\" title=\"Resumes\"></a>Resumes</h2><p>了解到了招聘岗位之后，我们就要开始投递了。投递的第一步就是准备自己的简历。不要等到临投前一天才开始写简历，今天就开始写。写简历是一个不停地改进的过程，也是审视自己的不足的过程。日本留学一个不太好的部分就是，因为实习机会太少，而周围很多人都是每天吃喝玩乐，很多学生凑不出一整页的简历。如果你也是其中一员，那么抓紧时间，多做一些项目，做一些实习，打一些比赛，发一些论文，无论如何也要凑出一整页简历来。</p>\n<p>虽然许多日企是给一个entry sheet让你填，但是填的内容和你的简历内容大同小异。而且top tier 的公司基本都是要直接收CV。</p>\n<p>建议去<a href=\"https://www.1point3acres.com/bbs/\" target=\"_blank\" rel=\"noopener\">一亩三分地</a>看看如何准备和写简历。</p>\n<h3 id=\"Hard-1\"><a href=\"#Hard-1\" class=\"headerlink\" title=\"Hard\"></a>Hard</h3><p>哪些东西可以写进简历：教育经历，实习项目，开源项目，自己的side project，比赛项目，等等。</p>\n<p>简历最好用中英日文各写一份，这样在复制粘贴到entry sheet的时候不用重复写（很多公司的ES在提交之后就不能看到了，我一开始不知道，至少写了3遍实习项目的日文版）。</p>\n<p>虽说每份简历在投递前最好是有针对性的修改，但是对于大部分根本写不满一页的学生来说，有时间想简历怎么编，不如赶紧再去做个项目。对于能够写出一页半简历的同学来说，可以在每次投递前针对自己投递的岗位删掉一些不太契合这一岗位的项目的细节，始终保持简历上有所有的项目，重点项目重点说，而且简历长度刚好一页。</p>\n<p>推荐通过<a href=\"https://www.linkedin.com/\" target=\"_blank\" rel=\"noopener\">LinkedIn</a>初步编写自己的简历，还可以在LinkedIn上查看、学习其他人是如何编写自己的项目经历的。在出最终简历的时候，推荐使用<a href=\"https://www.wondercv.com/?locale=zh-CN\" target=\"_blank\" rel=\"noopener\">超级简历</a>，跟着它的引导调整自己简历的内容和排版。</p>\n<h3 id=\"Soft-1\"><a href=\"#Soft-1\" class=\"headerlink\" title=\"Soft\"></a>Soft</h3><p>同一个项目用不同的说法写出来，效果是完全不一样的。要针对性的表达你在项目中的作用。同时，为了能够在项目中有东西可说，应当在做项目之前和做项目中就想好它会在我的简历中怎样展现出来，一边意识到简历一边推进项目有奇效。</p>\n<p>同时我发现有的转行的同学，误认为项目就是在GitHub 上找个开源项目实现一下，或者就是上了某个网课，做了课设作业。不是说这些就不行，而是这些项目缺乏区分度，不能体现你作为candidate拥有的竞争力。</p>\n<p>相对于课设，实习经历，比赛经历和对开源社区的贡献就明显有更强的竞争力，这些经历可以说是实际工作的预演，是采用了某种技术解决了某个实际问题的过程。好消息是日本有这些经历的人真的不多，坏消息是还是比好的岗位数量多得多的。</p>\n<h2 id=\"Online-Assessment\"><a href=\"#Online-Assessment\" class=\"headerlink\" title=\"Online Assessment\"></a>Online Assessment</h2><h3 id=\"Hard-2\"><a href=\"#Hard-2\" class=\"headerlink\" title=\"Hard\"></a>Hard</h3><p>普遍是编码测试，建议在C++, Java和 Python中至少弄懂一门语言。如果你只会Python，那建议还是要学一学C++或者Java，因为Amazon东京 OA 只许用C++或者Java。</p>\n<h3 id=\"Soft-2\"><a href=\"#Soft-2\" class=\"headerlink\" title=\"Soft\"></a>Soft</h3><p>没有，即使有，也很弱智。我还没见过招码农还要求做SPI的公司。</p>\n<h2 id=\"Interviews\"><a href=\"#Interviews\" class=\"headerlink\" title=\"Interviews\"></a>Interviews</h2><p>面试是整个招聘流程中最大的大头，而且top tier的面试强度是非常高的，Amazon一上午面4轮，Google听说也是一天面4轮。虽然一般认为面试并不能在如此短的时间里体现一个人的水平和性格，但是面试总归是比简历靠谱的。准备美资互联网公司的方法也十分简单和直接，相当多早就有志于此的朋友可能对于他们考察方法早已烂熟于胸，但是也要考虑到很多日本的留学生根本没有关注过这方面的情况，我还是决定写一写具体的面试内容和准备方法。</p>\n<p>推荐参考书目：《剑指offer》和《Cracking the Coding Interview》。前者是中文编写，篇幅更短小，适合完全没有外企面试经验的同学熟悉面试流程和面试重点。后者是英文编写，更详细，篇幅更长，适合有一定准备的同学阅读，熟悉一些术语的英语说法和更多面试中的细节。</p>\n<p>推荐论坛：<a href=\"https://www.1point3acres.com/bbs/\" target=\"_blank\" rel=\"noopener\">一亩三分地</a>。不仅有最新最全面经，还有装逼，打脸，互怼，感情生活，北美猥琐男等愉悦身心的顶级资讯，实乃居家旅行，刷题拿offer必备网站。</p>\n<p>建议找一两个朋友定期互相做mock interview,可以习惯一边说话一边写代码，同时习惯在白板上写代码，还可以互相给feedback来提升面试过程的表现。</p>\n<h3 id=\"Hard-Skill\"><a href=\"#Hard-Skill\" class=\"headerlink\" title=\"Hard Skill\"></a>Hard Skill</h3><p>Top tier公司都是要白板编程的，有的公司除了白板编程之外还有一些Behavior Question(BQ).白板编程主要考察算法和数据结构，new grad偶尔会问一些简单的 OOD(Object Oriented Design)问题。</p>\n<h4 id=\"算法和数据结构\"><a href=\"#算法和数据结构\" class=\"headerlink\" title=\"算法和数据结构\"></a>算法和数据结构</h4><blockquote>\n<p>究竟是我刷了题，还是题刷了我？</p>\n</blockquote>\n<p>刷题进公司一直是一个充满争议的话题，但是不得不承认，想要进top tier公司，对于大部分人来说，刷题是最有效的途径。这里给出我的刷题记录以供参考（我本人没有任何算法竞赛的经验）。</p>\n<p><img src=\"/images/jobhunt/leetcode0.png\" alt=\"刷题提交记录\"></p>\n<center>刷题提交记录</center>\n\n<p><img src=\"/images/jobhunt/leetcode3.png\" alt=\"总题数\"></p>\n<center>总题数</center>\n\n<p><img src=\"/images/jobhunt/leetcode1.png\" alt=\"周赛全球排名\"></p>\n<center>周赛全球排名</center>\n\n<p><img src=\"/images/jobhunt/leetcode2.png\" alt=\"Amazon面试前一周的周赛排名\"></p>\n<center>Amazon面试前一周的周赛排名</center>\n\n<p>对于没有竞赛基础的同学来说，在刚开始刷题的时候会感受到痛苦，这是十分正常的，事实上，大部分人在做到150题左右，就会开始量变到质变。</p>\n<p>在刷了一定数量的题之后，如果想要知道自己大概是个什么水平，可以参加 Leetcode 每周的周赛，日本时间周日早上11：30至13：00。周赛是个很好的检验自己水平的地方，同时也是个获得自信的好地方，因为大多数参赛选手实在是菜的可怕。</p>\n<p>注意：并不是说刷到这个数才能进这些公司，实际上我是刷了大量的无用功的，因为我刷到一半有点刷上瘾了，觉得做这些算法题是一件很快乐的事，没事干做两道，还因此荒废了研究。。。现在我觉得 leetcode 没太大意思，又跑去做 Hackerrank 玩，纯粹是出于个人兴趣才做了这么多。</p>\n<h4 id=\"OOD\"><a href=\"#OOD\" class=\"headerlink\" title=\"OOD\"></a>OOD</h4><p>《Cracking the Coding Interview》和<a href=\"https://www.1point3acres.com/bbs/\" target=\"_blank\" rel=\"noopener\">一亩三分地</a>里有很多OOD的例子，但是实话实说，遇到做过的才会，遇到没做过的还是挺蒙的。。。好在OOD并没有一个标准答案，你只要和面试官探讨出一个make sense的方案就行了。</p>\n<h4 id=\"Behavior-Questions\"><a href=\"#Behavior-Questions\" class=\"headerlink\" title=\"Behavior Questions\"></a>Behavior Questions</h4><p>Amazon一定会有BQ，面试之前照着<a href=\"https://www.amazon.jobs/en/principles\" target=\"_blank\" rel=\"noopener\">Leadership Principles</a>准备一些小故事。Google有可能有BQ，但是概率实在是很低。</p>\n<h3 id=\"Soft-Skill\"><a href=\"#Soft-Skill\" class=\"headerlink\" title=\"Soft Skill\"></a>Soft Skill</h3><p>不同公司会对面试官进行不同的训练，要求他们重视候选人的某些方面。但是总的来说，大多数面试官评价候选者的一个很重要标准是，他是否愿意和候选者作为同事共事。因此面试很大程度上，是模拟你和面试官在工作中共同解决一个问题，想象他是你的一个同事，抱着和同事交流的心态和态度去沟通，比较容易做到不卑不亢。</p>\n<h4 id=\"自信\"><a href=\"#自信\" class=\"headerlink\" title=\"自信\"></a>自信</h4><p>我自己有幸有过当面试官的经验，后来和许多其他的工程师聊的时候，发现大多数工程师都或多或少当过面试官。所以面试官其实很有可能就是一个普通的码农，面试的时候完全没有害怕的必要。</p>\n<p>其次，不自信在面试的时候绝对是红灯信号，背后的理由也很简单：如果你自己都不相信自己可以胜任这份工作，那么你如何说服你的面试官相信你？</p>\n<p>当然也要注意分清自信和自负的区别。你可以是一个geek，对自己的技术充满自信，但你不能是一个jerk，目空一切，一碰就炸，没人想要和jerk共事。如果你可以笑着和面试官讲一个你以前的经历中犯过的错，就像谈论自己小时候的一段逸闻一样，那么你已经展露出了充分的自信。当然，你也要记得讲自己是如何处理这个错的，获得了怎样的效果，毕竟这还是在面试中。</p>\n<h4 id=\"交流能力\"><a href=\"#交流能力\" class=\"headerlink\" title=\"交流能力\"></a>交流能力</h4><p>许多面试题都是模糊的，不明确的，并不是因为这个题有问题，而是面试官有意考察你在工作中的沟通能力。在听到一个问题之后，尽可能的问出一切你认为可能的问题，包括但不限于：输入是否遵循某种pattern(例如一个数组是否是排好序的数组)，如何处理非法的输入(包括空的输入和会overflow的输入)，如果要实现多个互相影响的功能，那么他们被调用的次数分别是怎样的（这会严重影响你对于整个类的设计）。</p>\n<p>同时，在整个思考过程中，尽量做到think aloud,把你的任何一点想法都说出来和面试官讨论，如果面试官没有提出异议，那说明你的思路是没有大的问题。同样，如果面试官明确表达了不同意，不要在自己的思路上纠结。谁对谁错不一定，但是面试官会认为你不能听取他人意见，沟通能力差。</p>\n<p>有些朋友表达了对自己语言能力的担忧，我认为其实对于大部分人来说，对英语水平的担忧完全是杞人忧天。语言只是交流的工具，只要达到了可以沟通的水平就可以了。Google Tokyo Search Team在 tech talk上开玩笑地说&quot;The official language here is non-native English&quot;。如果在沟通过程中有没听明白的部分，完全可以&quot;I beg your pardon&quot;或者自己复述一遍面试官的话，询问自己是否理解正确了。</p>\n<h4 id=\"与公司文化的契合程度\"><a href=\"#与公司文化的契合程度\" class=\"headerlink\" title=\"与公司文化的契合程度\"></a>与公司文化的契合程度</h4><p>许多公司会挑选契合公司文化的雇员，有的公司明确的给出了公司文化的要求，而有的公司隐藏的很深。面试的时候，面试者可以大概感受到公司的氛围。</p>\n<p>我个人的建议是，不要在面试的时候过度的伪装自己，因为求职是一个双向选择的过程，如果你去到了一个你无法适应的工作环境中，你的接下来几年都会相当的痛苦：你清醒的时间里大约有一半都在工作上，而你却不喜欢它。</p>\n<p>但是也有一些技巧可以帮助你扬长避短，体现你符合公司文化，或者说展现你的优势。例如，大多数情况下，合作项目中总会有那么几个摸鱼侠。如果你是个好好先生，容忍了摸鱼侠的存在，那么你就可以着重表达自己“Earn Trust”的部分，你的组员都相信你，或者说，至少你们没有撕破脸。如果你无法忍受摸鱼侠，和他们大吵一架并且把他们赶走了，你可以着重表达自己“Hire and Develop the Best”和“Insist on the Highest Standard”。当然你要注意自己的表达，不要让自己听起来像个自负的jerk。</p>\n<h2 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h2><p>找工作是一个小马过河的问题，最后的最后，我依旧想要强调，这两篇文章仅仅代表我个人的经验和看法，完全不保证客观性，准确性和及时性。这两篇文章仅作抛砖引玉，希望能给各位学弟学妹提供一点点微小的帮助，同时也希望其他看到这篇博客，有自己想法的朋友，也能够通过各种渠道发声。After all, the community is you and me and everyone.</p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cjysozxpi0007ia114jm0g755","category_id":"cjysozxpf0004ia11hyru5ekh","_id":"cjysozxpn000eia11m7m14gwi"},{"post_id":"cjysozxp70000ia119vymmv37","category_id":"cjysozxpf0004ia11hyru5ekh","_id":"cjysozxpp000iia1176y6wkkc"},{"post_id":"cjysozxpg0006ia11pnkkf6u0","category_id":"cjysozxpk0009ia11oijavl1g","_id":"cjysozxps000mia11dnd86jpd"},{"post_id":"cjysozxpo000hia11l5hqqwqk","category_id":"cjysozxpk0009ia11oijavl1g","_id":"cjysozxpu000sia11kkrlmlaf"},{"post_id":"cjysozxpq000kia114w1nk1p0","category_id":"cjysozxpo000gia11xphq4r7w","_id":"cjysozxpv000via11v9rbyh8n"},{"post_id":"cjysozxpl000cia11y1y9zpdu","category_id":"cjysozxpo000gia11xphq4r7w","_id":"cjysozxpv000wia11rvhaixb6"},{"post_id":"cjysozxps000oia11bgil099q","category_id":"cjysozxpk0009ia11oijavl1g","_id":"cjysozxpv000xia11pzd8no2n"},{"post_id":"cjysozxpt000ria11sofrzq51","category_id":"cjysozxpk0009ia11oijavl1g","_id":"cjysozxpw0010ia111zmyss6k"},{"post_id":"cjysozxpm000dia11jtrxfc2d","category_id":"cjysozxpt000pia11h96pahza","_id":"cjysozxpw0012ia11j8rvnht6"},{"post_id":"cjysozxpu000uia11jhp3fxih","category_id":"cjysozxpk0009ia11oijavl1g","_id":"cjysozxpw0014ia110q395aon"},{"post_id":"cjysozxqr0025ia116n2pvstn","category_id":"cjysozxpo000gia11xphq4r7w","_id":"cjysozxqv002bia11hvyp9t3b"},{"post_id":"cjysozxqs0026ia11u8tyfblj","category_id":"cjysozxpk0009ia11oijavl1g","_id":"cjysozxqv002dia117d0bfqh0"},{"post_id":"cjysozxqt0028ia11z348ig1s","category_id":"cjysozxpt000pia11h96pahza","_id":"cjysozxqw002fia11md6imm62"},{"post_id":"cjysozxqu002aia11bszo92kt","category_id":"cjysozxpo000gia11xphq4r7w","_id":"cjysozxqw002gia116x794kcv"}],"PostTag":[{"post_id":"cjysozxpi0007ia114jm0g755","tag_id":"cjysozxpg0005ia114tbiy9on","_id":"cjysozxpk000bia117bmunje6"},{"post_id":"cjysozxp70000ia119vymmv37","tag_id":"cjysozxpg0005ia114tbiy9on","_id":"cjysozxpp000jia11oiof02k4"},{"post_id":"cjysozxp70000ia119vymmv37","tag_id":"cjysozxpk000aia11eye235v9","_id":"cjysozxpr000lia11o30imzp9"},{"post_id":"cjysozxpc0002ia11t48v1pxw","tag_id":"cjysozxpn000fia114lkrr4dz","_id":"cjysozxpt000qia119ji5ewpq"},{"post_id":"cjysozxpg0006ia11pnkkf6u0","tag_id":"cjysozxps000nia112eaneeyk","_id":"cjysozxpw000zia116hhipkik"},{"post_id":"cjysozxpg0006ia11pnkkf6u0","tag_id":"cjysozxpu000tia11804e3jt8","_id":"cjysozxpw0011ia11mg74ivif"},{"post_id":"cjysozxpl000cia11y1y9zpdu","tag_id":"cjysozxpw000yia11y8q9pqlk","_id":"cjysozxpx0016ia11y2mzx7hl"},{"post_id":"cjysozxpl000cia11y1y9zpdu","tag_id":"cjysozxpw0013ia110hv6u2ef","_id":"cjysozxpx0017ia11us9f8j0s"},{"post_id":"cjysozxpm000dia11jtrxfc2d","tag_id":"cjysozxpx0015ia11xpstj02z","_id":"cjysozxpz001bia11ehye8tki"},{"post_id":"cjysozxpm000dia11jtrxfc2d","tag_id":"cjysozxpu000tia11804e3jt8","_id":"cjysozxq0001cia11ho4vlcja"},{"post_id":"cjysozxpm000dia11jtrxfc2d","tag_id":"cjysozxpy0019ia113h3ox1uk","_id":"cjysozxq0001eia11tcot8hpt"},{"post_id":"cjysozxpo000hia11l5hqqwqk","tag_id":"cjysozxps000nia112eaneeyk","_id":"cjysozxq1001gia116spyjq4z"},{"post_id":"cjysozxpo000hia11l5hqqwqk","tag_id":"cjysozxpu000tia11804e3jt8","_id":"cjysozxq1001hia11ccq646jj"},{"post_id":"cjysozxpq000kia114w1nk1p0","tag_id":"cjysozxpw0013ia110hv6u2ef","_id":"cjysozxq2001lia11pp2jxq8b"},{"post_id":"cjysozxpq000kia114w1nk1p0","tag_id":"cjysozxq1001iia11pv477et8","_id":"cjysozxq2001mia11me3trncv"},{"post_id":"cjysozxpq000kia114w1nk1p0","tag_id":"cjysozxq1001jia11g6uqyfrf","_id":"cjysozxq3001oia11kz5t10tp"},{"post_id":"cjysozxps000oia11bgil099q","tag_id":"cjysozxq2001kia11a3l7u08r","_id":"cjysozxq4001ria11o4i4246d"},{"post_id":"cjysozxps000oia11bgil099q","tag_id":"cjysozxpw0013ia110hv6u2ef","_id":"cjysozxq4001sia11l2au40tt"},{"post_id":"cjysozxps000oia11bgil099q","tag_id":"cjysozxq3001pia11qzueo0g4","_id":"cjysozxq5001uia111fh8bwj8"},{"post_id":"cjysozxpt000ria11sofrzq51","tag_id":"cjysozxq2001kia11a3l7u08r","_id":"cjysozxq7001xia11xz7auhv3"},{"post_id":"cjysozxpt000ria11sofrzq51","tag_id":"cjysozxpw0013ia110hv6u2ef","_id":"cjysozxq8001yia118vw5eyto"},{"post_id":"cjysozxpt000ria11sofrzq51","tag_id":"cjysozxq3001pia11qzueo0g4","_id":"cjysozxq80020ia112clczrnp"},{"post_id":"cjysozxpu000uia11jhp3fxih","tag_id":"cjysozxq2001kia11a3l7u08r","_id":"cjysozxq90022ia11c7eex3cr"},{"post_id":"cjysozxpu000uia11jhp3fxih","tag_id":"cjysozxpw0013ia110hv6u2ef","_id":"cjysozxq90023ia110csteiyd"},{"post_id":"cjysozxpu000uia11jhp3fxih","tag_id":"cjysozxq3001pia11qzueo0g4","_id":"cjysozxq90024ia115i2yaqv7"},{"post_id":"cjysozxqs0026ia11u8tyfblj","tag_id":"cjysozxps000nia112eaneeyk","_id":"cjysozxqu0029ia11ucibop9g"},{"post_id":"cjysozxqs0026ia11u8tyfblj","tag_id":"cjysozxpu000tia11804e3jt8","_id":"cjysozxqv002cia11vyca00cl"},{"post_id":"cjysozxqr0025ia116n2pvstn","tag_id":"cjysozxqt0027ia110qerssdt","_id":"cjysozxqw002iia11c3stam7g"},{"post_id":"cjysozxqr0025ia116n2pvstn","tag_id":"cjysozxqv002eia11ky3ti0bf","_id":"cjysozxqw002jia11ttjicevt"},{"post_id":"cjysozxqr0025ia116n2pvstn","tag_id":"cjysozxpx0015ia11xpstj02z","_id":"cjysozxqw002lia1155vmnlbo"},{"post_id":"cjysozxqt0028ia11z348ig1s","tag_id":"cjysozxpx0015ia11xpstj02z","_id":"cjysozxqx002nia11f5at79y5"},{"post_id":"cjysozxqt0028ia11z348ig1s","tag_id":"cjysozxpu000tia11804e3jt8","_id":"cjysozxqx002oia11cuu8j526"},{"post_id":"cjysozxqt0028ia11z348ig1s","tag_id":"cjysozxqw002hia11iv1jniyb","_id":"cjysozxqx002pia11xq8s9pn4"},{"post_id":"cjysozxqt0028ia11z348ig1s","tag_id":"cjysozxqw002kia1107btv8fq","_id":"cjysozxqx002qia11hbb8d1bu"},{"post_id":"cjysozxqu002aia11bszo92kt","tag_id":"cjysozxqt0027ia110qerssdt","_id":"cjysozxqx002ria113n2fq9yt"},{"post_id":"cjysozxqu002aia11bszo92kt","tag_id":"cjysozxqv002eia11ky3ti0bf","_id":"cjysozxqx002sia11l9gitk5f"},{"post_id":"cjysozxqu002aia11bszo92kt","tag_id":"cjysozxpx0015ia11xpstj02z","_id":"cjysozxqx002tia1118qygzi0"}],"Tag":[{"name":"Mathematics","_id":"cjysozxpg0005ia114tbiy9on"},{"name":"Statistics","_id":"cjysozxpk000aia11eye235v9"},{"name":"Mathmatics","_id":"cjysozxpn000fia114lkrr4dz"},{"name":"Computer Science","_id":"cjysozxps000nia112eaneeyk"},{"name":"Algorithm","_id":"cjysozxpu000tia11804e3jt8"},{"name":"Github","_id":"cjysozxpw000yia11y8q9pqlk"},{"name":"Engineer","_id":"cjysozxpw0013ia110hv6u2ef"},{"name":"Leetcode","_id":"cjysozxpx0015ia11xpstj02z"},{"name":"Coding","_id":"cjysozxpy0019ia113h3ox1uk"},{"name":"Java","_id":"cjysozxq1001iia11pv477et8"},{"name":"Multi Thread","_id":"cjysozxq1001jia11g6uqyfrf"},{"name":"Python","_id":"cjysozxq2001kia11a3l7u08r"},{"name":"Programming","_id":"cjysozxq3001pia11qzueo0g4"},{"name":"Chinese","_id":"cjysozxqt0027ia110qerssdt"},{"name":"Job Hunting","_id":"cjysozxqv002eia11ky3ti0bf"},{"name":"Graph Theory","_id":"cjysozxqw002hia11iv1jniyb"},{"name":"Sequence Algorithm","_id":"cjysozxqw002kia1107btv8fq"}]}}